const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPLocalSearchBox.BTMBDxqV.js","assets/chunks/framework.HaMb2pZs.js"])))=>i.map(i=>d[i]);
import{d as D,c as T,r as S,n as ne,o as y,a as De,t as ee,b as B,w as I,T as Bn,e as A,_ as $,u as Hn,i as vs,f as ps,g as $n,h as j,j as P,k,l as Je,m as En,p as Q,q as Fe,s as Wt,v as Ce,x as bt,y as Vn,z as ms,A as ys,F as re,B as ge,C as Ze,D as rr,E as Gt,G as O,H as Le,I as sr,J as Kt,K as ze,L as Yt,M as _s,N as ar,O as wn,P as Un,Q as or,R as Ct,S as ks,U as bs,V as Cs,W as lr,X as jn,Y as Ts,Z as Ss,$ as Es,a0 as ws,a1 as Ps,a2 as Is}from"./framework.HaMb2pZs.js";const xs=D({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(a){return(s,i)=>(y(),T("span",{class:ne(["VPBadge",s.type])},[S(s.$slots,"default",{},()=>[De(ee(s.text),1)])],2))}}),Ls={key:0,class:"VPBackdrop"},As=D({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(a){return(s,i)=>(y(),B(Bn,{name:"fade"},{default:I(()=>[s.show?(y(),T("div",Ls)):A("",!0)]),_:1}))}}),Ds=$(As,[["__scopeId","data-v-c79a1216"]]),Y=Hn;function Ms(a,s){let i,t=!1;return()=>{i&&clearTimeout(i),t?i=setTimeout(a,s):(a(),(t=!0)&&setTimeout(()=>t=!1,s))}}function Pn(a){return a.startsWith("/")?a:`/${a}`}function zn(a){const{pathname:s,search:i,hash:t,protocol:e}=new URL(a,"http://a.com");if(vs(a)||a.startsWith("#")||!e.startsWith("http")||!ps(s))return a;const{site:n}=Y(),r=s.endsWith("/")||s.endsWith(".html")?a:a.replace(/(?:(^\.+)\/)?.*$/,`$1${s.replace(/(\.md)?$/,n.value.cleanUrls?"":".html")}${i}${t}`);return $n(r)}function Tt({correspondingLink:a=!1}={}){const{site:s,localeIndex:i,page:t,theme:e,hash:n}=Y(),r=j(()=>{var l,u;return{label:(l=s.value.locales[i.value])==null?void 0:l.label,link:((u=s.value.locales[i.value])==null?void 0:u.link)||(i.value==="root"?"/":`/${i.value}/`)}});return{localeLinks:j(()=>Object.entries(s.value.locales).flatMap(([l,u])=>r.value.label===u.label?[]:{text:u.label,link:Os(u.link||(l==="root"?"/":`/${l}/`),e.value.i18nRouting!==!1&&a,t.value.relativePath.slice(r.value.link.length-1),!s.value.cleanUrls)+n.value})),currentLang:r}}function Os(a,s,i,t){return s?a.replace(/\/$/,"")+Pn(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,t?".html":"")):a}const Rs={class:"NotFound"},Ns={class:"code"},Fs={class:"title"},Bs={class:"quote"},Hs={class:"action"},$s=["href","aria-label"],Vs=D({__name:"NotFound",setup(a){const{theme:s}=Y(),{currentLang:i}=Tt();return(t,e)=>{var n,r,o,l,u;return y(),T("div",Rs,[P("p",Ns,ee(((n=k(s).notFound)==null?void 0:n.code)??"404"),1),P("h1",Fs,ee(((r=k(s).notFound)==null?void 0:r.title)??"PAGE NOT FOUND"),1),e[0]||(e[0]=P("div",{class:"divider"},null,-1)),P("blockquote",Bs,ee(((o=k(s).notFound)==null?void 0:o.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),P("div",Hs,[P("a",{class:"link",href:k($n)(k(i).link),"aria-label":((l=k(s).notFound)==null?void 0:l.linkLabel)??"go to home"},ee(((u=k(s).notFound)==null?void 0:u.linkText)??"Take me home"),9,$s)])])}}}),Us=$(Vs,[["__scopeId","data-v-d6be1790"]]);function ur(a,s){if(Array.isArray(a))return Dt(a);if(a==null)return[];s=Pn(s);const i=Object.keys(a).sort((e,n)=>n.split("/").length-e.split("/").length).find(e=>s.startsWith(Pn(e))),t=i?a[i]:[];return Array.isArray(t)?Dt(t):Dt(t.items,t.base)}function js(a){const s=[];let i=0;for(const t in a){const e=a[t];if(e.items){i=s.push(e);continue}s[i]||s.push({items:[]}),s[i].items.push(e)}return s}function zs(a){const s=[];function i(t){for(const e of t)e.text&&e.link&&s.push({text:e.text,link:e.link,docFooterText:e.docFooterText}),e.items&&i(e.items)}return i(a),s}function In(a,s){return Array.isArray(s)?s.some(i=>In(a,i)):Je(a,s.link)?!0:s.items?In(a,s.items):!1}function Dt(a,s){return[...a].map(i=>{const t={...i},e=t.base||s;return e&&t.link&&(t.link=e+t.link),t.items&&(t.items=Dt(t.items,e)),t})}function He(){const{frontmatter:a,page:s,theme:i}=Y(),t=En("(min-width: 960px)"),e=Q(!1),n=j(()=>{const p=i.value.sidebar,m=s.value.relativePath;return p?ur(p,m):[]}),r=Q(n.value);Fe(n,(p,m)=>{JSON.stringify(p)!==JSON.stringify(m)&&(r.value=n.value)});const o=j(()=>a.value.sidebar!==!1&&r.value.length>0&&a.value.layout!=="home"),l=j(()=>u?a.value.aside==null?i.value.aside==="left":a.value.aside==="left":!1),u=j(()=>a.value.layout==="home"?!1:a.value.aside!=null?!!a.value.aside:i.value.aside!==!1),c=j(()=>o.value&&t.value),f=j(()=>o.value?js(r.value):[]);function d(){e.value=!0}function v(){e.value=!1}function g(){e.value?v():d()}return{isOpen:e,sidebar:r,sidebarGroups:f,hasSidebar:o,hasAside:u,leftAside:l,isSidebarEnabled:c,open:d,close:v,toggle:g}}function Ws(a,s){let i;Wt(()=>{i=a.value?document.activeElement:void 0}),Ce(()=>{window.addEventListener("keyup",t)}),bt(()=>{window.removeEventListener("keyup",t)});function t(e){e.key==="Escape"&&a.value&&(s(),i==null||i.focus())}}function Gs(a){const{page:s,hash:i}=Y(),t=Q(!1),e=j(()=>a.value.collapsed!=null),n=j(()=>!!a.value.link),r=Q(!1),o=()=>{r.value=Je(s.value.relativePath,a.value.link)};Fe([s,a,i],o),Ce(o);const l=j(()=>r.value?!0:a.value.items?In(s.value.relativePath,a.value.items):!1),u=j(()=>!!(a.value.items&&a.value.items.length));Wt(()=>{t.value=!!(e.value&&a.value.collapsed)}),Vn(()=>{(r.value||l.value)&&(t.value=!1)});function c(){e.value&&(t.value=!t.value)}return{collapsed:t,collapsible:e,isLink:n,isActiveLink:r,hasActiveLink:l,hasChildren:u,toggle:c}}function Ks(){const{hasSidebar:a}=He(),s=En("(min-width: 960px)"),i=En("(min-width: 1280px)");return{isAsideEnabled:j(()=>!i.value&&!s.value?!1:a.value?i.value:s.value)}}const Ys=/\b(?:VPBadge|header-anchor|footnote-ref|ignore-header)\b/,xn=[];function cr(a){return typeof a.outline=="object"&&!Array.isArray(a.outline)&&a.outline.label||a.outlineTitle||"On this page"}function Wn(a){const s=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(i=>i.id&&i.hasChildNodes()).map(i=>{const t=Number(i.tagName[1]);return{element:i,title:Xs(i),link:"#"+i.id,level:t}});return qs(s,a)}function Xs(a){let s="";for(const i of a.childNodes)if(i.nodeType===1){if(Ys.test(i.className))continue;s+=i.textContent}else i.nodeType===3&&(s+=i.textContent);return s.trim()}function qs(a,s){if(s===!1)return[];const i=(typeof s=="object"&&!Array.isArray(s)?s.level:s)||2,[t,e]=typeof i=="number"?[i,i]:i==="deep"?[2,6]:i;return Qs(a,t,e)}function Js(a,s){const{isAsideEnabled:i}=Ks(),t=Ms(n,100);let e=null;Ce(()=>{requestAnimationFrame(n),window.addEventListener("scroll",t)}),ms(()=>{r(location.hash)}),bt(()=>{window.removeEventListener("scroll",t)});function n(){if(!i.value)return;const o=window.scrollY,l=window.innerHeight,u=document.body.offsetHeight,c=Math.abs(o+l-u)<1,f=xn.map(({element:v,link:g})=>({link:g,top:Zs(v)})).filter(({top:v})=>!Number.isNaN(v)).sort((v,g)=>v.top-g.top);if(!f.length){r(null);return}if(o<1){r(null);return}if(c){r(f[f.length-1].link);return}let d=null;for(const{link:v,top:g}of f){if(g>o+ys()+4)break;d=v}r(d)}function r(o){e&&e.classList.remove("active"),o==null?e=null:e=a.value.querySelector(`a[href="${decodeURIComponent(o)}"]`);const l=e;l?(l.classList.add("active"),s.value.style.top=l.offsetTop+39+"px",s.value.style.opacity="1"):(s.value.style.top="33px",s.value.style.opacity="0")}}function Zs(a){let s=0;for(;a!==document.body;){if(a===null)return NaN;s+=a.offsetTop,a=a.offsetParent}return s}function Qs(a,s,i){xn.length=0;const t=[],e=[];return a.forEach(n=>{const r={...n,children:[]};let o=e[e.length-1];for(;o&&o.level>=r.level;)e.pop(),o=e[e.length-1];if(r.element.classList.contains("ignore-header")||o&&"shouldIgnore"in o){e.push({level:r.level,shouldIgnore:!0});return}r.level>i||r.level<s||(xn.push({element:r.element,link:r.link}),o?o.children.push(r):t.push(r),e.push(r))}),t}const ea=["href","title"],ta=D({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(a){function s({target:i}){const t=i.href.split("#")[1],e=document.getElementById(decodeURIComponent(t));e==null||e.focus({preventScroll:!0})}return(i,t)=>{const e=Ze("VPDocOutlineItem",!0);return y(),T("ul",{class:ne(["VPDocOutlineItem",i.root?"root":"nested"])},[(y(!0),T(re,null,ge(i.headers,({children:n,link:r,title:o})=>(y(),T("li",null,[P("a",{class:"outline-link",href:r,onClick:s,title:o},ee(o),9,ea),n!=null&&n.length?(y(),B(e,{key:0,headers:n},null,8,["headers"])):A("",!0)]))),256))],2)}}}),fr=$(ta,[["__scopeId","data-v-b933a997"]]),na={class:"content"},ia={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},ra=D({__name:"VPDocAsideOutline",setup(a){const{frontmatter:s,theme:i}=Y(),t=rr([]);Gt(()=>{t.value=Wn(s.value.outline??i.value.outline)});const e=Q(),n=Q();return Js(e,n),(r,o)=>(y(),T("nav",{"aria-labelledby":"doc-outline-aria-label",class:ne(["VPDocAsideOutline",{"has-outline":t.value.length>0}]),ref_key:"container",ref:e},[P("div",na,[P("div",{class:"outline-marker",ref_key:"marker",ref:n},null,512),P("div",ia,ee(k(cr)(k(i))),1),O(fr,{headers:t.value,root:!0},null,8,["headers"])])],2))}}),sa=$(ra,[["__scopeId","data-v-a5bbad30"]]),aa={class:"VPDocAsideCarbonAds"},oa=D({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(a){const s=()=>null;return(i,t)=>(y(),T("div",aa,[O(k(s),{"carbon-ads":i.carbonAds},null,8,["carbon-ads"])]))}}),la={class:"VPDocAside"},ua=D({__name:"VPDocAside",setup(a){const{theme:s}=Y();return(i,t)=>(y(),T("div",la,[S(i.$slots,"aside-top",{},void 0,!0),S(i.$slots,"aside-outline-before",{},void 0,!0),O(sa),S(i.$slots,"aside-outline-after",{},void 0,!0),t[0]||(t[0]=P("div",{class:"spacer"},null,-1)),S(i.$slots,"aside-ads-before",{},void 0,!0),k(s).carbonAds?(y(),B(oa,{key:0,"carbon-ads":k(s).carbonAds},null,8,["carbon-ads"])):A("",!0),S(i.$slots,"aside-ads-after",{},void 0,!0),S(i.$slots,"aside-bottom",{},void 0,!0)]))}}),ca=$(ua,[["__scopeId","data-v-3f215769"]]);function fa(){const{theme:a,page:s}=Y();return j(()=>{const{text:i="Edit this page",pattern:t=""}=a.value.editLink||{};let e;return typeof t=="function"?e=t(s.value):e=t.replace(/:path/g,s.value.filePath),{url:e,text:i}})}function ha(){const{page:a,theme:s,frontmatter:i}=Y();return j(()=>{var u,c,f,d,v,g,p,m;const t=ur(s.value.sidebar,a.value.relativePath),e=zs(t),n=da(e,w=>w.link.replace(/[?#].*$/,"")),r=n.findIndex(w=>Je(a.value.relativePath,w.link)),o=((u=s.value.docFooter)==null?void 0:u.prev)===!1&&!i.value.prev||i.value.prev===!1,l=((c=s.value.docFooter)==null?void 0:c.next)===!1&&!i.value.next||i.value.next===!1;return{prev:o?void 0:{text:(typeof i.value.prev=="string"?i.value.prev:typeof i.value.prev=="object"?i.value.prev.text:void 0)??((f=n[r-1])==null?void 0:f.docFooterText)??((d=n[r-1])==null?void 0:d.text),link:(typeof i.value.prev=="object"?i.value.prev.link:void 0)??((v=n[r-1])==null?void 0:v.link)},next:l?void 0:{text:(typeof i.value.next=="string"?i.value.next:typeof i.value.next=="object"?i.value.next.text:void 0)??((g=n[r+1])==null?void 0:g.docFooterText)??((p=n[r+1])==null?void 0:p.text),link:(typeof i.value.next=="object"?i.value.next.link:void 0)??((m=n[r+1])==null?void 0:m.link)}}})}function da(a,s){const i=new Set;return a.filter(t=>{const e=s(t);return i.has(e)?!1:i.add(e)})}const Ae=D({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(a){const s=a,i=j(()=>s.tag??(s.href?"a":"span")),t=j(()=>s.href&&sr.test(s.href)||s.target==="_blank");return(e,n)=>(y(),B(Le(i.value),{class:ne(["VPLink",{link:e.href,"vp-external-link-icon":t.value,"no-icon":e.noIcon}]),href:e.href?k(zn)(e.href):void 0,target:e.target??(t.value?"_blank":void 0),rel:e.rel??(t.value?"noreferrer":void 0)},{default:I(()=>[S(e.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),ga={class:"VPLastUpdated"},va=["datetime"],pa=D({__name:"VPDocFooterLastUpdated",setup(a){const{theme:s,page:i,lang:t}=Y(),e=j(()=>new Date(i.value.lastUpdated)),n=j(()=>e.value.toISOString()),r=Q("");return Ce(()=>{Wt(()=>{var o,l,u;r.value=new Intl.DateTimeFormat((l=(o=s.value.lastUpdated)==null?void 0:o.formatOptions)!=null&&l.forceLocale?t.value:void 0,((u=s.value.lastUpdated)==null?void 0:u.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(e.value)})}),(o,l)=>{var u;return y(),T("p",ga,[De(ee(((u=k(s).lastUpdated)==null?void 0:u.text)||k(s).lastUpdatedText||"Last updated")+": ",1),P("time",{datetime:n.value},ee(r.value),9,va)])}}}),ma=$(pa,[["__scopeId","data-v-e98dd255"]]),ya={key:0,class:"VPDocFooter"},_a={key:0,class:"edit-info"},ka={key:0,class:"edit-link"},ba={key:1,class:"last-updated"},Ca={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},Ta={class:"pager"},Sa=["innerHTML"],Ea=["innerHTML"],wa={class:"pager"},Pa=["innerHTML"],Ia=["innerHTML"],xa=D({__name:"VPDocFooter",setup(a){const{theme:s,page:i,frontmatter:t}=Y(),e=fa(),n=ha(),r=j(()=>s.value.editLink&&t.value.editLink!==!1),o=j(()=>i.value.lastUpdated),l=j(()=>r.value||o.value||n.value.prev||n.value.next);return(u,c)=>{var f,d,v,g;return l.value?(y(),T("footer",ya,[S(u.$slots,"doc-footer-before",{},void 0,!0),r.value||o.value?(y(),T("div",_a,[r.value?(y(),T("div",ka,[O(Ae,{class:"edit-link-button",href:k(e).url,"no-icon":!0},{default:I(()=>[c[0]||(c[0]=P("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),De(" "+ee(k(e).text),1)]),_:1},8,["href"])])):A("",!0),o.value?(y(),T("div",ba,[O(ma)])):A("",!0)])):A("",!0),(f=k(n).prev)!=null&&f.link||(d=k(n).next)!=null&&d.link?(y(),T("nav",Ca,[c[1]||(c[1]=P("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),P("div",Ta,[(v=k(n).prev)!=null&&v.link?(y(),B(Ae,{key:0,class:"pager-link prev",href:k(n).prev.link},{default:I(()=>{var p;return[P("span",{class:"desc",innerHTML:((p=k(s).docFooter)==null?void 0:p.prev)||"Previous page"},null,8,Sa),P("span",{class:"title",innerHTML:k(n).prev.text},null,8,Ea)]}),_:1},8,["href"])):A("",!0)]),P("div",wa,[(g=k(n).next)!=null&&g.link?(y(),B(Ae,{key:0,class:"pager-link next",href:k(n).next.link},{default:I(()=>{var p;return[P("span",{class:"desc",innerHTML:((p=k(s).docFooter)==null?void 0:p.next)||"Next page"},null,8,Pa),P("span",{class:"title",innerHTML:k(n).next.text},null,8,Ia)]}),_:1},8,["href"])):A("",!0)])])):A("",!0)])):A("",!0)}}}),La=$(xa,[["__scopeId","data-v-e257564d"]]),Aa={class:"container"},Da={class:"aside-container"},Ma={class:"aside-content"},Oa={class:"content"},Ra={class:"content-container"},Na={class:"main"},Fa=D({__name:"VPDoc",setup(a){const{theme:s}=Y(),i=Kt(),{hasSidebar:t,hasAside:e,leftAside:n}=He(),r=j(()=>i.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(o,l)=>{const u=Ze("Content");return y(),T("div",{class:ne(["VPDoc",{"has-sidebar":k(t),"has-aside":k(e)}])},[S(o.$slots,"doc-top",{},void 0,!0),P("div",Aa,[k(e)?(y(),T("div",{key:0,class:ne(["aside",{"left-aside":k(n)}])},[l[0]||(l[0]=P("div",{class:"aside-curtain"},null,-1)),P("div",Da,[P("div",Ma,[O(ca,null,{"aside-top":I(()=>[S(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":I(()=>[S(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":I(()=>[S(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":I(()=>[S(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":I(()=>[S(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":I(()=>[S(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):A("",!0),P("div",Oa,[P("div",Ra,[S(o.$slots,"doc-before",{},void 0,!0),P("main",Na,[O(u,{class:ne(["vp-doc",[r.value,k(s).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),O(La,null,{"doc-footer-before":I(()=>[S(o.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),S(o.$slots,"doc-after",{},void 0,!0)])])]),S(o.$slots,"doc-bottom",{},void 0,!0)],2)}}}),Ba=$(Fa,[["__scopeId","data-v-39a288b8"]]),Ha=D({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(a){const s=a,i=j(()=>s.href&&sr.test(s.href)),t=j(()=>s.tag||(s.href?"a":"button"));return(e,n)=>(y(),B(Le(t.value),{class:ne(["VPButton",[e.size,e.theme]]),href:e.href?k(zn)(e.href):void 0,target:s.target??(i.value?"_blank":void 0),rel:s.rel??(i.value?"noreferrer":void 0)},{default:I(()=>[De(ee(e.text),1)]),_:1},8,["class","href","target","rel"]))}}),$a=$(Ha,[["__scopeId","data-v-fa7799d5"]]),Va=["src","alt"],Ua=D({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(a){return(s,i)=>{const t=Ze("VPImage",!0);return s.image?(y(),T(re,{key:0},[typeof s.image=="string"||"src"in s.image?(y(),T("img",ze({key:0,class:"VPImage"},typeof s.image=="string"?s.$attrs:{...s.image,...s.$attrs},{src:k($n)(typeof s.image=="string"?s.image:s.image.src),alt:s.alt??(typeof s.image=="string"?"":s.image.alt||"")}),null,16,Va)):(y(),T(re,{key:1},[O(t,ze({class:"dark",image:s.image.dark,alt:s.image.alt},s.$attrs),null,16,["image","alt"]),O(t,ze({class:"light",image:s.image.light,alt:s.image.alt},s.$attrs),null,16,["image","alt"])],64))],64)):A("",!0)}}}),Mt=$(Ua,[["__scopeId","data-v-8426fc1a"]]),ja={class:"container"},za={class:"main"},Wa={class:"heading"},Ga=["innerHTML"],Ka=["innerHTML"],Ya=["innerHTML"],Xa={key:0,class:"actions"},qa={key:0,class:"image"},Ja={class:"image-container"},Za=D({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(a){const s=Yt("hero-image-slot-exists");return(i,t)=>(y(),T("div",{class:ne(["VPHero",{"has-image":i.image||k(s)}])},[P("div",ja,[P("div",za,[S(i.$slots,"home-hero-info-before",{},void 0,!0),S(i.$slots,"home-hero-info",{},()=>[P("h1",Wa,[i.name?(y(),T("span",{key:0,innerHTML:i.name,class:"name clip"},null,8,Ga)):A("",!0),i.text?(y(),T("span",{key:1,innerHTML:i.text,class:"text"},null,8,Ka)):A("",!0)]),i.tagline?(y(),T("p",{key:0,innerHTML:i.tagline,class:"tagline"},null,8,Ya)):A("",!0)],!0),S(i.$slots,"home-hero-info-after",{},void 0,!0),i.actions?(y(),T("div",Xa,[(y(!0),T(re,null,ge(i.actions,e=>(y(),T("div",{key:e.link,class:"action"},[O($a,{tag:"a",size:"medium",theme:e.theme,text:e.text,href:e.link,target:e.target,rel:e.rel},null,8,["theme","text","href","target","rel"])]))),128))])):A("",!0),S(i.$slots,"home-hero-actions-after",{},void 0,!0)]),i.image||k(s)?(y(),T("div",qa,[P("div",Ja,[t[0]||(t[0]=P("div",{class:"image-bg"},null,-1)),S(i.$slots,"home-hero-image",{},()=>[i.image?(y(),B(Mt,{key:0,class:"image-src",image:i.image},null,8,["image"])):A("",!0)],!0)])])):A("",!0)])],2))}}),Qa=$(Za,[["__scopeId","data-v-4f9c455b"]]),eo=D({__name:"VPHomeHero",setup(a){const{frontmatter:s}=Y();return(i,t)=>k(s).hero?(y(),B(Qa,{key:0,class:"VPHomeHero",name:k(s).hero.name,text:k(s).hero.text,tagline:k(s).hero.tagline,image:k(s).hero.image,actions:k(s).hero.actions},{"home-hero-info-before":I(()=>[S(i.$slots,"home-hero-info-before")]),"home-hero-info":I(()=>[S(i.$slots,"home-hero-info")]),"home-hero-info-after":I(()=>[S(i.$slots,"home-hero-info-after")]),"home-hero-actions-after":I(()=>[S(i.$slots,"home-hero-actions-after")]),"home-hero-image":I(()=>[S(i.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):A("",!0)}}),to={class:"box"},no={key:0,class:"icon"},io=["innerHTML"],ro=["innerHTML"],so=["innerHTML"],ao={key:4,class:"link-text"},oo={class:"link-text-value"},lo=D({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(a){return(s,i)=>(y(),B(Ae,{class:"VPFeature",href:s.link,rel:s.rel,target:s.target,"no-icon":!0,tag:s.link?"a":"div"},{default:I(()=>[P("article",to,[typeof s.icon=="object"&&s.icon.wrap?(y(),T("div",no,[O(Mt,{image:s.icon,alt:s.icon.alt,height:s.icon.height||48,width:s.icon.width||48},null,8,["image","alt","height","width"])])):typeof s.icon=="object"?(y(),B(Mt,{key:1,image:s.icon,alt:s.icon.alt,height:s.icon.height||48,width:s.icon.width||48},null,8,["image","alt","height","width"])):s.icon?(y(),T("div",{key:2,class:"icon",innerHTML:s.icon},null,8,io)):A("",!0),P("h2",{class:"title",innerHTML:s.title},null,8,ro),s.details?(y(),T("p",{key:3,class:"details",innerHTML:s.details},null,8,so)):A("",!0),s.linkText?(y(),T("div",ao,[P("p",oo,[De(ee(s.linkText)+" ",1),i[0]||(i[0]=P("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):A("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),uo=$(lo,[["__scopeId","data-v-a3976bdc"]]),co={key:0,class:"VPFeatures"},fo={class:"container"},ho={class:"items"},go=D({__name:"VPFeatures",props:{features:{}},setup(a){const s=a,i=j(()=>{const t=s.features.length;if(t){if(t===2)return"grid-2";if(t===3)return"grid-3";if(t%3===0)return"grid-6";if(t>3)return"grid-4"}else return});return(t,e)=>t.features?(y(),T("div",co,[P("div",fo,[P("div",ho,[(y(!0),T(re,null,ge(t.features,n=>(y(),T("div",{key:n.title,class:ne(["item",[i.value]])},[O(uo,{icon:n.icon,title:n.title,details:n.details,link:n.link,"link-text":n.linkText,rel:n.rel,target:n.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):A("",!0)}}),vo=$(go,[["__scopeId","data-v-a6181336"]]),po=D({__name:"VPHomeFeatures",setup(a){const{frontmatter:s}=Y();return(i,t)=>k(s).features?(y(),B(vo,{key:0,class:"VPHomeFeatures",features:k(s).features},null,8,["features"])):A("",!0)}}),mo=D({__name:"VPHomeContent",setup(a){const{width:s}=_s({initialWidth:0,includeScrollbar:!1});return(i,t)=>(y(),T("div",{class:"vp-doc container",style:ar(k(s)?{"--vp-offset":`calc(50% - ${k(s)/2}px)`}:{})},[S(i.$slots,"default",{},void 0,!0)],4))}}),yo=$(mo,[["__scopeId","data-v-8e2d4988"]]),_o=D({__name:"VPHome",setup(a){const{frontmatter:s,theme:i}=Y();return(t,e)=>{const n=Ze("Content");return y(),T("div",{class:ne(["VPHome",{"external-link-icon-enabled":k(i).externalLinkIcon}])},[S(t.$slots,"home-hero-before",{},void 0,!0),O(eo,null,{"home-hero-info-before":I(()=>[S(t.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":I(()=>[S(t.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":I(()=>[S(t.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":I(()=>[S(t.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":I(()=>[S(t.$slots,"home-hero-image",{},void 0,!0)]),_:3}),S(t.$slots,"home-hero-after",{},void 0,!0),S(t.$slots,"home-features-before",{},void 0,!0),O(po),S(t.$slots,"home-features-after",{},void 0,!0),k(s).markdownStyles!==!1?(y(),B(yo,{key:0},{default:I(()=>[O(n)]),_:1})):(y(),B(n,{key:1}))],2)}}}),ko=$(_o,[["__scopeId","data-v-8b561e3d"]]),bo={},Co={class:"VPPage"};function To(a,s){const i=Ze("Content");return y(),T("div",Co,[S(a.$slots,"page-top"),O(i),S(a.$slots,"page-bottom")])}const So=$(bo,[["render",To]]),Eo=D({__name:"VPContent",setup(a){const{page:s,frontmatter:i}=Y(),{hasSidebar:t}=He();return(e,n)=>(y(),T("div",{class:ne(["VPContent",{"has-sidebar":k(t),"is-home":k(i).layout==="home"}]),id:"VPContent"},[k(s).isNotFound?S(e.$slots,"not-found",{key:0},()=>[O(Us)],!0):k(i).layout==="page"?(y(),B(So,{key:1},{"page-top":I(()=>[S(e.$slots,"page-top",{},void 0,!0)]),"page-bottom":I(()=>[S(e.$slots,"page-bottom",{},void 0,!0)]),_:3})):k(i).layout==="home"?(y(),B(ko,{key:2},{"home-hero-before":I(()=>[S(e.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":I(()=>[S(e.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":I(()=>[S(e.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":I(()=>[S(e.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":I(()=>[S(e.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":I(()=>[S(e.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":I(()=>[S(e.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":I(()=>[S(e.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":I(()=>[S(e.$slots,"home-features-after",{},void 0,!0)]),_:3})):k(i).layout&&k(i).layout!=="doc"?(y(),B(Le(k(i).layout),{key:3})):(y(),B(Ba,{key:4},{"doc-top":I(()=>[S(e.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":I(()=>[S(e.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":I(()=>[S(e.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":I(()=>[S(e.$slots,"doc-before",{},void 0,!0)]),"doc-after":I(()=>[S(e.$slots,"doc-after",{},void 0,!0)]),"aside-top":I(()=>[S(e.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":I(()=>[S(e.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":I(()=>[S(e.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":I(()=>[S(e.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":I(()=>[S(e.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":I(()=>[S(e.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),wo=$(Eo,[["__scopeId","data-v-1428d186"]]),Po={class:"container"},Io=["innerHTML"],xo=["innerHTML"],Lo=D({__name:"VPFooter",setup(a){const{theme:s,frontmatter:i}=Y(),{hasSidebar:t}=He();return(e,n)=>k(s).footer&&k(i).footer!==!1?(y(),T("footer",{key:0,class:ne(["VPFooter",{"has-sidebar":k(t)}])},[P("div",Po,[k(s).footer.message?(y(),T("p",{key:0,class:"message",innerHTML:k(s).footer.message},null,8,Io)):A("",!0),k(s).footer.copyright?(y(),T("p",{key:1,class:"copyright",innerHTML:k(s).footer.copyright},null,8,xo)):A("",!0)])],2)):A("",!0)}}),Ao=$(Lo,[["__scopeId","data-v-e315a0ad"]]);function Do(){const{theme:a,frontmatter:s}=Y(),i=rr([]),t=j(()=>i.value.length>0);return Gt(()=>{i.value=Wn(s.value.outline??a.value.outline)}),{headers:i,hasLocalNav:t}}const Mo={class:"menu-text"},Oo={class:"header"},Ro={class:"outline"},No=D({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(a){const s=a,{theme:i}=Y(),t=Q(!1),e=Q(0),n=Q(),r=Q();function o(f){var d;(d=n.value)!=null&&d.contains(f.target)||(t.value=!1)}Fe(t,f=>{if(f){document.addEventListener("click",o);return}document.removeEventListener("click",o)}),wn("Escape",()=>{t.value=!1}),Gt(()=>{t.value=!1});function l(){t.value=!t.value,e.value=window.innerHeight+Math.min(window.scrollY-s.navHeight,0)}function u(f){f.target.classList.contains("outline-link")&&(r.value&&(r.value.style.transition="none"),Un(()=>{t.value=!1}))}function c(){t.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(f,d)=>(y(),T("div",{class:"VPLocalNavOutlineDropdown",style:ar({"--vp-vh":e.value+"px"}),ref_key:"main",ref:n},[f.headers.length>0?(y(),T("button",{key:0,onClick:l,class:ne({open:t.value})},[P("span",Mo,ee(k(cr)(k(i))),1),d[0]||(d[0]=P("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(y(),T("button",{key:1,onClick:c},ee(k(i).returnToTopLabel||"Return to top"),1)),O(Bn,{name:"flyout"},{default:I(()=>[t.value?(y(),T("div",{key:0,ref_key:"items",ref:r,class:"items",onClick:u},[P("div",Oo,[P("a",{class:"top-link",href:"#",onClick:c},ee(k(i).returnToTopLabel||"Return to top"),1)]),P("div",Ro,[O(fr,{headers:f.headers},null,8,["headers"])])],512)):A("",!0)]),_:1})],4))}}),Fo=$(No,[["__scopeId","data-v-8a42e2b4"]]),Bo={class:"container"},Ho=["aria-expanded"],$o={class:"menu-text"},Vo=D({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(a){const{theme:s,frontmatter:i}=Y(),{hasSidebar:t}=He(),{headers:e}=Do(),{y:n}=or(),r=Q(0);Ce(()=>{r.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),Gt(()=>{e.value=Wn(i.value.outline??s.value.outline)});const o=j(()=>e.value.length===0),l=j(()=>o.value&&!t.value),u=j(()=>({VPLocalNav:!0,"has-sidebar":t.value,empty:o.value,fixed:l.value}));return(c,f)=>k(i).layout!=="home"&&(!l.value||k(n)>=r.value)?(y(),T("div",{key:0,class:ne(u.value)},[P("div",Bo,[k(t)?(y(),T("button",{key:0,class:"menu","aria-expanded":c.open,"aria-controls":"VPSidebarNav",onClick:f[0]||(f[0]=d=>c.$emit("open-menu"))},[f[1]||(f[1]=P("span",{class:"vpi-align-left menu-icon"},null,-1)),P("span",$o,ee(k(s).sidebarMenuLabel||"Menu"),1)],8,Ho)):A("",!0),O(Fo,{headers:k(e),navHeight:r.value},null,8,["headers","navHeight"])])],2)):A("",!0)}}),Uo=$(Vo,[["__scopeId","data-v-a6f0e41e"]]);function jo(){const a=Q(!1);function s(){a.value=!0,window.addEventListener("resize",e)}function i(){a.value=!1,window.removeEventListener("resize",e)}function t(){a.value?i():s()}function e(){window.outerWidth>=768&&i()}const n=Kt();return Fe(()=>n.path,i),{isScreenOpen:a,openScreen:s,closeScreen:i,toggleScreen:t}}const zo={},Wo={class:"VPSwitch",type:"button",role:"switch"},Go={class:"check"},Ko={key:0,class:"icon"};function Yo(a,s){return y(),T("button",Wo,[P("span",Go,[a.$slots.default?(y(),T("span",Ko,[S(a.$slots,"default",{},void 0,!0)])):A("",!0)])])}const Xo=$(zo,[["render",Yo],["__scopeId","data-v-1d5665e3"]]),qo=D({__name:"VPSwitchAppearance",setup(a){const{isDark:s,theme:i}=Y(),t=Yt("toggle-appearance",()=>{s.value=!s.value}),e=Q("");return Vn(()=>{e.value=s.value?i.value.lightModeSwitchTitle||"Switch to light theme":i.value.darkModeSwitchTitle||"Switch to dark theme"}),(n,r)=>(y(),B(Xo,{title:e.value,class:"VPSwitchAppearance","aria-checked":k(s),onClick:k(t)},{default:I(()=>r[0]||(r[0]=[P("span",{class:"vpi-sun sun"},null,-1),P("span",{class:"vpi-moon moon"},null,-1)])),_:1},8,["title","aria-checked","onClick"]))}}),Gn=$(qo,[["__scopeId","data-v-5337faa4"]]),Jo={key:0,class:"VPNavBarAppearance"},Zo=D({__name:"VPNavBarAppearance",setup(a){const{site:s}=Y();return(i,t)=>k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),T("div",Jo,[O(Gn)])):A("",!0)}}),Qo=$(Zo,[["__scopeId","data-v-6c893767"]]),Kn=Q();let hr=!1,ln=0;function el(a){const s=Q(!1);if(Ct){!hr&&tl(),ln++;const i=Fe(Kn,t=>{var e,n,r;t===a.el.value||(e=a.el.value)!=null&&e.contains(t)?(s.value=!0,(n=a.onFocus)==null||n.call(a)):(s.value=!1,(r=a.onBlur)==null||r.call(a))});bt(()=>{i(),ln--,ln||nl()})}return ks(s)}function tl(){document.addEventListener("focusin",dr),hr=!0,Kn.value=document.activeElement}function nl(){document.removeEventListener("focusin",dr)}function dr(){Kn.value=document.activeElement}const il={class:"VPMenuLink"},rl=["innerHTML"],sl=D({__name:"VPMenuLink",props:{item:{}},setup(a){const{page:s}=Y();return(i,t)=>(y(),T("div",il,[O(Ae,{class:ne({active:k(Je)(k(s).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon},{default:I(()=>[P("span",{innerHTML:i.item.text},null,8,rl)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),Xt=$(sl,[["__scopeId","data-v-35975db6"]]),al={class:"VPMenuGroup"},ol={key:0,class:"title"},ll=D({__name:"VPMenuGroup",props:{text:{},items:{}},setup(a){return(s,i)=>(y(),T("div",al,[s.text?(y(),T("p",ol,ee(s.text),1)):A("",!0),(y(!0),T(re,null,ge(s.items,t=>(y(),T(re,null,["link"in t?(y(),B(Xt,{key:0,item:t},null,8,["item"])):A("",!0)],64))),256))]))}}),ul=$(ll,[["__scopeId","data-v-69e747b5"]]),cl={class:"VPMenu"},fl={key:0,class:"items"},hl=D({__name:"VPMenu",props:{items:{}},setup(a){return(s,i)=>(y(),T("div",cl,[s.items?(y(),T("div",fl,[(y(!0),T(re,null,ge(s.items,t=>(y(),T(re,{key:JSON.stringify(t)},["link"in t?(y(),B(Xt,{key:0,item:t},null,8,["item"])):"component"in t?(y(),B(Le(t.component),ze({key:1,ref_for:!0},t.props),null,16)):(y(),B(ul,{key:2,text:t.text,items:t.items},null,8,["text","items"]))],64))),128))])):A("",!0),S(s.$slots,"default",{},void 0,!0)]))}}),dl=$(hl,[["__scopeId","data-v-b98bc113"]]),gl=["aria-expanded","aria-label"],vl={key:0,class:"text"},pl=["innerHTML"],ml={key:1,class:"vpi-more-horizontal icon"},yl={class:"menu"},_l=D({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(a){const s=Q(!1),i=Q();el({el:i,onBlur:t});function t(){s.value=!1}return(e,n)=>(y(),T("div",{class:"VPFlyout",ref_key:"el",ref:i,onMouseenter:n[1]||(n[1]=r=>s.value=!0),onMouseleave:n[2]||(n[2]=r=>s.value=!1)},[P("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":s.value,"aria-label":e.label,onClick:n[0]||(n[0]=r=>s.value=!s.value)},[e.button||e.icon?(y(),T("span",vl,[e.icon?(y(),T("span",{key:0,class:ne([e.icon,"option-icon"])},null,2)):A("",!0),e.button?(y(),T("span",{key:1,innerHTML:e.button},null,8,pl)):A("",!0),n[3]||(n[3]=P("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(y(),T("span",ml))],8,gl),P("div",yl,[O(dl,{items:e.items},{default:I(()=>[S(e.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),Yn=$(_l,[["__scopeId","data-v-cf11d7a2"]]),kl=["href","aria-label","innerHTML"],bl=D({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{}},setup(a){const s=a,i=Q();Ce(async()=>{var n;await Un();const e=(n=i.value)==null?void 0:n.children[0];e instanceof HTMLElement&&e.className.startsWith("vpi-social-")&&(getComputedStyle(e).maskImage||getComputedStyle(e).webkitMaskImage)==="none"&&e.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${s.icon}.svg')`)});const t=j(()=>typeof s.icon=="object"?s.icon.svg:`<span class="vpi-social-${s.icon}"></span>`);return(e,n)=>(y(),T("a",{ref_key:"el",ref:i,class:"VPSocialLink no-icon",href:e.link,"aria-label":e.ariaLabel??(typeof e.icon=="string"?e.icon:""),target:"_blank",rel:"noopener",innerHTML:t.value},null,8,kl))}}),Cl=$(bl,[["__scopeId","data-v-bd121fe5"]]),Tl={class:"VPSocialLinks"},Sl=D({__name:"VPSocialLinks",props:{links:{}},setup(a){return(s,i)=>(y(),T("div",Tl,[(y(!0),T(re,null,ge(s.links,({link:t,icon:e,ariaLabel:n})=>(y(),B(Cl,{key:t,icon:e,link:t,ariaLabel:n},null,8,["icon","link","ariaLabel"]))),128))]))}}),Xn=$(Sl,[["__scopeId","data-v-7bc22406"]]),El={key:0,class:"group translations"},wl={class:"trans-title"},Pl={key:1,class:"group"},Il={class:"item appearance"},xl={class:"label"},Ll={class:"appearance-action"},Al={key:2,class:"group"},Dl={class:"item social-links"},Ml=D({__name:"VPNavBarExtra",setup(a){const{site:s,theme:i}=Y(),{localeLinks:t,currentLang:e}=Tt({correspondingLink:!0}),n=j(()=>t.value.length&&e.value.label||s.value.appearance||i.value.socialLinks);return(r,o)=>n.value?(y(),B(Yn,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:I(()=>[k(t).length&&k(e).label?(y(),T("div",El,[P("p",wl,ee(k(e).label),1),(y(!0),T(re,null,ge(k(t),l=>(y(),B(Xt,{key:l.link,item:l},null,8,["item"]))),128))])):A("",!0),k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),T("div",Pl,[P("div",Il,[P("p",xl,ee(k(i).darkModeSwitchLabel||"Appearance"),1),P("div",Ll,[O(Gn)])])])):A("",!0),k(i).socialLinks?(y(),T("div",Al,[P("div",Dl,[O(Xn,{class:"social-links-list",links:k(i).socialLinks},null,8,["links"])])])):A("",!0)]),_:1})):A("",!0)}}),Ol=$(Ml,[["__scopeId","data-v-bb2aa2f0"]]),Rl=["aria-expanded"],Nl=D({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(a){return(s,i)=>(y(),T("button",{type:"button",class:ne(["VPNavBarHamburger",{active:s.active}]),"aria-label":"mobile navigation","aria-expanded":s.active,"aria-controls":"VPNavScreen",onClick:i[0]||(i[0]=t=>s.$emit("click"))},i[1]||(i[1]=[P("span",{class:"container"},[P("span",{class:"top"}),P("span",{class:"middle"}),P("span",{class:"bottom"})],-1)]),10,Rl))}}),Fl=$(Nl,[["__scopeId","data-v-e5dd9c1c"]]),Bl=["innerHTML"],Hl=D({__name:"VPNavBarMenuLink",props:{item:{}},setup(a){const{page:s}=Y();return(i,t)=>(y(),B(Ae,{class:ne({VPNavBarMenuLink:!0,active:k(Je)(k(s).relativePath,i.item.activeMatch||i.item.link,!!i.item.activeMatch)}),href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,tabindex:"0"},{default:I(()=>[P("span",{innerHTML:i.item.text},null,8,Bl)]),_:1},8,["class","href","target","rel","no-icon"]))}}),$l=$(Hl,[["__scopeId","data-v-e56f3d57"]]),Vl=D({__name:"VPNavBarMenuGroup",props:{item:{}},setup(a){const s=a,{page:i}=Y(),t=n=>"component"in n?!1:"link"in n?Je(i.value.relativePath,n.link,!!s.item.activeMatch):n.items.some(t),e=j(()=>t(s.item));return(n,r)=>(y(),B(Yn,{class:ne({VPNavBarMenuGroup:!0,active:k(Je)(k(i).relativePath,n.item.activeMatch,!!n.item.activeMatch)||e.value}),button:n.item.text,items:n.item.items},null,8,["class","button","items"]))}}),Ul={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},jl=D({__name:"VPNavBarMenu",setup(a){const{theme:s}=Y();return(i,t)=>k(s).nav?(y(),T("nav",Ul,[t[0]||(t[0]=P("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(y(!0),T(re,null,ge(k(s).nav,e=>(y(),T(re,{key:JSON.stringify(e)},["link"in e?(y(),B($l,{key:0,item:e},null,8,["item"])):"component"in e?(y(),B(Le(e.component),ze({key:1,ref_for:!0},e.props),null,16)):(y(),B(Vl,{key:2,item:e},null,8,["item"]))],64))),128))])):A("",!0)}}),zl=$(jl,[["__scopeId","data-v-dc692963"]]);function Wl(a){const{localeIndex:s,theme:i}=Y();function t(e){var g,p,m;const n=e.split("."),r=(g=i.value.search)==null?void 0:g.options,o=r&&typeof r=="object",l=o&&((m=(p=r.locales)==null?void 0:p[s.value])==null?void 0:m.translations)||null,u=o&&r.translations||null;let c=l,f=u,d=a;const v=n.pop();for(const w of n){let _=null;const C=d==null?void 0:d[w];C&&(_=d=C);const L=f==null?void 0:f[w];L&&(_=f=L);const H=c==null?void 0:c[w];H&&(_=c=H),C||(d=_),L||(f=_),H||(c=_)}return(c==null?void 0:c[v])??(f==null?void 0:f[v])??(d==null?void 0:d[v])??""}return t}const Gl=["aria-label"],Kl={class:"DocSearch-Button-Container"},Yl={class:"DocSearch-Button-Placeholder"},Ci=D({__name:"VPNavBarSearchButton",setup(a){const i=Wl({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(t,e)=>(y(),T("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":k(i)("button.buttonAriaLabel")},[P("span",Kl,[e[0]||(e[0]=P("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1)),P("span",Yl,ee(k(i)("button.buttonText")),1)]),e[1]||(e[1]=P("span",{class:"DocSearch-Button-Keys"},[P("kbd",{class:"DocSearch-Button-Key"}),P("kbd",{class:"DocSearch-Button-Key"},"K")],-1))],8,Gl))}}),Xl={class:"VPNavBarSearch"},ql={id:"local-search"},Jl={key:1,id:"docsearch"},Zl=D({__name:"VPNavBarSearch",setup(a){const s=bs(()=>Cs(()=>import("./VPLocalSearchBox.BTMBDxqV.js"),__vite__mapDeps([0,1]))),i=()=>null,{theme:t}=Y(),e=Q(!1),n=Q(!1);Ce(()=>{});function r(){e.value||(e.value=!0,setTimeout(o,16))}function o(){const f=new Event("keydown");f.key="k",f.metaKey=!0,window.dispatchEvent(f),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||o()},16)}function l(f){const d=f.target,v=d.tagName;return d.isContentEditable||v==="INPUT"||v==="SELECT"||v==="TEXTAREA"}const u=Q(!1);wn("k",f=>{(f.ctrlKey||f.metaKey)&&(f.preventDefault(),u.value=!0)}),wn("/",f=>{l(f)||(f.preventDefault(),u.value=!0)});const c="local";return(f,d)=>{var v;return y(),T("div",Xl,[k(c)==="local"?(y(),T(re,{key:0},[u.value?(y(),B(k(s),{key:0,onClose:d[0]||(d[0]=g=>u.value=!1)})):A("",!0),P("div",ql,[O(Ci,{onClick:d[1]||(d[1]=g=>u.value=!0)})])],64)):k(c)==="algolia"?(y(),T(re,{key:1},[e.value?(y(),B(k(i),{key:0,algolia:((v=k(t).search)==null?void 0:v.options)??k(t).algolia,onVnodeBeforeMount:d[2]||(d[2]=g=>n.value=!0)},null,8,["algolia"])):A("",!0),n.value?A("",!0):(y(),T("div",Jl,[O(Ci,{onClick:r})]))],64)):A("",!0)])}}}),Ql=D({__name:"VPNavBarSocialLinks",setup(a){const{theme:s}=Y();return(i,t)=>k(s).socialLinks?(y(),B(Xn,{key:0,class:"VPNavBarSocialLinks",links:k(s).socialLinks},null,8,["links"])):A("",!0)}}),eu=$(Ql,[["__scopeId","data-v-0394ad82"]]),tu=["href","rel","target"],nu=["innerHTML"],iu={key:2},ru=D({__name:"VPNavBarTitle",setup(a){const{site:s,theme:i}=Y(),{hasSidebar:t}=He(),{currentLang:e}=Tt(),n=j(()=>{var l;return typeof i.value.logoLink=="string"?i.value.logoLink:(l=i.value.logoLink)==null?void 0:l.link}),r=j(()=>{var l;return typeof i.value.logoLink=="string"||(l=i.value.logoLink)==null?void 0:l.rel}),o=j(()=>{var l;return typeof i.value.logoLink=="string"||(l=i.value.logoLink)==null?void 0:l.target});return(l,u)=>(y(),T("div",{class:ne(["VPNavBarTitle",{"has-sidebar":k(t)}])},[P("a",{class:"title",href:n.value??k(zn)(k(e).link),rel:r.value,target:o.value},[S(l.$slots,"nav-bar-title-before",{},void 0,!0),k(i).logo?(y(),B(Mt,{key:0,class:"logo",image:k(i).logo},null,8,["image"])):A("",!0),k(i).siteTitle?(y(),T("span",{key:1,innerHTML:k(i).siteTitle},null,8,nu)):k(i).siteTitle===void 0?(y(),T("span",iu,ee(k(s).title),1)):A("",!0),S(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,tu)],2))}}),su=$(ru,[["__scopeId","data-v-1168a8e4"]]),au={class:"items"},ou={class:"title"},lu=D({__name:"VPNavBarTranslations",setup(a){const{theme:s}=Y(),{localeLinks:i,currentLang:t}=Tt({correspondingLink:!0});return(e,n)=>k(i).length&&k(t).label?(y(),B(Yn,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:k(s).langMenuLabel||"Change language"},{default:I(()=>[P("div",au,[P("p",ou,ee(k(t).label),1),(y(!0),T(re,null,ge(k(i),r=>(y(),B(Xt,{key:r.link,item:r},null,8,["item"]))),128))])]),_:1},8,["label"])):A("",!0)}}),uu=$(lu,[["__scopeId","data-v-88af2de4"]]),cu={class:"wrapper"},fu={class:"container"},hu={class:"title"},du={class:"content"},gu={class:"content-body"},vu=D({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(a){const s=a,{y:i}=or(),{hasSidebar:t}=He(),{frontmatter:e}=Y(),n=Q({});return Vn(()=>{n.value={"has-sidebar":t.value,home:e.value.layout==="home",top:i.value===0,"screen-open":s.isScreenOpen}}),(r,o)=>(y(),T("div",{class:ne(["VPNavBar",n.value])},[P("div",cu,[P("div",fu,[P("div",hu,[O(su,null,{"nav-bar-title-before":I(()=>[S(r.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":I(()=>[S(r.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),P("div",du,[P("div",gu,[S(r.$slots,"nav-bar-content-before",{},void 0,!0),O(Zl,{class:"search"}),O(zl,{class:"menu"}),O(uu,{class:"translations"}),O(Qo,{class:"appearance"}),O(eu,{class:"social-links"}),O(Ol,{class:"extra"}),S(r.$slots,"nav-bar-content-after",{},void 0,!0),O(Fl,{class:"hamburger",active:r.isScreenOpen,onClick:o[0]||(o[0]=l=>r.$emit("toggle-screen"))},null,8,["active"])])])])]),o[1]||(o[1]=P("div",{class:"divider"},[P("div",{class:"divider-line"})],-1))],2))}}),pu=$(vu,[["__scopeId","data-v-6aa21345"]]),mu={key:0,class:"VPNavScreenAppearance"},yu={class:"text"},_u=D({__name:"VPNavScreenAppearance",setup(a){const{site:s,theme:i}=Y();return(t,e)=>k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),T("div",mu,[P("p",yu,ee(k(i).darkModeSwitchLabel||"Appearance"),1),O(Gn)])):A("",!0)}}),ku=$(_u,[["__scopeId","data-v-b44890b2"]]),bu=["innerHTML"],Cu=D({__name:"VPNavScreenMenuLink",props:{item:{}},setup(a){const s=Yt("close-screen");return(i,t)=>(y(),B(Ae,{class:"VPNavScreenMenuLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:k(s)},{default:I(()=>[P("span",{innerHTML:i.item.text},null,8,bu)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Tu=$(Cu,[["__scopeId","data-v-df37e6dd"]]),Su=["innerHTML"],Eu=D({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(a){const s=Yt("close-screen");return(i,t)=>(y(),B(Ae,{class:"VPNavScreenMenuGroupLink",href:i.item.link,target:i.item.target,rel:i.item.rel,"no-icon":i.item.noIcon,onClick:k(s)},{default:I(()=>[P("span",{innerHTML:i.item.text},null,8,Su)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),gr=$(Eu,[["__scopeId","data-v-3e9c20e4"]]),wu={class:"VPNavScreenMenuGroupSection"},Pu={key:0,class:"title"},Iu=D({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(a){return(s,i)=>(y(),T("div",wu,[s.text?(y(),T("p",Pu,ee(s.text),1)):A("",!0),(y(!0),T(re,null,ge(s.items,t=>(y(),B(gr,{key:t.text,item:t},null,8,["item"]))),128))]))}}),xu=$(Iu,[["__scopeId","data-v-8133b170"]]),Lu=["aria-controls","aria-expanded"],Au=["innerHTML"],Du=["id"],Mu={key:0,class:"item"},Ou={key:1,class:"item"},Ru={key:2,class:"group"},Nu=D({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(a){const s=a,i=Q(!1),t=j(()=>`NavScreenGroup-${s.text.replace(" ","-").toLowerCase()}`);function e(){i.value=!i.value}return(n,r)=>(y(),T("div",{class:ne(["VPNavScreenMenuGroup",{open:i.value}])},[P("button",{class:"button","aria-controls":t.value,"aria-expanded":i.value,onClick:e},[P("span",{class:"button-text",innerHTML:n.text},null,8,Au),r[0]||(r[0]=P("span",{class:"vpi-plus button-icon"},null,-1))],8,Lu),P("div",{id:t.value,class:"items"},[(y(!0),T(re,null,ge(n.items,o=>(y(),T(re,{key:JSON.stringify(o)},["link"in o?(y(),T("div",Mu,[O(gr,{item:o},null,8,["item"])])):"component"in o?(y(),T("div",Ou,[(y(),B(Le(o.component),ze({ref_for:!0},o.props,{"screen-menu":""}),null,16))])):(y(),T("div",Ru,[O(xu,{text:o.text,items:o.items},null,8,["text","items"])]))],64))),128))],8,Du)],2))}}),Fu=$(Nu,[["__scopeId","data-v-b9ab8c58"]]),Bu={key:0,class:"VPNavScreenMenu"},Hu=D({__name:"VPNavScreenMenu",setup(a){const{theme:s}=Y();return(i,t)=>k(s).nav?(y(),T("nav",Bu,[(y(!0),T(re,null,ge(k(s).nav,e=>(y(),T(re,{key:JSON.stringify(e)},["link"in e?(y(),B(Tu,{key:0,item:e},null,8,["item"])):"component"in e?(y(),B(Le(e.component),ze({key:1,ref_for:!0},e.props,{"screen-menu":""}),null,16)):(y(),B(Fu,{key:2,text:e.text||"",items:e.items},null,8,["text","items"]))],64))),128))])):A("",!0)}}),$u=D({__name:"VPNavScreenSocialLinks",setup(a){const{theme:s}=Y();return(i,t)=>k(s).socialLinks?(y(),B(Xn,{key:0,class:"VPNavScreenSocialLinks",links:k(s).socialLinks},null,8,["links"])):A("",!0)}}),Vu={class:"list"},Uu=D({__name:"VPNavScreenTranslations",setup(a){const{localeLinks:s,currentLang:i}=Tt({correspondingLink:!0}),t=Q(!1);function e(){t.value=!t.value}return(n,r)=>k(s).length&&k(i).label?(y(),T("div",{key:0,class:ne(["VPNavScreenTranslations",{open:t.value}])},[P("button",{class:"title",onClick:e},[r[0]||(r[0]=P("span",{class:"vpi-languages icon lang"},null,-1)),De(" "+ee(k(i).label)+" ",1),r[1]||(r[1]=P("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),P("ul",Vu,[(y(!0),T(re,null,ge(k(s),o=>(y(),T("li",{key:o.link,class:"item"},[O(Ae,{class:"link",href:o.link},{default:I(()=>[De(ee(o.text),1)]),_:2},1032,["href"])]))),128))])],2)):A("",!0)}}),ju=$(Uu,[["__scopeId","data-v-858fe1a4"]]),zu={class:"container"},Wu=D({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(a){const s=Q(null),i=lr(Ct?document.body:null);return(t,e)=>(y(),B(Bn,{name:"fade",onEnter:e[0]||(e[0]=n=>i.value=!0),onAfterLeave:e[1]||(e[1]=n=>i.value=!1)},{default:I(()=>[t.open?(y(),T("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:s,id:"VPNavScreen"},[P("div",zu,[S(t.$slots,"nav-screen-content-before",{},void 0,!0),O(Hu,{class:"menu"}),O(ju,{class:"translations"}),O(ku,{class:"appearance"}),O($u,{class:"social-links"}),S(t.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):A("",!0)]),_:3}))}}),Gu=$(Wu,[["__scopeId","data-v-f2779853"]]),Ku={key:0,class:"VPNav"},Yu=D({__name:"VPNav",setup(a){const{isScreenOpen:s,closeScreen:i,toggleScreen:t}=jo(),{frontmatter:e}=Y(),n=j(()=>e.value.navbar!==!1);return jn("close-screen",i),Wt(()=>{Ct&&document.documentElement.classList.toggle("hide-nav",!n.value)}),(r,o)=>n.value?(y(),T("header",Ku,[O(pu,{"is-screen-open":k(s),onToggleScreen:k(t)},{"nav-bar-title-before":I(()=>[S(r.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":I(()=>[S(r.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":I(()=>[S(r.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":I(()=>[S(r.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),O(Gu,{open:k(s)},{"nav-screen-content-before":I(()=>[S(r.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":I(()=>[S(r.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):A("",!0)}}),Xu=$(Yu,[["__scopeId","data-v-ae24b3ad"]]),qu=["role","tabindex"],Ju={key:1,class:"items"},Zu=D({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(a){const s=a,{collapsed:i,collapsible:t,isLink:e,isActiveLink:n,hasActiveLink:r,hasChildren:o,toggle:l}=Gs(j(()=>s.item)),u=j(()=>o.value?"section":"div"),c=j(()=>e.value?"a":"div"),f=j(()=>o.value?s.depth+2===7?"p":`h${s.depth+2}`:"p"),d=j(()=>e.value?void 0:"button"),v=j(()=>[[`level-${s.depth}`],{collapsible:t.value},{collapsed:i.value},{"is-link":e.value},{"is-active":n.value},{"has-active":r.value}]);function g(m){"key"in m&&m.key!=="Enter"||!s.item.link&&l()}function p(){s.item.link&&l()}return(m,w)=>{const _=Ze("VPSidebarItem",!0);return y(),B(Le(u.value),{class:ne(["VPSidebarItem",v.value])},{default:I(()=>[m.item.text?(y(),T("div",ze({key:0,class:"item",role:d.value},Ts(m.item.items?{click:g,keydown:g}:{},!0),{tabindex:m.item.items&&0}),[w[1]||(w[1]=P("div",{class:"indicator"},null,-1)),m.item.link?(y(),B(Ae,{key:0,tag:c.value,class:"link",href:m.item.link,rel:m.item.rel,target:m.item.target},{default:I(()=>[(y(),B(Le(f.value),{class:"text",innerHTML:m.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(y(),B(Le(f.value),{key:1,class:"text",innerHTML:m.item.text},null,8,["innerHTML"])),m.item.collapsed!=null&&m.item.items&&m.item.items.length?(y(),T("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:p,onKeydown:Ss(p,["enter"]),tabindex:"0"},w[0]||(w[0]=[P("span",{class:"vpi-chevron-right caret-icon"},null,-1)]),32)):A("",!0)],16,qu)):A("",!0),m.item.items&&m.item.items.length?(y(),T("div",Ju,[m.depth<5?(y(!0),T(re,{key:0},ge(m.item.items,C=>(y(),B(_,{key:C.text,item:C,depth:m.depth+1},null,8,["item","depth"]))),128)):A("",!0)])):A("",!0)]),_:1},8,["class"])}}}),Qu=$(Zu,[["__scopeId","data-v-b3fd67f8"]]),ec=D({__name:"VPSidebarGroup",props:{items:{}},setup(a){const s=Q(!0);let i=null;return Ce(()=>{i=setTimeout(()=>{i=null,s.value=!1},300)}),Es(()=>{i!=null&&(clearTimeout(i),i=null)}),(t,e)=>(y(!0),T(re,null,ge(t.items,n=>(y(),T("div",{key:n.text,class:ne(["group",{"no-transition":s.value}])},[O(Qu,{item:n,depth:0},null,8,["item"])],2))),128))}}),tc=$(ec,[["__scopeId","data-v-c40bc020"]]),nc={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},ic=D({__name:"VPSidebar",props:{open:{type:Boolean}},setup(a){const{sidebarGroups:s,hasSidebar:i}=He(),t=a,e=Q(null),n=lr(Ct?document.body:null);Fe([t,e],()=>{var o;t.open?(n.value=!0,(o=e.value)==null||o.focus()):n.value=!1},{immediate:!0,flush:"post"});const r=Q(0);return Fe(s,()=>{r.value+=1},{deep:!0}),(o,l)=>k(i)?(y(),T("aside",{key:0,class:ne(["VPSidebar",{open:o.open}]),ref_key:"navEl",ref:e,onClick:l[0]||(l[0]=ws(()=>{},["stop"]))},[l[2]||(l[2]=P("div",{class:"curtain"},null,-1)),P("nav",nc,[l[1]||(l[1]=P("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),S(o.$slots,"sidebar-nav-before",{},void 0,!0),(y(),B(tc,{items:k(s),key:r.value},null,8,["items"])),S(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):A("",!0)}}),rc=$(ic,[["__scopeId","data-v-319d5ca6"]]),sc=D({__name:"VPSkipLink",setup(a){const{theme:s}=Y(),i=Kt(),t=Q();Fe(()=>i.path,()=>t.value.focus());function e({target:n}){const r=document.getElementById(decodeURIComponent(n.hash).slice(1));if(r){const o=()=>{r.removeAttribute("tabindex"),r.removeEventListener("blur",o)};r.setAttribute("tabindex","-1"),r.addEventListener("blur",o),r.focus(),window.scrollTo(0,0)}}return(n,r)=>(y(),T(re,null,[P("span",{ref_key:"backToTop",ref:t,tabindex:"-1"},null,512),P("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:e},ee(k(s).skipToContentLabel||"Skip to content"),1)],64))}}),ac=$(sc,[["__scopeId","data-v-0b0ada53"]]),oc=D({__name:"Layout",setup(a){const{isOpen:s,open:i,close:t}=He(),e=Kt();Fe(()=>e.path,t),Ws(s,t);const{frontmatter:n}=Y(),r=Ps(),o=j(()=>!!r["home-hero-image"]);return jn("hero-image-slot-exists",o),(l,u)=>{const c=Ze("Content");return k(n).layout!==!1?(y(),T("div",{key:0,class:ne(["Layout",k(n).pageClass])},[S(l.$slots,"layout-top",{},void 0,!0),O(ac),O(Ds,{class:"backdrop",show:k(s),onClick:k(t)},null,8,["show","onClick"]),O(Xu,null,{"nav-bar-title-before":I(()=>[S(l.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":I(()=>[S(l.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":I(()=>[S(l.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":I(()=>[S(l.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":I(()=>[S(l.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":I(()=>[S(l.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),O(Uo,{open:k(s),onOpenMenu:k(i)},null,8,["open","onOpenMenu"]),O(rc,{open:k(s)},{"sidebar-nav-before":I(()=>[S(l.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":I(()=>[S(l.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),O(wo,null,{"page-top":I(()=>[S(l.$slots,"page-top",{},void 0,!0)]),"page-bottom":I(()=>[S(l.$slots,"page-bottom",{},void 0,!0)]),"not-found":I(()=>[S(l.$slots,"not-found",{},void 0,!0)]),"home-hero-before":I(()=>[S(l.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":I(()=>[S(l.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":I(()=>[S(l.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":I(()=>[S(l.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":I(()=>[S(l.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":I(()=>[S(l.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":I(()=>[S(l.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":I(()=>[S(l.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":I(()=>[S(l.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":I(()=>[S(l.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":I(()=>[S(l.$slots,"doc-before",{},void 0,!0)]),"doc-after":I(()=>[S(l.$slots,"doc-after",{},void 0,!0)]),"doc-top":I(()=>[S(l.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":I(()=>[S(l.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":I(()=>[S(l.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":I(()=>[S(l.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":I(()=>[S(l.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":I(()=>[S(l.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":I(()=>[S(l.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":I(()=>[S(l.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),O(Ao),S(l.$slots,"layout-bottom",{},void 0,!0)],2)):(y(),B(c,{key:1}))}}}),lc=$(oc,[["__scopeId","data-v-5d98c3a5"]]),vr={Layout:lc,enhanceApp:({app:a})=>{a.component("Badge",xs)}},uc={__name:"Mycomponent",setup(a){return(s,i)=>null}},cc={class:"linkcard"},fc=["href"],hc={class:"description"},dc={class:"logo"},gc=["src"],vc=D({__name:"Linkcard",props:{url:{default:""},title:{default:""},description:{default:""},logo:{default:""}},setup(a){const s=a;return(i,t)=>(y(),T("div",cc,[P("a",{href:s.url,target:"_blank"},[P("p",hc,[De(ee(s.title),1),t[0]||(t[0]=P("br",null,null,-1)),P("span",null,ee(s.description),1)]),P("div",dc,[P("img",{alt:"logo",width:"70px",height:"70px",src:s.logo},null,8,gc)])],8,fc)]))}});function Ti(a,s){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);s&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),i.push.apply(i,t)}return i}function oe(a){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?Ti(Object(i),!0).forEach(function(t){E(a,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Ti(Object(i)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(i,t))})}return a}function de(a){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},de(a)}function N(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function Si(a,s){for(var i=0;i<s.length;i++){var t=s[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,pr(t.key),t)}}function F(a,s,i){return s&&Si(a.prototype,s),i&&Si(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}function E(a,s,i){return s=pr(s),s in a?Object.defineProperty(a,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[s]=i,a}function z(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Ln(a,s)}function G(a){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},G(a)}function Ln(a,s){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ln(a,s)}function pc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function qn(a,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(a)}function W(a){var s=pc();return function(){var t=G(a),e;if(s){var n=G(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qn(this,e)}}function mc(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=G(a),a!==null););return a}function K(){return typeof Reflect<"u"&&Reflect.get?K=Reflect.get.bind():K=function(s,i,t){var e=mc(s,i);if(e){var n=Object.getOwnPropertyDescriptor(e,i);return n.get?n.get.call(arguments.length<3?s:t):n.value}},K.apply(this,arguments)}function be(a){return yc(a)||_c(a)||kc(a)||bc()}function yc(a){if(Array.isArray(a))return An(a)}function _c(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function kc(a,s){if(a){if(typeof a=="string")return An(a,s);var i=Object.prototype.toString.call(a).slice(8,-1);if(i==="Object"&&a.constructor&&(i=a.constructor.name),i==="Map"||i==="Set")return Array.from(a);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return An(a,s)}}function An(a,s){(s==null||s>a.length)&&(s=a.length);for(var i=0,t=new Array(s);i<s;i++)t[i]=a[i];return t}function bc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cc(a,s){if(typeof a!="object"||a===null)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var t=i.call(a,s);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function pr(a){var s=Cc(a,"string");return typeof s=="symbol"?s:String(s)}var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var mr={exports:{}};(function(a){var s=Object.prototype.hasOwnProperty,i="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(i=!1));function e(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function n(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var v=new e(c,f||l,d),g=i?i+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],v]:l._events[g].push(v):(l._events[g]=v,l._eventsCount++),l}function r(l,u){--l._eventsCount===0?l._events=new t:delete l._events[u]}function o(){this._events=new t,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)s.call(c,f)&&u.push(i?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=i?i+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,v=f.length,g=new Array(v);d<v;d++)g[d]=f[d].fn;return g},o.prototype.listenerCount=function(u){var c=i?i+u:u,f=this._events[c];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,c,f,d,v,g){var p=i?i+u:u;if(!this._events[p])return!1;var m=this._events[p],w=arguments.length,_,C;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),w){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,f),!0;case 4:return m.fn.call(m.context,c,f,d),!0;case 5:return m.fn.call(m.context,c,f,d,v),!0;case 6:return m.fn.call(m.context,c,f,d,v,g),!0}for(C=1,_=new Array(w-1);C<w;C++)_[C-1]=arguments[C];m.fn.apply(m.context,_)}else{var L=m.length,H;for(C=0;C<L;C++)switch(m[C].once&&this.removeListener(u,m[C].fn,void 0,!0),w){case 1:m[C].fn.call(m[C].context);break;case 2:m[C].fn.call(m[C].context,c);break;case 3:m[C].fn.call(m[C].context,c,f);break;case 4:m[C].fn.call(m[C].context,c,f,d);break;default:if(!_)for(H=1,_=new Array(w-1);H<w;H++)_[H-1]=arguments[H];m[C].fn.apply(m[C].context,_)}}return!0},o.prototype.on=function(u,c,f){return n(this,u,c,f,!1)},o.prototype.once=function(u,c,f){return n(this,u,c,f,!0)},o.prototype.removeListener=function(u,c,f,d){var v=i?i+u:u;if(!this._events[v])return this;if(!c)return r(this,v),this;var g=this._events[v];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&r(this,v);else{for(var p=0,m=[],w=g.length;p<w;p++)(g[p].fn!==c||d&&!g[p].once||f&&g[p].context!==f)&&m.push(g[p]);m.length?this._events[v]=m.length===1?m[0]:m:r(this,v)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=i?i+u:u,this._events[c]&&r(this,c)):(this._events=new t,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,a.exports=o})(mr);var yr=mr.exports;const _r=qt(yr);var Sc=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,un={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},cn="%c[xgplayer]",J={config:{debug:Sc?3:0},logInfo:function(s){for(var i,t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];this.config.debug>=3&&(i=console).log.apply(i,[cn,un.info,s].concat(e))},logWarn:function(s){for(var i,t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];this.config.debug>=1&&(i=console).warn.apply(i,[cn,un.warn,s].concat(e))},logError:function(s){var i;if(!(this.config.debug<1)){for(var t=this.config.debug>=2?"trace":"error",e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(i=console)[t].apply(i,[cn,un.error,s].concat(n))}}};function Ec(a){a.logInfo=J.logInfo.bind(a),a.logWarn=J.logWarn.bind(a),a.logError=J.logError.bind(a)}var wc=function(){function a(s){N(this,a),this.bufferedList=s}return F(a,[{key:"start",value:function(i){return this.bufferedList[i].start}},{key:"end",value:function(i){return this.bufferedList[i].end}},{key:"length",get:function(){return this.bufferedList.length}}]),a}(),h={};h.createDom=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=document.createElement(a);return e.className=t,e.innerHTML=s,Object.keys(i).forEach(function(n){var r=n,o=i[n];a==="video"||a==="audio"||a==="live-video"?o&&e.setAttribute(r,o):e.setAttribute(r,o)}),e};h.createDomFromHtml=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var t=document.createElement("div");t.innerHTML=a;var e=t.children;return t=null,e.length>0?(e=e[0],i&&h.addClass(e,i),s&&Object.keys(s).forEach(function(n){e.setAttribute(n,s[n])}),e):null}catch(n){return J.logError("util.createDomFromHtml",n),null}};h.hasClass=function(a,s){if(!a||!s)return!1;try{return Array.prototype.some.call(a.classList,function(t){return t===s})}catch{var i=a.className&&de(a.className)==="object"?a.getAttribute("class"):a.className;return i&&!!i.match(new RegExp("(\\s|^)"+s+"(\\s|$)"))}};h.addClass=function(a,s){if(!(!a||!s))try{s.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&a.classList.add(i)})}catch{h.hasClass(a,s)||(a.className&&de(a.className)==="object"?a.setAttribute("class",a.getAttribute("class")+" "+s):a.className+=" "+s)}};h.removeClass=function(a,s){if(!(!a||!s))try{s.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(i){i&&a.classList.remove(i)})}catch{h.hasClass(a,s)&&s.split(/\s+/g).forEach(function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");a.className&&de(a.className)==="object"?a.setAttribute("class",a.getAttribute("class").replace(e," ")):a.className=a.className.replace(e," ")})}};h.toggleClass=function(a,s){a&&s.split(/\s+/g).forEach(function(i){h.hasClass(a,i)?h.removeClass(a,i):h.addClass(a,i)})};h.classNames=function(){for(var a=arguments,s=[],i=function(n){h.typeOf(a[n])==="String"?s.push(a[n]):h.typeOf(a[n])==="Object"&&Object.keys(a[n]).map(function(r){a[n][r]&&s.push(r)})},t=0;t<arguments.length;t++)i(t);return s.join(" ")};h.findDom=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,s=arguments.length>1?arguments[1]:void 0,i;try{i=a.querySelector(s)}catch(t){J.logError("util.findDom",t),s.indexOf("#")===0&&(i=a.getElementById(s.slice(1)))}return i};h.getCss=function(a,s){return a.currentStyle?a.currentStyle[s]:document.defaultView.getComputedStyle(a,!1)[s]};h.padStart=function(a,s,i){for(var t=String(i),e=s>>0,n=Math.ceil(e/t.length),r=[],o=String(a);n--;)r.push(t);return r.join("").substring(0,e-o.length)+o};h.format=function(a){if(window.isNaN(a))return"";a=Math.round(a);var s=h.padStart(Math.floor(a/3600),2,0),i=h.padStart(Math.floor((a-s*3600)/60),2,0),t=h.padStart(Math.floor(a-s*3600-i*60),2,0);return(s==="00"?[i,t]:[s,i,t]).join(":")};h.event=function(a){if(a.touches){var s=a.touches[0]||a.changedTouches[0];a.clientX=s.clientX||0,a.clientY=s.clientY||0,a.offsetX=s.pageX-s.target.offsetLeft,a.offsetY=s.pageY-s.target.offsetTop}a._target=a.target||a.srcElement};h.typeOf=function(a){return Object.prototype.toString.call(a).match(/([^\s.*]+)(?=]$)/g)[0]};h.deepCopy=function(a,s){if(h.typeOf(s)==="Object"&&h.typeOf(a)==="Object")return Object.keys(s).forEach(function(i){h.typeOf(s[i])==="Object"&&!(s[i]instanceof Node)?a[i]===void 0||a[i]===void 0?a[i]=s[i]:h.deepCopy(a[i],s[i]):h.typeOf(s[i])==="Array"?a[i]=h.typeOf(a[i])==="Array"?a[i].concat(s[i]):s[i]:a[i]=s[i]}),a};h.deepMerge=function(a,s){return Object.keys(s).map(function(i){if(h.typeOf(s[i])==="Array"&&h.typeOf(a[i])==="Array"){if(h.typeOf(a[i])==="Array"){var t;(t=a[i]).push.apply(t,be(s[i]))}}else h.typeOf(a[i])===h.typeOf(s[i])&&a[i]!==null&&h.typeOf(a[i])==="Object"&&!(s[i]instanceof window.Node)?h.deepMerge(a[i],s[i]):s[i]!==null&&(a[i]=s[i])}),a};h.getBgImage=function(a){var s=(a.currentStyle||window.getComputedStyle(a,null)).backgroundImage;if(!s||s==="none")return"";var i=document.createElement("a");return i.href=s.replace(/url\("|"\)/g,""),i.href};h.copyDom=function(a){if(a&&a.nodeType===1){var s=document.createElement(a.tagName);return Array.prototype.forEach.call(a.attributes,function(i){s.setAttribute(i.name,i.value)}),a.innerHTML&&(s.innerHTML=a.innerHTML),s}else return""};h.setInterval=function(a,s,i,t){a._interval[s]||(a._interval[s]=window.setInterval(i.bind(a),t))};h.clearInterval=function(a,s){clearInterval(a._interval[s]),a._interval[s]=null};h.setTimeout=function(a,s,i){a._timers||(a._timers=[]);var t=setTimeout(function(){s(),h.clearTimeout(a,t)},i);return a._timers.push(t),t};h.clearTimeout=function(a,s){var i=a._timers;if(h.typeOf(i)==="Array"){for(var t=0;t<i.length;t++)if(i[t]===s){i.splice(t,1),clearTimeout(s);break}}else clearTimeout(s)};h.clearAllTimers=function(a){var s=a._timers;h.typeOf(s)==="Array"&&(s.map(function(i){clearTimeout(i)}),a._timerIds=[])};h.createImgBtn=function(a,s,i,t){var e=h.createDom("xg-".concat(a),"",{},"xgplayer-".concat(a,"-img"));if(e.style.backgroundImage='url("'.concat(s,'")'),i&&t){var n,r,o;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(l){return i.indexOf(l)>-1&&t.indexOf(l)>-1?(n=parseFloat(i.slice(0,i.indexOf(l)).trim()),r=parseFloat(t.slice(0,t.indexOf(l)).trim()),o=l,!1):!0}),e.style.width="".concat(n).concat(o),e.style.height="".concat(r).concat(o),e.style.backgroundSize="".concat(n).concat(o," ").concat(r).concat(o),a==="start"?e.style.margin="-".concat(r/2).concat(o," auto auto -").concat(n/2).concat(o):e.style.margin="auto 5px auto 5px"}return e};h.Hex2RGBA=function(a,s){var i=[];if(/^\#[0-9A-F]{3}$/i.test(a)){var t="#";a.replace(/[0-9A-F]/ig,function(e){t+=e+e}),a=t}return/^#[0-9A-F]{6}$/i.test(a)?(a.replace(/[0-9A-F]{2}/ig,function(e){i.push(parseInt(e,16))}),"rgba(".concat(i.join(","),", ").concat(s,")")):"rgba(255, 255, 255, 0.1)"};h.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};h.checkIsFunction=function(a){return a&&typeof a=="function"};h.checkIsObject=function(a){return a!==null&&de(a)==="object"};h.hide=function(a){a.style.display="none"};h.show=function(a,s){a.style.display=s||"block"};h.isUndefined=function(a){if(typeof a>"u"||a===null)return!0};h.isNotNull=function(a){return a!=null};h.setStyleFromCsstext=function(a,s){if(s)if(h.typeOf(s)==="String"){var i=s.replace(/\s+/g,"").split(";");i.map(function(t){if(t){var e=t.split(":");e.length>1&&(a.style[e[0]]=e[1])}})}else Object.keys(s).map(function(t){a.style[t]=s[t]})};function Pc(a,s){for(var i=0,t=s.length;i<t;i++)if(a.indexOf(s[i])>-1)return!0;return!1}h.filterStyleFromText=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],i=a.style.cssText;if(!i)return{};var t=i.replace(/\s+/g,"").split(";"),e={},n={};return t.map(function(r){if(r){var o=r.split(":");o.length>1&&(Pc(o[0],s)?e[o[0]]=o[1]:n[o[0]]=o[1])}}),a.setAttribute("style",""),Object.keys(n).map(function(r){a.style[r]=n[r]}),e};h.getStyleFromCsstext=function(a){var s=a.style.cssText;if(!s)return{};var i=s.replace(/\s+/g,"").split(";"),t={};return i.map(function(e){if(e){var n=e.split(":");n.length>1&&(t[n[0]]=n[1])}}),t};h.preloadImg=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(a){var t=new window.Image;t.onload=function(e){t=null,s&&s(e)},t.onerror=function(e){t=null,i&&i(e)},t.src=a}};h.stopPropagation=function(a){a&&a.stopPropagation()};h.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};h.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};h.checkTouchSupport=function(){return"ontouchstart"in window};h.getBuffered2=function(a){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,i=[],t=0;t<a.length;t++)i.push({start:a.start(t)<.5?0:a.start(t),end:a.end(t)});i.sort(function(l,u){var c=l.start-u.start;return c||u.end-l.end});var e=[];if(s)for(var n=0;n<i.length;n++){var r=e.length;if(r){var o=e[r-1].end;i[n].start-o<s?i[n].end>o&&(e[r-1].end=i[n].end):e.push(i[n])}else e.push(i[n])}else e=i;return new wc(e)};h.getEventPos=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return a.touches&&a.touches.length>0&&(a=a.touches[0]),{x:a.x/s,y:a.y/s,clientX:a.clientX/s,clientY:a.clientY/s,offsetX:a.offsetX/s,offsetY:a.offsetY/s,pageX:a.pageX/s,pageY:a.pageY/s}};h.requestAnimationFrame=function(a){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(s)return s(a)};h.getHostFromUrl=function(a){if(h.typeOf(a)!=="String")return"";var s=a.split("/"),i="";return s.length>3&&s[2]&&(i=s[2]),i};h.cancelAnimationFrame=function(a){var s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;s&&s(a)};h.isMSE=function(a){return a.media&&(a=a.media),!a||!(a instanceof HTMLMediaElement)?!1:/^blob/.test(a.currentSrc)||/^blob/.test(a.src)};h.isBlob=function(a){return typeof a=="string"&&/^blob/.test(a)};h.generateSessionId=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=new Date().getTime();try{a=parseInt(a)}catch{a=0}s+=a,window.performance&&typeof window.performance.now=="function"&&(s+=parseInt(window.performance.now()));var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(s+Math.random()*16)%16|0;return s=Math.floor(s/16),(t==="x"?e:e&3|8).toString(16)});return i};h.createEvent=function(a){var s;return typeof window.Event=="function"?s=new Event(a):(s=document.createEvent("Event"),s.initEvent(a,!0,!0)),s};h.adjustTimeByDuration=function(a,s,i){return!s||!a?a:a>s||i&&a<s?s:a};h.createPositionBar=function(a,s){var i=h.createDom("xg-bar","",{"data-index":-1},a);return s.appendChild(i),i};h.getTransformStyle=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i={scale:"".concat(a.scale||1),translate:"".concat(a.x||0,"%, ").concat(a.y||0,"%"),rotate:"".concat(a.rotate||0,"deg")},t=Object.keys(i);return t.forEach(function(e){var n=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),r="".concat(e,"(").concat(i[e],")");n.test(s)?(n.lastIndex=-1,s=s.replace(n,r)):s+="".concat(r," ")}),s};h.convertDeg=function(a){return Math.abs(a)<=1?a*360:a%360};h.getIndexByTime=function(a,s){var i=s.length,t=-1;if(i<1)return t;if(a<=s[0].end||i<2)t=0;else if(a>s[i-1].end)t=i-1;else for(var e=1;e<i;e++)if(a>s[e-1].end&&a<=s[e].end){t=e;break}return t};h.getOffsetCurrentTime=function(a,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,t=-1;if(i>=0&&i<s.length?t=i:t=h.getIndexByTime(a,s),t<0)return-1;var e=s.length,n=s[t],r=n.start,o=n.end,l=n.cTime,u=n.offset;return a<r?l:a>=r&&a<=o?a-u:a>o&&t>=e-1?o:-1};h.getCurrentTimeByOffset=function(a,s){var i=-1;if(!s||s.length<0)return a;for(var t=0;t<s.length;t++)if(a<=s[t].duration){i=t;break}if(i!==-1){var e=s[i].start;return i-1<0?e+a:e+(a-s[i-1].duration)}return a};function kr(a){var s=de(a);return a!==null&&(s==="object"||s==="function")}function Ic(a,s,i){var t,e,n,r,o,l,u=0,c=!1,f=!1,d=!0,v=!s&&s!==0&&typeof window.requestAnimationFrame=="function";if(typeof a!="function")throw new TypeError("Expected a function");s=+s||0,kr(i)&&(c=!!i.leading,f="maxWait"in i,n=f?Math.max(+i.maxWait||0,s):n,d="trailing"in i?!!i.trailing:d);function g(V){var ue=t,ce=e;return t=e=void 0,u=V,r=a.apply(ce,ue),r}function p(V,ue){return v?(window.cancelAnimationFrame(o),window.requestAnimationFrame(V)):setTimeout(V,ue)}function m(V){if(v)return window.cancelAnimationFrame(V);clearTimeout(V)}function w(V){return u=V,o=p(L,s),c?g(V):r}function _(V){var ue=V-l,ce=V-u,ae=s-ue;return f?Math.min(ae,n-ce):ae}function C(V){var ue=V-l,ce=V-u;return l===void 0||ue>=s||ue<0||f&&ce>=n}function L(){var V=Date.now();if(C(V))return H(V);o=p(L,_(V))}function H(V){return o=void 0,d&&t?g(V):(t=e=void 0,r)}function M(){o!==void 0&&m(o),u=0,t=l=e=o=void 0}function U(){return o===void 0?r:H(Date.now())}function le(){return o!==void 0}function se(){for(var V=Date.now(),ue=C(V),ce=arguments.length,ae=new Array(ce),_e=0;_e<ce;_e++)ae[_e]=arguments[_e];if(t=ae,e=this,l=V,ue){if(o===void 0)return w(l);if(f)return o=p(L,s),g(l)}return o===void 0&&(o=p(L,s)),r}return se.cancel=M,se.flush=U,se.pending=le,se}function xc(a,s,i){var t=!0,e=!0;if(typeof a!="function")throw new TypeError("Expected a function");return kr(i)&&(t="leading"in i?!!i.leading:t,e="trailing"in i?!!i.trailing:e),Ic(a,s,{leading:t,trailing:e,maxWait:s})}function Lc(){var a=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return a==="zh-cn"&&(a="zh"),a}function Ac(a,s,i){if(a){var t=a.getAttribute(i);return!!(t&&t===s&&(a.tagName==="VIDEO"||a.tagName==="AUDIO"))}}var Ei={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},Dc=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],X={get device(){var a=X.os;return a.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var a=navigator.userAgent.toLowerCase(),s={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(s).filter(function(i){return s[i].test(a)}))[0]},get os(){if(typeof navigator>"u")return{};var a=navigator.userAgent,s=/(?:Windows Phone)/.test(a),i=/(?:SymbianOS)/.test(a)||s,t=/(?:Android)/.test(a),e=/(?:Firefox)/.test(a),n=/(?:iPad|PlayBook)/.test(a)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,r=n||t&&!/(?:Mobile)/.test(a)||e&&/(?:Tablet)/.test(a),o=/(?:iPhone)/.test(a)&&!r,l=!o&&!t&&!i&&!r;return{isTablet:r,isPhone:o,isIpad:n,isIos:o||n,isAndroid:t,isPc:l,isSymbian:i,isWindowsPhone:s,isFireFox:e}},get osVersion(){if(typeof navigator>"u")return 0;var a=navigator.userAgent,s="";/(?:iPhone)|(?:iPad|PlayBook)/.test(a)?s=Ei.ios:s=Ei.android;var i=s?s.exec(a):[];if(i&&i.length>=3){var t=i[2].split(".");return t.length>0?parseInt(t[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var a=/(micromessenger)\/([\d.]+)/,s=a.exec(navigator.userAgent.toLocaleLowerCase());return!!s},isSupportMP4:function(){var s={isSupport:!1,mime:""};if(typeof document>"u")return s;if(this.supportResult)return this.supportResult;var i=document.createElement("video");return typeof i.canPlayType=="function"&&Dc.map(function(t){i.canPlayType('video/mp4; codecs="'.concat(t,'"'))==="probably"&&(s.isSupport=!0,s.mime+="||".concat(t))}),this.supportResult=s,i=null,s},isMSESupport:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(s)}catch(i){return this._logger.error(s,i),!1}},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(s){var i={supported:!1,smooth:!1,powerEfficient:!1};if(!s||typeof navigator>"u")return Promise.resolve(i);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(s);var t=s.video||{},e=s.audio||{};try{var n=MediaSource.isTypeSupported(t.contentType),r=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:n&&r,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(i)}}},Dn="3.0.20",wi={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},Pi={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},Ot=F(function a(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};N(this,a);var t=s&&s.i18n?s.i18n.ERROR_TYPES:null;if(s.media){var e=i.mediaError?i.mediaError:s.media.error||{},n=s.duration,r=s.currentTime,o=s.ended,l=s.src,u=s.currentSrc,c=s.media,f=c.readyState,d=c.networkState,v=i.errorCode||e.code;Pi[v]&&(v=Pi[v]);var g={playerVersion:Dn,currentTime:r,duration:n,ended:o,readyState:f,networkState:d,src:l||u,errorType:i.errorType,errorCode:v,message:i.errorMessage||e.message,mediaError:e,originError:i.originError?i.originError.stack:"",host:h.getHostFromUrl(l||u)};return i.ext&&Object.keys(i.ext).map(function(_){g[_]=i.ext[_]}),g}else if(arguments.length>1){for(var p={playerVersion:Dn,domain:document.domain},m=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],w=0;w<arguments.length;w++)p[m[w]]=arguments[w];return p.ex=t?(t[arguments[0]]||{}).msg:"",p}}),ye="play",Jn="playing",Qe="ended",dt="pause",St="error",Jt="seeking",Re="seeked",me="timeupdate",Et="waiting",Oe="canplay",Mc="canplaythrough",$e="durationchange",br="volumechange",Be="loadeddata",Oc="loadedmetadata",Cr="ratechange",Tr="progress",Zn="loadstart",et="emptied",Rc="stalled",Nc="suspend",Fc="abort",Bc="bufferedChange",Qn="focus",Sr="blur",ei="ready",Er="urlNull",qe="autoplay_started",ti="autoplay_was_prevented",Zt="complete",Rt="replay",ni="destroy",Qt="urlchange",Mn="download_speed_change",wr="leaveplayer",Pr="enterplayer",Ir="loading",Me="fullscreen_change",Nt="cssFullscreen_change",Ft="mini_state_change",ii="definition_change",Hc="before_definition_change",On="after_definition_change",$c="SEI_PARSED",Vc="retry",We="video_resize",Rn="pip_change",xr="rotate",Lr="screenShot",Bt="playnext",Ar="shortcut",Dr="xglog",Ht="user_action",en="reset",Mr="source_error",Or="source_success",Uc="switch_subtitle",Rr=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Nr={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Fr="fps_stuck";const jc=Object.freeze(Object.defineProperty({__proto__:null,ABORT:Fc,AFTER_DEFINITION_CHANGE:On,AUTOPLAY_PREVENTED:ti,AUTOPLAY_STARTED:qe,BEFORE_DEFINITION_CHANGE:Hc,BUFFER_CHANGE:Bc,CANPLAY:Oe,CANPLAY_THROUGH:Mc,COMPLETE:Zt,CSS_FULLSCREEN_CHANGE:Nt,DEFINITION_CHANGE:ii,DESTROY:ni,DOWNLOAD_SPEED_CHANGE:Mn,DURATION_CHANGE:$e,EMPTIED:et,ENDED:Qe,ENTER_PLAYER:Pr,ERROR:St,FPS_STUCK:Fr,FULLSCREEN_CHANGE:Me,LEAVE_PLAYER:wr,LOADED_DATA:Be,LOADED_METADATA:Oc,LOADING:Ir,LOAD_START:Zn,MINI_STATE_CHANGE:Ft,PAUSE:dt,PIP_CHANGE:Rn,PLAY:ye,PLAYER_BLUR:Sr,PLAYER_FOCUS:Qn,PLAYING:Jn,PLAYNEXT:Bt,PROGRESS:Tr,RATE_CHANGE:Cr,READY:ei,REPLAY:Rt,RESET:en,RETRY:Vc,ROTATE:xr,SCREEN_SHOT:Lr,SEEKED:Re,SEEKING:Jt,SEI_PARSED:$c,SHORTCUT:Ar,SOURCE_ERROR:Mr,SOURCE_SUCCESS:Or,STALLED:Rc,STATS_EVENTS:Nr,SUSPEND:Nc,SWITCH_SUBTITLE:Uc,TIME_UPDATE:me,URL_CHANGE:Qt,URL_NULL:Er,USER_ACTION:Ht,VIDEO_EVENTS:Rr,VIDEO_RESIZE:We,VOLUME_CHANGE:br,WAITING:Et,XGLOG:Dr},Symbol.toStringTag,{value:"Module"}));function fn(a,s){!this||!this.emit||(a==="error"?this.errorHandler(a,s.error):this.emit(a,s))}function zc(a,s){return function(i,t){var e={player:s,eventName:a,originalEvent:i,detail:i.detail||{},timeStamp:i.timeStamp,currentTime:s.currentTime,duration:s.duration,paused:s.paused,ended:s.ended,isInternalOp:!!s._internalOp[i.type],muted:s.muted,volume:s.volume,host:h.getHostFromUrl(s.currentSrc),vtype:s.vtype};if(s.removeInnerOP(i.type),a==="timeupdate"&&(s._currentTime=s.media&&s.media.currentTime),a==="ratechange"){var n=s.media?s.media.playbackRate:0;if(n&&s._rate===n)return;s._rate=s.media&&s.media.playbackRate}if(a==="durationchange"&&(s._duration=s.media.duration),a==="volumechange"&&(e.isMutedChange=s._lastMuted!==s.muted,s._lastMuted=s.muted),a==="error"&&(e.error=t||s.video.error),s.mediaEventMiddleware[a]){var r=fn.bind(s,a,e);try{s.mediaEventMiddleware[a].call(s,e,r)}catch(o){throw fn.call(s,a,e),o}}else fn.call(s,a,e)}}var Wc=function(a){z(i,a);var s=W(i);function i(t){var e;N(this,i),e=s.call(this,t),e._hasStart=!1,e._currentTime=0,e._duration=0,e._internalOp={},e._lastMuted=!1,e.vtype="MP4",e._rate=-1,e.mediaConfig=Object.assign({},{controls:!1,autoplay:t.autoplay,playsinline:t.playsinline,"x5-playsinline":t.playsinline,"webkit-playsinline":t.playsinline,"x5-video-player-fullscreen":t["x5-video-player-fullscreen"]||t.x5VideoPlayerFullscreen,"x5-video-orientation":t["x5-video-orientation"]||t.x5VideoOrientation,airplay:t.airplay,"webkit-airplay":t.airplay,tabindex:t.tabindex|0,mediaType:t.mediaType||"video","data-index":-1},t.videoConfig,t.videoAttributes);var n=t["x5-video-player-type"]||t.x5VideoPlayerType;return X.isWeixin&&X.os.isAndroid&&n&&(e.mediaConfig["x5-video-player-type"]=n,delete e.mediaConfig.playsinline,delete e.mediaConfig["webkit-playsinline"],delete e.mediaConfig["x5-playsinline"]),t.loop&&(e.mediaConfig.loop="loop"),t.autoplayMuted&&!Object.prototype.hasOwnProperty.call(e.mediaConfig,"muted")&&(e.mediaConfig.muted=!0),e.media=h.createDom(e.mediaConfig.mediaType,"",e.mediaConfig,""),t.defaultPlaybackRate&&(e.media.defaultPlaybackRate=e.media.playbackRate=t.defaultPlaybackRate),h.typeOf(t.volume)==="Number"&&(e.volume=t.volume),t.autoplayMuted&&(e.media.muted=!0,e._lastMuted=!0),t.autoplay&&(e.media.autoplay=!0),e._interval={},e.mediaEventMiddleware={},e.attachVideoEvents(),e}return F(i,[{key:"setEventsMiddleware",value:function(e){var n=this;Object.keys(e).map(function(r){n.mediaEventMiddleware[r]=e[r]})}},{key:"removeEventsMiddleware",value:function(e){var n=this;Object.keys(e).map(function(r){delete n.mediaEventMiddleware[r]})}},{key:"attachVideoEvents",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=Rr.map(function(r){var o="on".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));return typeof e[o]=="function"&&e.on(r,e[o]),E({},r,zc(r,e))})),this._evHandlers.forEach(function(r){var o=Object.keys(r)[0];n.addEventListener(o,r[o],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(r){var o=Object.keys(r)[0];n.removeEventListener(o,r[o],!1)}),this._evHandlers.forEach(function(r){var o=Object.keys(r)[0],l="on".concat(o.charAt(0).toUpperCase()).concat(o.slice(1));typeof e[l]=="function"&&e.off(o,e[l])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,n){var r=this;e.removeAttribute("src"),e.load(),n.forEach(function(f,d){r.media.appendChild(h.createDom("source","",{src:"".concat(f.src),type:"".concat(f.type||""),"data-index":d+1}))});var o=e.children;if(o){this._videoSourceCount=o.length,this._videoSourceIndex=o.length,this._vLoadeddata=function(f){r.emit(Or,{src:f.target.currentSrc,host:h.getHostFromUrl(f.target.currentSrc)})};for(var l=null,u=0;u<this._evHandlers.length;u++)if(Object.keys(this._evHandlers[u])[0]==="error"){l=this._evHandlers[u];break}!this._sourceError&&(this._sourceError=function(f){var d=parseInt(f.target.getAttribute("data-index"),10);if(r._videoSourceIndex--,r._videoSourceIndex===0||d>=r._videoSourceCount){var v={code:4,message:"sources_load_error"};l?l.error(f,v):r.errorHandler("error",v)}var g=wi[4];r.emit(Mr,new Ot(r,{errorType:g,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:f.target.src}))});for(var c=0;c<o.length;c++)o[c].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var n=e.children;if(!(!n||n.length===0||!this._sourceError)){for(var r=0;r<n.length;r++)n[r].removeEventListener("error",this._sourceError);for(;n.length>0;)e.removeChild(n[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||n)){var r=this.media.error||n,o=r.code?wi[r.code]:"other",l=r.message;this.media.currentSrc||(l="empty_src",r={code:6,message:l}),this.emit(e,new Ot(this,{errorType:o,errorCode:r.code,errorMessage:r.message||"",mediaError:r}))}}},{key:"destroy",value:function(){this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var e in this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return this.media?this.media.canPlayType(e):!1}},{key:"getBufferedRange",value:function(e){var n=[0,0];if(!this.media)return n;e||(e=this.media.buffered);var r=this.media.currentTime;if(e)for(var o=0,l=e.length;o<l&&(n[0]=e.start(o),n[1]=e.end(o),!(n[0]<=r&&r<=n[1]));o++);return n[0]-r<=0&&r-n[1]<=0?n:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?h.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var n=this.media.buffered;if(!n||n.length===0)return e;for(var r=0;r<n.length;r++)if((n.start(r)<=this.currentTime||n.start(r)<.1)&&n.end(r)>=this.currentTime)return{start:n.start(r),end:n.end(r)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var n=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return n[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(e){!this.media||this.media.muted===e||(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){!this.media||e===1/0||(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(this.media){if(this.emit(Qt,e),this.emit(Et),this._currentTime=0,this._duration=0,h.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),h.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e===1/0||!this.media||(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,n){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=K(G(i.prototype),"emit",this)).call.apply(r,[this,e,n].concat(l))}},{key:"on",value:function(e,n){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=K(G(i.prototype),"on",this)).call.apply(r,[this,e,n].concat(l))}},{key:"once",value:function(e,n){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=K(G(i.prototype),"once",this)).call.apply(r,[this,e,n].concat(l))}},{key:"off",value:function(e,n){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=K(G(i.prototype),"off",this)).call.apply(r,[this,e,n].concat(l))}},{key:"offAll",value:function(){K(G(i.prototype),"removeAllListeners",this).call(this)}}]),i}(_r),Gc=function(){function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};N(this,a),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=s}return F(a,[{key:"openDB",value:function(i){var t=this,e=this,n=this.myDB.version||1,r=e.indexedDB.open(e.myDB.name,n);r.onerror=function(o){},r.onsuccess=function(o){t.myDB.db=o.target.result,i.call(e)},r.onupgradeneeded=function(o){var l=o.target.result;o.target.transaction,l.objectStoreNames.contains(e.myDB.ojstore.name)||l.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var i=this;i.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(i,t){for(var e=this.myDB.db.transaction(i,"readwrite").objectStore(i),n,r=0;r<t.length;r++)n=e.add(t[r]),n.onerror=function(){},n.onsuccess=function(){}}},{key:"putData",value:function(i,t){for(var e=this.myDB.db.transaction(i,"readwrite").objectStore(i),n,r=0;r<t.length;r++)n=e.put(t[r]),n.onerror=function(){},n.onsuccess=function(){}}},{key:"getDataByKey",value:function(i,t,e){var n=this,r=this.myDB.db.transaction(i,"readwrite").objectStore(i),o=r.get(t);o.onerror=function(){e.call(n,null)},o.onsuccess=function(l){var u=l.target.result;e.call(n,u)}}},{key:"deleteData",value:function(i,t){var e=this.myDB.db.transaction(i,"readwrite").objectStore(i);e.delete(t)}},{key:"clearData",value:function(i){var t=this.myDB.db.transaction(i,"readwrite").objectStore(i);t.clear()}}]),a}(),Ii=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],xi=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],Li=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],Xe="data-xgplayerid";function wt(a,s,i){for(var t=arguments.length,e=new Array(t>3?t-3:0),n=3;n<t;n++)e[n-3]=arguments[n];var r=s.call.apply(s,[a].concat(e));!i||typeof i!="function"||(r&&r.then?r.then(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];i.call.apply(i,[a].concat(l))}):i.call.apply(i,[a].concat(e)))}function $t(a,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[a]&&(this.__hooks[a]=null),(function(){var t=arguments,e=this;if(i.pre)try{var n;(n=i.pre).call.apply(n,[this].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(a,":pre error] >> ").concat(o.message),o}if(this.__hooks&&this.__hooks[a])try{var r=Pe(this,a,s);r?r.then?r.then(function(o){o!==!1&&wt.apply(void 0,[e,s,i.next].concat(be(t)))}).catch(function(o){throw o}):wt.apply(void 0,[this,s,i.next].concat(Array.prototype.slice.call(arguments))):r===void 0&&wt.apply(void 0,[this,s,i.next].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(a,"] >> ").concat(o.message),o}else wt.apply(void 0,[this,s,i.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function Br(a,s){var i=this.__hooks;if(!i||!Array.isArray(i[a]))return-1;for(var t=i[a],e=0;e<t.length;e++)if(t[e]===s)return e;return-1}function Vt(a,s){var i=this.__hooks;if(i)return i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[]),Br.call(this,a,s)===-1&&i[a].push(s),!0):(console.warn("has no supported hook which name [".concat(a,"]")),!1)}function Ut(a,s){var i=this.__hooks;if(i){if(Array.isArray(i[a])){var t=i[a],e=Br.call(this,a,s);e!==-1&&t.splice(e,1)}delete i[a]}}function Ai(a){if(!(!this.plugins||!this.plugins[a.toLowerCase()])){for(var s=this.plugins[a.toLowerCase()],i=arguments.length,t=new Array(i>1?i-1:0),e=1;e<i;e++)t[e-1]=arguments[e];return s.useHooks&&s.useHooks.apply(s,t)}}function Di(a){if(!(!this.plugins||!this.plugins[a.toLowerCase()])){var s=this.plugins[a.toLowerCase()];if(s){for(var i=arguments.length,t=new Array(i>1?i-1:0),e=1;e<i;e++)t[e-1]=arguments[e];return s.removeHooks&&s.removeHooks.apply(s,t)}}}function Hr(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.__hooks={},s&&s.map(function(i){a.__hooks[i]=null}),Object.defineProperty(a,"hooks",{get:function(){return a.__hooks&&Object.keys(a.__hooks).map(function(t){if(a.__hooks[t])return t})}})}function $r(a){a.__hooks=null}function Pe(a,s,i){for(var t=arguments.length,e=new Array(t>3?t-3:0),n=3;n<t;n++)e[n-3]=arguments[n];if(a.__hooks&&Array.isArray(a.__hooks[s])){var r=a.__hooks[s],o=-1,l=function u(c,f,d){for(var v=arguments.length,g=new Array(v>3?v-3:0),p=3;p<v;p++)g[p-3]=arguments[p];if(o++,r.length===0||o===r.length)return d.call.apply(d,[c,c].concat(g));var m=r[o],w=m.call.apply(m,[c,c].concat(g));if(w&&w.then)return w.then(function(_){return _===!1?null:u.apply(void 0,[c,f,d].concat(g))}).catch(function(_){console.warn("[runHooks]".concat(f," reject"),_.message)});if(w!==!1)return u.apply(void 0,[c,f,d].concat(g))};return l.apply(void 0,[a,s,i].concat(e))}else return i.call.apply(i,[a,a].concat(e))}function hn(a,s){J.logError("[".concat(a,"] event or callback cant be undefined or null when call ").concat(s))}var Ge=function(){function a(s){N(this,a),h.checkIsFunction(this.beforeCreate)&&this.beforeCreate(s),Hr(this),this.__args=s,this.__events={},this.__onceEvents={},this.config=s.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(s)}return F(a,[{key:"beforeCreate",value:function(i){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(i){this.player=i.player,this.playerConfig=i.player&&i.player.config,this.pluginName=i.pluginName?i.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=i.player&&i.player.logger}},{key:"updateLang",value:function(i){i||(i=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var i=h.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(i=this.playerConfig.domEventType),i}},{key:"on",value:function(i,t){var e=this;if(!i||!t||!this.player){hn(this.pluginName,"plugin.on(event, callback)");return}typeof i=="string"?(this.__events[i]=t,this.player.on(i,t)):Array.isArray(i)&&i.forEach(function(n){e.__events[n]=t,e.player.on(n,t)})}},{key:"once",value:function(i,t){var e=this;if(!i||!t||!this.player){hn(this.pluginName,"plugin.once(event, callback)");return}typeof i=="string"?(this.__onceEvents[i]=t,this.player.once(i,t)):Array.isArray(i)&&i.forEach(function(n){e.__onceEvents[n]=t,e.player.once(i,t)})}},{key:"off",value:function(i,t){var e=this;if(!i||!t||!this.player){hn(this.pluginName,"plugin.off(event, callback)");return}typeof i=="string"?(delete this.__events[i],this.player.off(i,t)):Array.isArray(i)&&i.forEach(function(n){delete e.__events[i],e.player.off(n,t)})}},{key:"offAll",value:function(){var i=this;["__events","__onceEvents"].forEach(function(t){Object.keys(i[t]).forEach(function(e){i[t][e]&&i.off(e,i[t][e]),e&&delete i[t][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(i){var t;if(this.player){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(t=this.player).emit.apply(t,[i].concat(n))}}},{key:"emitUserAction",value:function(i,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var n=oe(oe({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(i,t,n)}}},{key:"hook",value:function(i,t){return $t.call.apply($t,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return Vt.call.apply(Vt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(i,t){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return Ut.call.apply(Ut,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(i){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return e&&(t.pluginName=e),this.player.registerPlugin({plugin:i,options:t})}},{key:"getPlugin",value:function(i){return this.player?this.player.getPlugin(i):null}},{key:"__destroy",value:function(){var i=this,t=this.player,e=this.pluginName;this.offAll(),h.clearAllTimers(this),h.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(n){i[n]=null}),t.unRegisterPlugin(e),$r(this)}}],[{key:"defineGetterOrSetter",value:function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(i,e,t[e])}},{key:"defineMethod",value:function(i,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&typeof t[e]=="function"&&Object.defineProperty(i,e,{configurable:!0,value:t[e]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),a}(),Kc=9;if(typeof Element<"u"&&!Element.prototype.matches){var it=Element.prototype;it.matches=it.matchesSelector||it.mozMatchesSelector||it.msMatchesSelector||it.oMatchesSelector||it.webkitMatchesSelector}function Yc(a,s){for(;a&&a.nodeType!==Kc;){if(typeof a.matches=="function"&&a.matches(s))return a;a=a.parentNode}}var Xc=Yc,qc=Xc;function dn(a,s,i,t,e){var n=Zc.apply(this,arguments);return a.addEventListener(i,n,e),{destroy:function(){a.removeEventListener(i,n,e)}}}function Jc(a,s,i,t,e){return typeof a.addEventListener=="function"?dn.apply(null,arguments):typeof i=="function"?dn.bind(null,document).apply(null,arguments):(typeof a=="string"&&(a=document.querySelectorAll(a)),Array.prototype.map.call(a,function(n){return dn(n,s,i,t,e)}))}function Zc(a,s,i,t){return function(e){e.delegateTarget=qc(e.target,s),e.delegateTarget&&t.call(a,e)}}var Qc=Jc;const Mi=qt(Qc);var ef={CONTROLS:"controls",ROOT:"root"},ie={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},Oi={ICON_DISABLE:"xg-icon-disable"};function gn(a){return a?a.indexOf&&/^(?:http|data:|\/)/.test(a):!1}function tf(a,s){return de(a)==="object"&&a.class&&typeof a.class=="string"?"".concat(s," ").concat(a.class):s}function nf(a,s){return de(a)==="object"&&a.attr&&de(a.attr)==="object"&&Object.keys(a.attr).map(function(i){s[i]=a.attr[i]}),s}function Ri(a,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",n=null;if(a instanceof window.Element)return h.addClass(a,i),Object.keys(t).map(function(r){a.setAttribute(r,t[r])}),a;if(gn(a)||gn(a.url))return t.src=gn(a)?a:a.url||"",n=h.createDom(a.tag||"img","",t,"xg-img ".concat(i)),n;if(typeof a=="function")try{return n=a(),n instanceof window.Element?(h.addClass(n,i),Object.keys(t).map(function(r){n.setAttribute(r,t[r])}),n):(J.logWarn("warn>>icons.".concat(s," in config of plugin named [").concat(e,"] is a function mast return an Element Object")),null)}catch(r){return J.logError("Plugin named [".concat(e,"]:createIcon"),r),null}return typeof a=="string"?h.createDomFromHtml(a,t,i):(J.logWarn("warn>>icons.".concat(s," in config of plugin named [").concat(e,"] is invalid")),null)}function rf(a,s){var i=s.config.icons||s.playerConfig.icons;Object.keys(a).map(function(t){var e=a[t],n=e&&e.class?e.class:"",r=e&&e.attr?e.attr:{},o=null;i&&i[t]&&(n=tf(i[t],n),r=nf(i[t],r),o=Ri(i[t],t,n,r,s.pluginName)),!o&&e&&(o=Ri(e.icon?e.icon:e,r,n,{},s.pluginName)),s.icons[t]=o})}function sf(a,s){Object.keys(a).map(function(i){Object.defineProperty(s.langText,i,{get:function(){var e=s.lang,n=s.i18n;return n[i]?n[i]:a[i]&&a[i][e]||""}})})}var te=function(a){z(i,a);var s=W(i);function i(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return N(this,i),t=s.call(this,e),t.__delegates=[],t}return F(i,[{key:"__init",value:function(e){if(K(G(i.prototype),"__init",this).call(this,e),!!e.root){var n=e.root,r=null;this.icons={},this.root=null,this.parent=null;var o=this.registerIcons()||{};rf(o,this),this.langText={};var l=this.registerLanguageTexts()||{};sf(l,this);var u="";try{u=this.render()}catch(d){throw J.logError("Plugin:".concat(this.pluginName,":render"),d),new Error("Plugin:".concat(this.pluginName,":render:").concat(d.message))}if(u)r=i.insert(u,n,e.index),r.setAttribute("data-index",e.index);else if(e.tag)r=h.createDom(e.tag,"",e.attr,e.name),r.setAttribute("data-index",e.index),n.appendChild(r);else return;this.root=r,this.parent=n;var c=this.config.attr||{},f=this.config.style||{};this.setAttr(c),this.setStyle(f),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var n=this.children();n&&de(n)==="object"&&Object.keys(n).length>0&&Object.keys(n).map(function(r){var o=r,l=n[o],u={root:e.root},c,f;typeof l=="function"?(c=e.config[o]||{},f=l):de(l)==="object"&&typeof l.plugin=="function"&&(c=l.options?h.deepCopy(e.config[o]||{},l.options):e.config[o]||{},f=l.plugin),u.config=c,c.index!==void 0&&(u.index=c.index),c.root&&(u.root=c.root),e.registerPlugin(f,u,o)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);function n(u,c){for(var f=0;f<u.children.length;f++)u.children[f].children.length>0?n(u.children[f],c):c(u.children[f])}var r=this.root,o=this.i18n,l=this.langText;r&&n(r,function(u){var c=u.getAttribute&&u.getAttribute("lang-key");if(c){var f=o[c.toUpperCase()]||l[c];f&&(u.innerHTML=typeof f=="function"?f(e):f)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.i18n||{},o=this.langText;e.setAttribute&&e.setAttribute("lang-key",n);var l=r[n]||o[n]||"";l&&(e.innerHTML=l)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,h.addClass(this.find(".xgplayer-icon"),Oi.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,h.removeClass(this.find(".xgplayer-icon"),Oi.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";n.root=n.root||this.root;var o=K(G(i.prototype),"registerPlugin",this).call(this,e,n,r);return this._children.push(o),o}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,n,r){var o=this;if(arguments.length<3&&typeof n=="function")Array.isArray(e)?e.forEach(function(u){o.bindEL(u,n)}):this.bindEL(e,n);else{var l=i.delegate.call(this,this.root,e,n,r);this.__delegates=this.__delegates.concat(l)}}},{key:"unbind",value:function(e,n){var r=this;if(arguments.length<3&&typeof n=="function")Array.isArray(e)?e.forEach(function(u){r.unbindEL(u,n)}):this.unbindEL(e,n);else for(var o="".concat(e,"_").concat(n),l=0;l<this.__delegates.length;l++)if(this.__delegates[l].key===o){this.__delegates[l].destroy(),this.__delegates.splice(l,1);break}}},{key:"setStyle",value:function(e,n){var r=this;if(this.root){if(h.typeOf(e)==="String")return this.root.style[e]=n;h.typeOf(e)==="Object"&&Object.keys(e).map(function(o){r.root.style[o]=e[o]})}}},{key:"setAttr",value:function(e,n){var r=this;if(this.root){if(h.typeOf(e)==="String")return this.root.setAttribute(e,n);h.typeOf(e)==="Object"&&Object.keys(e).map(function(o){r.root.setAttribute(o,e[o])})}}},{key:"setHtml",value:function(e,n){this.root&&(this.root.innerHTML=e,typeof n=="function"&&n())}},{key:"bindEL",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof n=="function"&&this.root.addEventListener(e,n,r)}},{key:"unbindEL",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof n=="function"&&this.root.removeEventListener(e,n,r)}},{key:"show",value:function(e){if(this.root){this.root.style.display=e!==void 0?e:"block";var n=window.getComputedStyle(this.root,null),r=n.getPropertyValue("display");if(r==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,n){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!n||!(n instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(n):e.appendChild(n)}catch(r){return J.logError("Plugin:appendChild",r),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,n=this.player;this.__delegates.map(function(r){r.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(r){n.unRegisterPlugin(r.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),K(G(i.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(r){e[r]=null})}}],[{key:"insert",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=n.children.length,l=Number(r),u=e instanceof window.Node;if(o){for(var c=0,f=null,d="";c<o;c++){f=n.children[c];var v=Number(f.getAttribute("data-index"));if(v>=l){d="beforebegin";break}else v<l&&(d="afterend")}return u?d==="afterend"?n.appendChild(e):n.insertBefore(e,f):f.insertAdjacentHTML(d,e),d==="afterend"?n.children[n.children.length-1]:n.children[c]}else return u?n.appendChild(e):n.insertAdjacentHTML("beforeend",e),n.children[n.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,n,r,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=[];if(e instanceof window.Node&&typeof o=="function")if(Array.isArray(r))r.forEach(function(f){var d=Mi(e,n,f,o,l);d.key="".concat(n,"_").concat(f),u.push(d)});else{var c=Mi(e,n,r,o,l);c.key="".concat(n,"_").concat(r),u.push(c)}return u}},{key:"ROOT_TYPES",get:function(){return ef}},{key:"POSITIONS",get:function(){return ie}}]),i}(Ge),af=function(){function a(){var s=this;if(N(this,a),E(this,"__trigger",function(i){var t=new Date().getTime();s.timeStamp=t;for(var e=0;e<i.length;e++)s.__runHandler(i[e].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(xc(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(i){console.error(i)}}return F(a,[{key:"addObserver",value:function(i,t){if(this.observer){this.observer.observe(i);for(var e=i.getAttribute(Xe),n=this.__handlers,r=-1,o=0;o<n.length;o++)n[o]&&i===n[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:i,handler:t,playerId:e})}}},{key:"unObserver",value:function(i){var t=-1;this.__handlers.map(function(n,r){i===n.target&&(t=r)});try{var e;(e=this.observer)===null||e===void 0||e.unobserve(i)}catch{}t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){var i;(i=this.observer)===null||i===void 0||i.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(i){for(var t=this.__handlers,e=0;e<t.length;e++)if(t[e]&&i===t[e].target){try{t[e].handler(i)}catch(n){console.error(n)}return!0}return!1}}]),a}(),yt=null;function of(a,s){return yt||(yt=new af),yt.addObserver(a,s),yt}function lf(a,s){var i;(i=yt)===null||i===void 0||i.unObserver(a,s)}var fe={pluginGroup:{},init:function(s){var i=s._pluginInfoId;i||(i=new Date().getTime(),s._pluginInfoId=i),!s.config.closeResizeObserver&&of(s.root,function(){s.resize()}),this.pluginGroup[i]={_originalOptions:s.config||{},_plugins:{}}},formatPluginInfo:function(s,i){var t=null,e=null;return s.plugin&&typeof s.plugin=="function"?(t=s.plugin,e=s.options):(t=s,e={}),i&&(e.config=i||{}),{PLUFGIN:t,options:e}},checkPluginIfExits:function(s,i){for(var t=0;t<i.length;t++)if(s.toLowerCase()===i[t].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(s,i){for(var t=Object.keys(i),e=null,n=0;n<t.length;n++)if(s.toLowerCase()===t[n].toLowerCase()){e=i[t[n]];break}return h.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(s,i){var t=this,e=i.timeout||1500;return Promise.race([i.loader().then(function(n){var r;n&&n.__esModule?r=n.default:r=n,t.register(s,r,n.options)}),new Promise(function(n,r){setTimeout(function(){r(new Error("timeout"))},e)})])},register:function(s,i){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!s||!i||typeof i!="function"||i.prototype===void 0)){var e=s._pluginInfoId;if(!(!e||!this.pluginGroup[e])){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var n=this.pluginGroup[e]._plugins,r=this.pluginGroup[e]._originalOptions;t.player=s;var o=t.pluginName||i.pluginName;if(!o)throw new Error("The property pluginName is necessary");if(i.isSupported&&!i.isSupported(s.config.mediaType,s.config.codecType)){console.warn("not supported plugin [".concat(o,"]"));return}t.config||(t.config={});for(var l=Object.keys(r),u=0;u<l.length;u++)if(o.toLowerCase()===l[u].toLowerCase()){var c=r[l[u]];h.typeOf(c)==="Object"?t.config=Object.assign({},t.config,r[l[u]]):h.typeOf(c)==="Boolean"&&(t.config.disable=!c);break}i.defaultConfig&&Object.keys(i.defaultConfig).forEach(function(d){typeof t.config[d]>"u"&&(t.config[d]=i.defaultConfig[d])}),t.root?typeof t.root=="string"&&(t.root=s[t.root]):t.root=s.root,t.index=t.config.index||0;try{n[o.toLowerCase()]&&(this.unRegister(e,o.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(o,"] exist, destroy the old instance")));var f=new i(t);return n[o.toLowerCase()]=f,n[o.toLowerCase()].func=i,f&&typeof f.afterCreate=="function"&&f.afterCreate(),f}catch(d){throw console.error(d),d}}}},unRegister:function(s,i){s._pluginInfoId&&(s=s._pluginInfoId),i=i.toLowerCase();try{var t=this.pluginGroup[s]._plugins[i];t&&(t.pluginName&&t.__destroy(),delete this.pluginGroup[s]._plugins[i])}catch(e){console.error("[unRegister:".concat(i,"] cgid:[").concat(s,"] error"),e)}},deletePlugin:function(s,i){var t=s._pluginInfoId;t&&this.pluginGroup[t]&&this.pluginGroup[t]._plugins&&delete this.pluginGroup[t]._plugins[i]},getPlugins:function(s){var i=s._pluginInfoId;return i&&this.pluginGroup[i]?this.pluginGroup[i]._plugins:{}},findPlugin:function(s,i){var t=s._pluginInfoId;if(!t||!this.pluginGroup[t])return null;var e=i.toLowerCase();return this.pluginGroup[t]._plugins[e]},beforeInit:function(s){var i=this;function t(e){return!e||!e.then?new Promise(function(n){n()}):e}return new Promise(function(e){if(i.pluginGroup){var n;return s._loadingPlugins&&s._loadingPlugins.length?n=Promise.all(s._loadingPlugins):n=Promise.resolve(),n.then(function(){var r=s._pluginInfoId;if(!i.pluginGroup[r]){e();return}var o=i.pluginGroup[r]._plugins,l=[];Object.keys(o).forEach(function(u){if(o[u]&&o[u].beforePlayerInit)try{var c=o[u].beforePlayerInit();l.push(t(c))}catch(f){throw l.push(t(null)),f}}),Promise.all([].concat(l)).then(function(){e()}).catch(function(u){console.error(u),e()})})}})},afterInit:function(s){var i=s._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var t=this.pluginGroup[i]._plugins;Object.keys(t).forEach(function(e){t[e]&&t[e].afterPlayerInit&&t[e].afterPlayerInit()})}},setLang:function(s,i){var t=i._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=this.pluginGroup[t]._plugins;Object.keys(e).forEach(function(n){if(e[n].updateLang)e[n].updateLang(s);else try{e[n].lang=s}catch{console.warn("".concat(n," setLang"))}})}},reRender:function(s){var i=this,t=s._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=[],n=this.pluginGroup[t]._plugins;Object.keys(n).forEach(function(r){r!=="controls"&&n[r]&&(e.push({plugin:n[r].func,options:n[r].__args}),i.unRegister(t,r))}),e.forEach(function(r){i.register(s,r.plugin,r.options)})}},onPluginsReady:function(s){var i=s._pluginInfoId;if(!(!i||!this.pluginGroup[i])){var t=this.pluginGroup[i]._plugins||{};Object.keys(t).forEach(function(e){t[e].onPluginsReady&&typeof t[e].onPluginsReady=="function"&&t[e].onPluginsReady()})}},destroy:function(s){var i=s._pluginInfoId;if(this.pluginGroup[i]){lf(s.root);for(var t=this.pluginGroup[i]._plugins,e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this.unRegister(i,r)}delete this.pluginGroup[i],delete s._pluginInfoId}}},x={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Ni(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:Lc(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var uf=function(s,i){var t,e,n;i.preset&&i.options?n=new i.preset(i.options,s.config):n=new i({},s.config);var r=n,o=r.plugins,l=o===void 0?[]:o,u=r.ignores,c=u===void 0?[]:u,f=r.icons,d=f===void 0?{}:f,v=r.i18n,g=v===void 0?[]:v;s.config.plugins||(s.config.plugins=[]),s.config.ignores||(s.config.ignores=[]),(t=s.config.plugins).push.apply(t,be(l)),(e=s.config.ignores).push.apply(e,be(c)),Object.keys(d).map(function(m){s.config.icons[m]||(s.config.icons[m]=d[m])});var p=s.config.i18n||[];g.push.apply(g,be(p)),s.config.i18n=g},cf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onMouseEnter",function(o){var l=b(t),u=l.player,c=l.playerConfig;c.closeControlsBlur&&u.focus({autoHide:!1})}),E(b(t),"onMouseLeave",function(o){var l=b(t),u=l.player;u.focus()}),t}return F(i,[{key:"beforeCreate",value:function(e){!e.config.mode&&X.device==="mobile"&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,n=this.config,r=n.disable,o=n.height,l=n.mode;if(!r){l==="flex"&&this.player.addClass(x.FLEX_CONTROLS);var u={height:"".concat(o,"px")};Object.keys(u).map(function(f){e.root.style[f]=u[f]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(Ft,function(f){f?h.addClass(e.root,"mini-controls"):h.removeClass(e.root,"mini-controls")});var c=this.playerConfig.isMobileSimulateMode;X.device!=="mobile"&&c!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&h.addClass(this.root,x.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){h.removeClass(this.root,x.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(this.root){var o=e.defaultConfig||{};if(!n.root){var l=n.position?n.position:n.config&&n.config.position?n.config.position:o.position;switch(l){case ie.CONTROLS_LEFT:n.root=this.left;break;case ie.CONTROLS_RIGHT:n.root=this.right;break;case ie.CONTROLS_CENTER:n.root=this.center;break;case ie.CONTROLS:n.root=this.root;break;default:n.root=this.left}return K(G(i.prototype),"registerPlugin",this).call(this,e,n,r)}}}},{key:"destroy",value:function(){X.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave))}},{key:"render",value:function(){var e=this.config,n=e.mode,r=e.autoHide,o=e.initShow,l=e.disable;if(!l){var u=h.classNames({"xgplayer-controls":!0},{"flex-controls":n==="flex"},{"bottom-controls":n==="bottom"},E({},x.CONTROLS_AUTOHIDE,r),{"xgplayer-controls-initshow":o||!r});return'<xg-controls class="'.concat(u,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),i}(te),ff={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},pe={lang:{},langKeys:[],textKeys:[]};function kt(a,s){return Object.keys(s).forEach(function(i){var t=h.typeOf(s[i]),e=h.typeOf(a[i]);if(t==="Array"){var n;e!=="Array"&&(a[i]=[]),(n=a[i]).push.apply(n,be(s[i]))}else t==="Object"?(e!=="Object"&&(a[i]={}),kt(a[i],s[i])):a[i]=s[i]}),a}function Vr(){Object.keys(pe.lang.en).map(function(a){pe.textKeys[a]=a})}function hf(a,s){var i=[];if(s||(s=pe),!!s.lang){h.typeOf(a)!=="Array"?i=Object.keys(a).map(function(n){var r=n==="zh"?"zh-cn":n;return{LANG:r,TEXT:a[n]}}):i=a;var t=s,e=t.lang;i.map(function(n){n.LANG==="zh"&&(n.LANG="zh-cn"),e[n.LANG]?kt(e[n.LANG]||{},n.TEXT||{}):ri(n,s)}),Vr()}}function ri(a,s){var i=a.LANG;if(s||(s=pe),!!s.lang){var t=a.TEXT||{};i==="zh"&&(i="zh-cn"),s.lang[i]?kt(s.lang[i],t):(s.langKeys.push(i),s.lang[i]=t),Vr()}}function df(a){var s,i={lang:{},langKeys:[],textKeys:{},pId:a};return kt(i.lang,pe.lang),(s=i.langKeys).push.apply(s,be(pe.langKeys)),kt(i.textKeys,pe.textKeys),i}ri(ff);var ft={get textKeys(){return pe.textKeys},get langKeys(){return pe.langKeys},get lang(){var a={};return pe.langKeys.map(function(s){a[s]=pe.lang[s]}),pe.lang["zh-cn"]&&(a.zh=pe.lang["zh-cn"]||{}),a},extend:hf,use:ri,init:df},Z={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7},Fi=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],ve={},vn=null,Ur=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"add",value:function(e){e&&(ve[e.playerId]=e,Object.keys(ve).length===1&&this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&&(e.isUserActive,delete ve[e.playerId])}},{key:"_iterate",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var r in ve)if(Object.prototype.hasOwnProperty.call(ve,r)){var o=ve[r];if(n){if(e(o))break}else e(o)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var n=null;return this._iterate(function(r){var o=e(r);return o&&(n=r),o},!0),n}},{key:"findAll",value:function(e){var n=[];return this._iterate(function(r){e(r)&&n.push(r)}),n}},{key:"setActive",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(ve[e])return n?this.forEach(function(r){e===r.playerId?(r.isUserActive=!0,r.isInstNext=!1):r.isUserActive=!1}):ve[e].isUserActive=n,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(ve),n=0;n<e.length;n++){var r=ve[e[n]];if(r&&r.isUserActive)return e[n]}return null}},{key:"setNext",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(ve[e])return n?this.forEach(function(r){e===r.playerId?(r.isUserActive=!1,r.isInstNext=!0):r.isInstNext=!1}):ve[e].isInstNext=n,e}}],[{key:"getInstance",value:function(){return vn||(vn=new i),vn}}]),i}(yr.EventEmitter);function gf(a){for(var s=Object.keys(ve),i=0;i<s.length;i++){var t=ve[s[i]];if(t.root===a)return t}return null}var vf=["play","pause","replay","retry"],Bi=0,Hi=0,Ve=null,tn=function(a){z(i,a);var s=W(i);function i(t){var e;N(this,i);var n=h.deepMerge(Ni(),t);e=s.call(this,n),E(b(e),"canPlayFunc",function(){if(e.config){var g=e.config,p=g.autoplay,m=g.defaultPlaybackRate;J.logInfo("player","canPlayFunc, startTime",e.__startTime),e._seekToStartTime(),e.playbackRate=m,(p||e._useAutoplay)&&e.mediaPlay(),e.off(Oe,e.canPlayFunc),e.removeClass(x.ENTER)}}),E(b(e),"onFullscreenChange",function(g,p){var m=function(){h.setTimeout(b(e),function(){e.resize()},100)},w=h.getFullScreenEl();e._fullActionFrom?e._fullActionFrom="":e.emit(Ht,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:e.currentTime,duration:e.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var _=Ac(w,e.playerId,Xe);if(p||w&&(w===e._fullscreenEl||_))m(),!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!0,e.changeFullStyle(e.root,w,x.FULLSCREEN),e.emit(Me,!0,e._fullScreenOffset),e.cssfullscreen&&e.exitCssFullscreen();else if(e.fullscreen){m();var C=b(e),L=C._fullScreenOffset,H=C.config;if(H.needFullscreenScroll?(window.scrollTo(L.left,L.top),h.setTimeout(b(e),function(){e.fullscreen=!1,e._fullScreenOffset=null},100)):(!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!1,e._fullScreenOffset=null),e.cssfullscreen)e.removeClass(x.FULLSCREEN);else{var M=e._fullscreenEl;!M&&(e.root.contains(g.target)||g.target===e.root)&&(M=g.target),e.recoverFullStyle(e.root,M,x.FULLSCREEN)}e._fullscreenEl=null,e.emit(Me,!1)}}),E(b(e),"_onWebkitbeginfullscreen",function(g){e._fullscreenEl=e.media,e.onFullscreenChange(g,!0)}),E(b(e),"_onWebkitendfullscreen",function(g){e.onFullscreenChange(g,!1)}),Hr(b(e),vf),e.config=n,e._pluginInfoId=h.generateSessionId(),Ec(b(e));var r=e.constructor.defaultPreset;if(e.config.presets.length){var o=e.config.presets.indexOf("default");o>=0&&r&&(e.config.presets[o]=r)}else r&&e.config.presets.push(r);e.userTimer=null,e.waitTimer=null,e.handleSource=!0,e._state=Z.INITIAL,e.isAd=!1,e.isError=!1,e._hasStart=!1,e.isSeeking=!1,e.isCanplay=!1,e._useAutoplay=!1,e.__startTime=-1,e.rotateDeg=0,e.isActive=!1,e.fullscreen=!1,e.cssfullscreen=!1,e.isRotateFullscreen=!1,e._fullscreenEl=null,e.timeSegments=[],e._cssfullscreenEl=null,e.curDefinition=null,e._orgCss="",e._fullScreenOffset=null,e._videoHeight=0,e._videoWidth=0,e.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},e.sizeInfo={width:0,height:0,left:0,top:0},e._accPlayed={t:0,acc:0,loopAcc:0},e._offsetInfo={currentTime:-1,duration:0},e.innerContainer=null,e.controls=null,e.topBar=null,e.root=null,e.__i18n=ft.init(e._pluginInfoId),X.os.isAndroid&&X.osVersion>0&&X.osVersion<6&&(e.config.autoplay=!1),e.database=new Gc,e.isUserActive=!1,e._onceSeekCanplay=null,e._isPauseBeforeSeek=0,e.innerStates={isActiveLocked:!1},e.instManager=Ve;var l=e._initDOM();if(!l)return console.error(new Error("can't find the dom which id is ".concat(e.config.id," or this.config.el does not exist"))),qn(e);var u=e.config,c=u.definition,f=c===void 0?{}:c,d=u.url;if(!d&&f.list&&f.list.length>0){var v=f.list.find(function(g){return g.definition&&g.definition===f.defaultDefinition});v||(f.defaultDefinition=f.list[0].definition,v=f.list[0]),e.config.url=v.url,e.curDefinition=v}return e._bindEvents(),e._registerPresets(),e._registerPlugins(),fe.onPluginsReady(b(e)),e.getInitDefinition(),e.setState(Z.READY),h.setTimeout(b(e),function(){e.emit(ei)},0),e.onReady&&e.onReady(),(e.config.videoInit||e.config.autoplay)&&(!e.hasStart||e.state<Z.ATTACHED)&&e.start(),e}return F(i,[{key:"_initDOM",value:function(){var e,n=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var r=this.config.el;if(r&&r.nodeType===1)this.root=r;else return this.emit(St,new Ot("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var o=gf(this.root);o&&(J.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),o.destroy()),this.root.setAttribute(Xe,this.playerId),(e=Ve)===null||e===void 0||e.add(this),fe.init(this),this._initBaseDoms();var l=this.constructor.XgVideoProxy;if(l&&this.mediaConfig.mediaType===l.mediaType){var u=this.innerContainer||this.root;this.detachVideoEvents(this.media);var c=new l(u,this.config,this.mediaConfig);this.attachVideoEvents(c),this.media=c}if(this.media.setAttribute(Xe,this.playerId),this.config.controls){var f=this.config.controls.root||null,d=fe.register(this,cf,{root:f});this.controls=d}var v=this.config.isMobileSimulateMode==="mobile"?"mobile":X.device;if(this.addClass("".concat(x.DEFAULT," ").concat(x.INACTIVE," xgplayer-").concat(v," ").concat(this.config.controls?"":x.NO_CONTROLS)),this.config.autoplay?this.addClass(x.ENTER):this.addClass(x.NO_START),this.config.fluid){var g=this.config,p=g.width,m=g.height;(typeof p!="number"||typeof m!="number")&&(p=600,m=337.5);var w={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(m*100/p,"%")};Object.keys(w).forEach(function(U){n.root.style[U]=w[U]})}else["width","height"].forEach(function(U){n.config[U]&&(typeof n.config[U]!="number"?n.root.style[U]=n.config[U]:n.root.style[U]="".concat(n.config[U],"px"))});var _=this.root.getBoundingClientRect(),C=_.width,L=_.height,H=_.left,M=_.top;return this.sizeInfo.width=C,this.sizeInfo.height=L,this.sizeInfo.left=H,this.sizeInfo.top=M,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=h.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(n){e.on(n,e["on"+n.charAt(0).toUpperCase()+n.slice(1)])}),Ii.forEach(function(n){document&&document.addEventListener(n,e.onFullscreenChange)}),X.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(Be,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(ye,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Ii.forEach(function(n){document.removeEventListener(n,e.onFullscreenChange)}),this.playFunc&&this.off(ye,this.playFunc),this.off(Oe,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&&(h.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(e){var n=this;if(this.media&&!((!e||e===""||h.typeOf(e)==="Array"&&e.length===0)&&(e="",this.emit(Er),J.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){this.handleSource&&(this._detachSourceEvents(this.media),h.typeOf(e)==="Array"&&e.length>0?this._attachSourceEvents(this.media,e):!this.media.src||this.media.src!==e?this.media.src=e:e||this.media.removeAttribute("src")),h.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var r=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!r.contains(this.media)&&r.insertBefore(this.media,r.firstChild);var o=this.media.readyState;J.logInfo("_startInit readyState",o),this.config.autoplay&&(!h.isMSE(this.media)&&this.load(),(X.os.isIpad||X.os.isPhone)&&this.mediaPlay());var l=this.config.startTime;this.__startTime=l>0?l:-1,this.config.startTime=0,o>=2&&this.duration>0?this.canPlayFunc():this.on(Oe,this.canPlayFunc),(!this.hasStart||this.state<Z.ATTACHED)&&fe.afterInit(this),this.hasStart=!0,this.setState(Z.ATTACHED),h.setTimeout(this,function(){n.emit(Zt)},0)}}},{key:"_registerPlugins",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var r=this.config.ignores||[],o=this.config.plugins||[],l=this.config.i18n||[];n&&ft.extend(l,this.__i18n);var u=r.join("||").toLowerCase().split("||"),c=this.plugins;o.forEach(function(f){try{var d=f.plugin?f.plugin.pluginName:f.pluginName;if(d&&u.indexOf(d.toLowerCase())>-1)return null;if(!n&&c[d.toLowerCase()])return;if(f.lazy&&f.loader){var v=fe.lazyRegister(e,f);f.forceBeforeInit&&(v.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}).catch(function(g){J.logError("_registerPlugins:loadingPlugin",g),e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}),e._loadingPlugins.push(v));return}return e.registerPlugin(f)}catch(g){J.logError("_registerPlugins:",g)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(n){uf(e,n)})}},{key:"_getRootByPosition",value:function(e){var n=null;switch(e){case ie.ROOT_RIGHT:this.rightBar||(this.rightBar=h.createPositionBar("xg-right-bar",this.root)),n=this.rightBar;break;case ie.ROOT_LEFT:this.leftBar||(this.leftBar=h.createPositionBar("xg-left-bar",this.root)),n=this.leftBar;break;case ie.ROOT_TOP:this.topBar||(this.topBar=h.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&h.addClass(this.topBar,x.TOP_BAR_AUTOHIDE)),n=this.topBar;break;default:n=this.innerContainer||this.root;break}return n}},{key:"registerPlugin",value:function(e,n){var r=fe.formatPluginInfo(e,n),o=r.PLUFGIN,l=r.options,u=this.config.plugins,c=fe.checkPluginIfExits(o.pluginName,u);!c&&u.push(o);var f=fe.getRootByConfig(o.pluginName,this.config);f.root&&(l.root=f.root),f.position&&(l.position=f.position);var d=l.position?l.position:l.config&&l.config.position||o.defaultConfig&&o.defaultConfig.position;if(!l.root&&typeof d=="string"&&d.indexOf("controls")>-1){var v;return(v=this.controls)===null||v===void 0?void 0:v.registerPlugin(o,l,o.pluginName)}return l.root||(l.root=this._getRootByPosition(d)),fe.register(this,o,l)}},{key:"deregister",value:function(e){typeof e=="string"?fe.unRegister(this,e):e instanceof Ge&&fe.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(e),n&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var n;if(typeof e=="string"?n=e:e instanceof Ge&&(n=e.pluginName),!!n)for(var r=this.config.plugins.length-1;r>-1;r--){var o=this.config.plugins[r];if(o.pluginName.toLowerCase()===n.toLowerCase()){this.config.plugins.splice(r,1);break}}}},{key:"plugins",get:function(){return fe.getPlugins(this)}},{key:"getPlugin",value:function(e){var n=fe.findPlugin(this,e);return n&&n.pluginName?n:null}},{key:"addClass",value:function(e){this.root&&(h.hasClass(this.root,e)||h.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&h.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return h.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,n){this.root&&this.root.setAttribute(e,n)}},{key:"removeAttribute",value:function(e,n){this.root&&this.root.removeAttribute(e,n)}},{key:"start",value:function(e){var n=this;if(!(this.state>Z.ATTACHING))return!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(Z.ATTACHING),this._registerPlugins(!1),fe.beforeInit(this).then(function(){if(n.config){e||(e=n.url||n.config.url);var r=n._preProcessUrl(e),o=n._startInit(r.url);return o}}).catch(function(r){throw r.fileName="player",r.lineNumber="236",J.logError("start:beforeInit:",r),r})}},{key:"switchURL",value:function(e,n){var r=this,o=e;h.typeOf(e)==="Object"&&(o=e.url),o=this._preProcessUrl(o).url;var l=this.currentTime;this.__startTime=l;var u=this.paused&&!this.isError;return this.src=o,new Promise(function(c,f){var d=function(p){r.off("timeupdate",v),r.off("canplay",v),f(p)},v=function(){r._seekToStartTime(),u&&r.pause(),r.off("error",d),c(!0)};if(r.once("error",d),!o){r.errorHandler("error",{code:6,message:"empty_src"});return}X.os.isAndroid?r.once("timeupdate",v):r.once("canplay",v),r.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<Z.ATTACHED){this.removeClass(x.NO_START),this.addClass(x.ENTER),this.start(),this._useAutoplay=!0;return}this.state<Z.RUNNING&&(this.removeClass(x.NO_START),!this.isCanplay&&this.addClass(x.ENTER));var n=K(G(i.prototype),"play",this).call(this);return n!==void 0&&n&&n.then?n.then(function(){e.removeClass(x.NOT_ALLOW_AUTOPLAY),e.addClass(x.PLAYING),e.state<Z.RUNNING&&(J.logInfo(">>>>playPromise.then"),e.setState(Z.RUNNING),e.emit(qe))}).catch(function(r){if(J.logWarn(">>>>playPromise.catch",r.name),e.media&&e.media.error){e.onError(),e.removeClass(x.ENTER);return}r.name==="NotAllowedError"&&(e._errorTimer=h.setTimeout(e,function(){e._errorTimer=null,e.emit(ti),e.addClass(x.NOT_ALLOW_AUTOPLAY),e.removeClass(x.ENTER),e.pause(),e.setState(Z.NOTALLOW)},0))}):(J.logWarn("video.play not return promise"),this.state<Z.RUNNING&&(this.setState(Z.RUNNING),this.removeClass(x.NOT_ALLOW_AUTOPLAY),this.removeClass(x.NO_START),this.removeClass(x.ENTER),this.addClass(x.PLAYING),this.emit(qe))),n}},{key:"mediaPause",value:function(){K(G(i.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){K(G(i.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(x.PAUSED),Pe(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;Pe(this,"pause",function(){K(G(i.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,n){var r=this;if(!(!this.media||Number.isNaN(Number(e))||!this.hasStart)){var o=this.config,l=o.isSeekedPlay,u=o.seekedStatus,c=n||(l?"play":u);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(Re,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(r.removeClass(x.ENTER),r.isSeeking=!1,c){case"play":r.play();break;case"pause":r.pause();break;default:r._isPauseBeforeSeek>1||r.paused?r.pause():r.play()}r._isPauseBeforeSeek=0,r._onceSeekCanplay=null},this.once(Re,this._onceSeekCanplay),this.state<Z.RUNNING?(this.removeClass(x.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,n=this.config,r=n.definition,o=n.url;!o&&r&&r.list&&r.list.length>0&&r.defaultDefinition&&r.list.map(function(l){l.definition===r.defaultDefinition&&(e.config.url=l.url,e.curDefinition=l)})}},{key:"changeDefinition",value:function(e,n){var r=this,o=this.config.definition;if(Array.isArray(o==null?void 0:o.list)&&o.list.forEach(function(u){(e==null?void 0:e.definition)===u.definition&&(r.curDefinition=u)}),e!=null&&e.bitrate&&typeof e.bitrate!="number"&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(ii,{from:n,to:e}),!this.hasStart){this.config.url=e.url;return}var l=this.switchURL(e.url,oe({seamless:o.seamless!==!1&&typeof MediaSource<"u"&&typeof MediaSource.isTypeSupported=="function"},e));l&&l.then?l.then(function(){r.emit(On,{from:n,to:e})}):this.emit(On,{from:n,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(Be,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,n=x.NOT_ALLOW_AUTOPLAY,r=x.PLAYING,o=x.NO_START,l=x.PAUSED,u=x.REPLAY,c=x.ENTER,f=x.ENDED,d=x.ERROR,v=x.LOADING,g=[n,r,o,l,u,c,f,d,v];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,g.forEach(function(p){e.removeClass(p)}),this.addClass(x.NO_START),this.emit(en)}},{key:"reset",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.resetState();var o=this.plugins;if(o&&(n.map(function(u){e.deregister(u)}),r)){var l=Ni();Object.keys(this.config).keys(function(u){e.config[u]!=="undefined"&&(u==="plugins"||u==="presets"||u==="el"||u==="id")&&(e.config[u]=l[u])})}}},{key:"destroy",value:function(){var e,n=this,r=this.innerContainer,o=this.root,l=this.media;if(!(!o||!l)){if(this.hasStart=!1,this._useAutoplay=!1,o.removeAttribute(Xe),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),h.clearAllTimers(this),this.emit(ni),(e=Ve)===null||e===void 0||e.remove(this),fe.destroy(this),$r(this),K(G(i.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),r)for(var u=r.children,c=0;c<u.length;c++)r.removeChild(u[c]);!r&&l instanceof window.Node&&o.contains(l)&&o.removeChild(l),["topBar","leftBar","rightBar","innerContainer"].map(function(d){n[d]&&o.removeChild(n[d]),n[d]=null});var f=o.className.split(" ");f.length>0?o.className=f.filter(function(d){return d.indexOf("xgplayer")<0}).join(" "):o.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(d){n[d]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(x.ENDED),this.currentTime=0,this.isSeeking=!1,Pe(this,"replay",function(){e.once(Re,function(){var n=e.mediaPlay();n&&n.catch&&n.catch(function(r){console.log(r)})}),e.emit(Rt),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(x.ERROR),this.addClass(x.LOADING),Pe(this,"retry",function(){var n=e.currentTime,r=e.config.url,o=h.isMSE(e.media)?{url:r}:e._preProcessUrl(r);e.src=o.url,!e.config.isLive&&(e.currentTime=n),e.once(Oe,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,n,r,o){e&&(o||(o=x.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=h.filterStyleFromText(e)),h.addClass(e,r),n&&n!==e&&!this._orgPCss&&(this._orgPCss=h.filterStyleFromText(n),h.addClass(n,o),n.setAttribute(Xe,this.playerId)))}},{key:"recoverFullStyle",value:function(e,n,r,o){o||(o=x.PARENT_FULLSCREEN),this._orgCss&&(h.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),h.removeClass(e,r),n&&n!==e&&this._orgPCss&&(h.setStyleFromCsstext(n,this._orgPCss),this._orgPCss="",h.removeClass(n,o),n.removeAttribute(Xe))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,n=this.root,r=this.media;(e==="video"||e==="media")&&(e=this[e]),e||(e=n),this._fullScreenOffset={top:h.scrollTop(),left:h.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var o=h.getFullScreenEl();if(o===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var l=0;l<xi.length;l++){var u=xi[l];if(e[u]){var c=u==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[u]();return c&&c.then?c:Promise.resolve()}}return r.fullscreenEnabled||r.webkitSupportsFullscreen?(r.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!(!this._fullscreenEl&&!h.getFullScreenEl())){this.root;var n=this.media;this._fullActionFrom="exit";try{for(var r=0;r<Li.length;r++){var o=Li[r];if(document[o]){var l=document[o]();return l&&l.then?l:Promise.resolve()}}return n&&n.webkitSupportsFullscreen?(n.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var n=e?"".concat(x.INNER_FULLSCREEN," ").concat(x.CSS_FULLSCREEN):x.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,n);var r=this.config.fullscreen,o=r===void 0?{}:r,l=o.useCssFullscreen===!0||typeof o.useCssFullscreen=="function"&&o.useCssFullscreen();l&&(this.fullscreen=!0,this.emit(Me,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(Nt,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(x.INNER_FULLSCREEN," ").concat(x.CSS_FULLSCREEN):x.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,e);else{var n=this.config.fullscreen,r=n===void 0?{}:n,o=r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen();o?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(Me,!1)):this.removeClass(e)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(Nt,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var n=e?"".concat(x.INNER_FULLSCREEN," ").concat(x.ROTATE_FULLSCREEN):x.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,n,x.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style"),this.root.style.width="".concat(window.innerHeight,"px"),this.emit(Me,!0)}},{key:"exitRotateFullscreen",value:function(e){var n=this._fullscreenEl!==this.root?"".concat(x.INNER_FULLSCREEN," ").concat(x.ROTATE_FULLSCREEN):x.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,n,x.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Me,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(Qn,oe({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this._clearUserTimer(),this.emit(Sr,oe({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},r=this.innerStates;if(this.isActive=!0,this.removeClass(x.INACTIVE),this._clearUserTimer(),n.isLock!==void 0&&(r.isActiveLocked=n.isLock),n.autoHide===!1||n.isLock===!0||r.isActiveLocked){this._clearUserTimer();return}var o=n&&n.delay?n.delay:this.config.inactive;this.userTimer=h.setTimeout(this,function(){e.userTimer=null,e.blur()},o)}},{key:"onBlur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.ignorePaused,r=n===void 0?!1:n;if(!this.innerStates.isActiveLocked){var o=this.config.closePauseVideoFocus;this.isActive=!1,(r||o||!this.paused&&!this.ended)&&this.addClass(x.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(x.ENTER),this.removeClass(x.ERROR),this.removeClass(x.LOADING),this.isCanplay=!0,this.waitTimer&&h.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once($e,function(){e._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass(x.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===Z.ENDED&&this.setState(Z.RUNNING),this.removeClass(x.PAUSED),this.ended&&this.removeClass(x.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(x.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(x.ENDED),this.setState(Z.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(x.NOT_ALLOW_AUTOPLAY),this.removeClass(x.NO_START),this.removeClass(x.ENTER),this.removeClass(x.LOADING),this.addClass(x.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(x.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&h.clearTimeout(this,this.waitTimer),this.removeClass(x.LOADING),this.removeClass(x.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&h.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=h.setTimeout(this,function(){e.addClass(x.LOADING),e.emit(Ir),h.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var n=x.NO_START,r=x.PAUSED,o=x.ENDED,l=x.ERROR,u=x.REPLAY,c=x.LOADING,f=[n,r,o,l,u,c];f.forEach(function(d){e.removeClass(d)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(x.LOADING))&&this.media.readyState>2&&(this.removeClass(x.LOADING),h.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===Z.NOTALLOW&&this.duration&&(this.setState(Z.RUNNING),this.emit(qe)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){h.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,n,r){if(!(!this.media||!n||!e)){var o=h.typeOf(e)==="String"?e:e.type||"";r.props&&h.typeOf(r.props)!=="Array"&&(r.props=[r.props]),this.emit(Ht,oe({eventType:o,action:n,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},r))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var n=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=n,this._accPlayed.t=0,(e==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startDiff:0,endDiff:0},r=n||{},o=r.startDiff,l=o===void 0?0:o,u=r.endDiff,c=u===void 0?0:u,f=this.media.buffered;if(!f||f.length===0||!this.duration)return!0;for(var d=e||this.media.currentTime||.2,v=f.length,g=0;g<v;g++)if(f.start(g)+l<=d&&f.end(g)-c>d)return!0;return!1}},{key:"resizePosition",value:function(){var e=this.videoPos,n=e.vy,r=e.vx,o=e.h,l=e.w,u=this.videoPos.rotate;if(!(u<0&&o<0&&l<0)){var c=this.videoPos._pi;if(!c&&this.media.videoHeight&&(c=this.media.videoWidth/this.media.videoHeight*100),!!c){this.videoPos.pi=c,u=u<0?0:u;var f={rotate:u},d=0,v=0,g=1,p=Math.abs(u/90),m=this.root,w=this.innerContainer,_=m.offsetWidth,C=w?w.offsetHeight:m.offsetHeight,L=C,H=_;if(p%2===0)g=o>0?100/o:l>0?100/l:1,f.scale=g,d=n>0?(100-o)/2-n:0,f.y=p===2?0-d:d,v=r>0?(100-l)/2-r:0,f.x=p===2?0-v:v,this.media.style.width="".concat(H,"px"),this.media.style.height="".concat(L,"px");else if(p%2===1){H=C,L=_;var M=C-_;v=-M/2/H*100,f.x=p===3?v+n/2:v-n/2,d=M/2/L*100,f.y=p===3?d+r/2:d-r/2,f.scale=g,this.media.style.width="".concat(H,"px"),this.media.style.height="".concat(L,"px")}var U=h.getTransformStyle(f,this.media.style.transform||this.media.style.webkitTransform);this.media.style.transform=U,this.media.style.webkitTransform=U}}}},{key:"position",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!e||!e.h)){var n=this.videoPos;n.h=e.h*100||0,n.w=e.w*100||0,n.vx=e.x*100||0,n.vy=e.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var n=this;e&&Object.keys(e).map(function(r){if(r!=="plugins"){n.config[r]=e[r];var o=n.plugins[r.toLowerCase()];o&&h.typeOf(o.setConfig)==="Function"&&o.setConfig(e[r])}})}},{key:"playNext",value:function(e){var n=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,Pe(this,"playnext",function(){n.start(),n.emit(Bt,e)})}},{key:"resize",value:function(){var e=this;if(this.media){var n=this.root.getBoundingClientRect();this.sizeInfo.width=n.width,this.sizeInfo.height=n.height,this.sizeInfo.left=n.left,this.sizeInfo.top=n.top;var r=this.media,o=r.videoWidth,l=r.videoHeight,u=this.config,c=u.fitVideoSize,f=u.videoFillMode;if((f==="fill"||f==="cover"||f==="contain")&&this.setAttribute("data-xgfill",f),!(!l||!o)){this._videoHeight=l,this._videoWidth=o;var d=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,v=n.width,g=n.height-d,p=parseInt(o/l*1e3,10),m=parseInt(v/g*1e3,10),w=v,_=g,C={};c==="auto"&&m>p||c==="fixWidth"?(_=v/p*1e3,this.config.fluid?C.paddingTop="".concat(_*100/w,"%"):C.height="".concat(_+d,"px")):(c==="auto"&&m<p||c==="fixHeight")&&(w=p*g/1e3,C.width="".concat(w,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(C).forEach(function(H){e.root.style[H]=C[H]}),(f==="fillHeight"&&m<p||f==="fillWidth"&&m>p)&&this.setAttribute("data-xgfill","cover");var L={videoScale:p,vWidth:w,vHeight:_,cWidth:w,cHeight:_+d};this.resizePosition(),this.emit(We,L)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,n);return}this.media.style.objectPosition="".concat(e*100,"% ").concat(n*100,"%")}},{key:"setState",value:function(e){J.logInfo("setState","state from:".concat(Fi[this.state]," to:").concat(Fi[e])),this._state=e}},{key:"_preProcessUrl",value:function(e,n){var r=this.config,o=r.preProcessUrl,l=r.preProcessUrlOptions,u=Object.assign({},l,n);return!h.isBlob(e)&&typeof o=="function"?o(e,u):{url:e}}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&&(this._hasStart=e,e===!1&&this.setState(Z.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===Z.RUNNING||this._state===Z.ENDED},set:function(e){e?this.setState(Z.RUNNING):this._state>=Z.RUNNING&&this.setState(Z.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(e){var n=this,r=this.config.definition,o=null,l=null;r.list=e,this.emit("resourceReady",e),e.forEach(function(u){var c;((c=n.curDefinition)===null||c===void 0?void 0:c.definition)===u.definition&&(o=u),r.defaultDefinition===u.definition&&(l=u)}),!l&&e.length>0&&(l=e[0]),o?this.changeDefinition(o):l&&this.changeDefinition(l)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var n=this.media.getVideoPlaybackQuality();return e.dropped=n.droppedVideoFrames||0,e.total=n.totalVideoFrames||0,e.corrupted=n.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var n=ft.langKeys.filter(function(r){return r===e});if(n.length===0&&e!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(ft.langKeys.join(),"] "));return}this.config.lang=e,fe.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return Dn}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return K(G(i.prototype),"readyState",this)}},{key:"error",get:function(){var e=K(G(i.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return K(G(i.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed,n=e.acc,r=e.t;return r?new Date().getTime()-r+n:n}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=h.convertDeg(e),!(e%90!==0||e===this.videoPos.rotate)&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return Hi},set:function(e){Hi=e}},{key:"realTimeSpeed",get:function(){return Bi},set:function(e){Bi=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,n){return $t.call.apply($t,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,n){return Vt.call.apply(Vt,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,n){return Ut.call.apply(Ut,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,n,r){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return Ai.call.apply(Ai,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,n,r){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return Di.call.apply(Di,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,n){var r;typeof n=="boolean"&&n!==this.muted&&(this.addInnerOP("volumechange"),h.typeOf(n)===Boolean&&(this.muted=n)),(r=Ve)===null||r===void 0||r.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return J.config.debug},set:function(e){J.config.debug=e}},{key:"instManager",get:function(){return Ve},set:function(e){Ve=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return(e=Ve)===null||e===void 0?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,n){var r;(r=Ve)===null||r===void 0||r.setActive(e,n)}},{key:"isHevcSupported",value:function(){return X.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return X.probeConfigSupported(e)}},{key:"install",value:function(e,n){i.plugins||(i.plugins={}),i.plugins[e]||(i.plugins[e]=n)}},{key:"use",value:function(e,n){i.plugins||(i.plugins={}),i.plugins[e]=n}}]),i}(Wc);E(tn,"defaultPreset",null);E(tn,"XgVideoProxy",null);tn.instManager=Ur.getInstance();function he(){return new Date().getTime()}var Ue={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},pf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"_onTimeupdate",function(){t._state.isTimeUpdate=!0,t._state.autoplayStart&&(J.logInfo("[xgLogger]".concat(t.player.playerId," _onTimeupdate")),t._sendFF("onTimeupdate"))}),E(b(t),"_onAutoplayStart",function(){J.logInfo("[xgLogger]".concat(t.player.playerId," _onAutoplayStart")),t._state.autoplayStart=!0,t.vt&&t._sendFF("onAutoplayStart")}),E(b(t),"_onReset",function(){t._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},t.vt=0,t.pt=0,t.fvt=0,t.newPointTime=he(),t.loadedCostTime=0,t.startCostTime=0,t._isSeeking=!1,t.seekingStart=0,t.waitingStart=0,t.fixedWaitingStart=0,t._isWaiting=!1,t._waitTimer&&h.clearTimeout(b(t),t._waitTimer),t._waittTimer&&h.clearTimeout(b(t),t._waittTimer),t._waitTimer=null,t._waittTimer=null,t._waitType=0}),E(b(t),"_onSeeking",function(){t.seekingStart||(t.suspendWaitingStatus("seek"),t.seekingStart=he(),t.emitLog(Ue.SEEK_START,{start:he()}))}),E(b(t),"_onSeeked",function(){t.suspendSeekingStatus("seeked")}),E(b(t),"_onWaitingLoadStart",function(){t._isWaiting||t.vt||(t._isWaiting=!0,t.waitingStart=he(),t.fixedWaitingStart=he(),t._waitType=1,t.emitLog(Ue.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:1,endType:"loadstart"}))}),E(b(t),"_onWaiting",function(){t._isWaiting||!t.vt||(t._isWaiting=!0,t.vt?t.seekingStart?t._waitType=2:t._waitType=0:t._waitType=1,t.fixedWaitingStart=he(),t._waitTimer=h.setTimeout(b(t),function(){t._isWaiting&&(t.waitingStart=he(),h.clearTimeout(b(t),t._waitTimer),t._waitTimer=null,t._startWaitTimeout(),t.emitLog(Ue.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:t._waitType,endType:t._waitType===2?"seek":"playing"}))},200))}),E(b(t),"_onError",function(){t.suspendSeekingStatus("error"),t.suspendWaitingStatus("error")}),E(b(t),"_onPlaying",function(){t._isWaiting&&t.suspendWaitingStatus("playing")}),t}return F(i,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=he(),this.loadedCostTime=0,this.startCostTime=0,this.on(Zn,function(){var n=e._state,r=n.autoplayStart,o=n.isFFSend;e.startCostTime=he()-e.newPointTime,J.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(r," isFFSend:").concat(o," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!o&&(!n.isLs&&e.emitLog(Ue.LOAD_START,{}),n.isLs=!0,n.isTimeUpdate=!1,n.isFFLoading=!0,e.pt=he(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(Be,function(){e.vt=he(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var n=e._state,r=n.isTimeUpdate,o=n.isFFSend,l=n.autoplayStart;J.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(r||l)&&e._sendFF("loadedData"),o||e.emitLog(Ue.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(Jt,this._onSeeking),this.on(Re,this._onSeeked),this.on(ni,function(){e.endState("destroy")}),this.on(Qt,function(){e.endState("urlChange"),J.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([Jn,Oe],this._onPlaying),this.on(Et,this._onWaiting),this.on(St,this._onError),this.on(en,function(){J.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(qe,this._onAutoplayStart),this.off(me,this._onTimeupdate),this.once(qe,this._onAutoplayStart),this.once(me,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=he();var n=this._state,r=n.isFFLoading,o=n.isFFSend;J.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(r," !isFFSend:").concat(!o)),this.vt>0&&r&&!o&&(J.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(Ue.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&h.clearTimeout(this,this._waittTimer),this._waittTimer=h.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),h.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var n=he(),r=n-this.seekingStart;this.seekingStart=0,this.emitLog(Ue.SEEK_END,{end:n,costTime:r,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(h.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(h.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var n=he(),r=n-this.waitingStart,o=n-this.fixedWaitingStart,l=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(Ue.WAIT_END,{fixedCostTime:o>l?l:o,costTime:r>l?l:r,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,n){var r=this.player;this.emit(Dr,oe({t:he(),host:h.getHostFromUrl(r.currentSrc),vtype:r.vtype,eventType:e,currentTime:this.player.currentTime,readyState:r.video.readyState,networkState:r.video.networkState},n))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),i}(te);function mf(){return new DOMParser().parseFromString(`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">
  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`,"image/svg+xml").firstChild}var yf=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"registerIcons",value:function(){return{replay:mf}}},{key:"afterCreate",value:function(){var e=this;te.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(Qe,function(){if(e.playerConfig.loop||h.addClass(e.player.root,"replay"),!e.config.disable){e.show();var n=e.root.querySelector("path");if(n){var r=window.getComputedStyle(n).getPropertyValue("transform");if(typeof r=="string"&&r.indexOf("none")>-1)return null;n.setAttribute("transform",r)}}}),this.on(ye,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),h.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),i}(te),_f=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){h.addClass(this.root,"hide")}},{key:"show",value:function(e){h.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(Qe,function(){e.isEndedShow&&h.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(me,function(){e.onTimeUpdate()}),this.on(Qt,function(){h.removeClass(e.root,"hide"),h.addClass(e.root,"xg-showplay"),e.once(me,function(){e.onTimeUpdate()})})):this.on(ye,function(){h.addClass(e.root,"hide")})}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(o){n.config[o]=e[o]});var r=this.config.poster;this.update(r)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?h.removeClass(this.root,"xg-showplay"):this.once(me,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var n="";switch(e){case"cover":n="cover";break;case"contain":n="contain";break;case"fixHeight":n="auto 100%";break;default:n=""}return n?"background-size: ".concat(n,";"):""}},{key:"render",value:function(){var e=this.config,n=e.poster,r=e.hideCanplay,o=e.fillMode,l=e.notHidden,u=this.getBgSize(o),c=n?"background-image:url(".concat(n,");").concat(u):u,f=l?"xg-not-hidden":r?"xg-showplay":"";return'<xg-poster class="xgplayer-poster '.concat(f,'" style="').concat(c,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),i}(te);function si(){return new DOMParser().parseFromString(`<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`,"image/svg+xml").firstChild}function ai(){return new DOMParser().parseFromString(`<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`,"image/svg+xml").firstChild}var we={};function kf(a,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return we[a]&&window.clearTimeout(we[a].id),we[a]={},i.start&&i.start(),we[a].id=window.setTimeout(function(){i.end&&i.end(),window.clearTimeout(we[a].id),delete we[a]},s),we[a].id}function $i(a){if(a){window.clearTimeout(a);return}Object.keys(we).map(function(s){window.clearTimeout(we[s].id),delete we[s]})}var bf=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"onPlayerReset",function(){e.autoPlayStart=!1;var n=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),h.removeClass(e.root,n),e.show()}),E(b(e),"onAutoplayStart",function(){if(!e.autoPlayStart){var n=e.config.mode==="auto"?"auto-hide":"hide";h.addClass(e.root,n),e.autoPlayStart=!0,e.toggleTo("play")}}),e.autoPlayStart=!1,e}return F(i,[{key:"afterCreate",value:function(){var e=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),e.autoplay||this.show()}},{key:"listenEvents",value:function(){var e=this,n=this.player,r=this.playerConfig;this.once(ei,function(){r&&(r.lang&&r.lang==="en"?h.addClass(n.root,"lang-is-en"):r.lang==="jp"&&h.addClass(n.root,"lang-is-jp"))}),this.on(qe,this.onAutoplayStart),this.on(ti,function(){var o=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),h.removeClass(e.root,o),e.show()}),this.on(ye,function(){e.toggleTo("play")}),this.on(dt,function(){e.toggleTo("pause")}),this.on(en,function(){e.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var e=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(r){r.cancelable&&r.preventDefault(),r.stopPropagation();var o=e.player.paused;e.emitUserAction(r,"switch_play_pause",{props:"paused",from:o,to:!o})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:si,class:"xg-icon-play"},startPause:{icon:ai,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){h.addClass(this.root,"hide")}},{key:"show",value:function(e){h.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){h.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){h.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var n=this;this._animateId=kf("pauseplay",400,{start:function(){h.addClass(n.root,"interact"),n.show(),n.switchStatus(!0)},end:function(){h.removeClass(n.root,"interact"),!e&&n.hide(),n._animateId=null}})}},{key:"endAnimate",value:function(){h.removeClass(this.root,"interact"),$i(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var n=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(n.state<Z.READY)){var r=this.player.paused;!r&&n.state===Z.RUNNING?n.pause():n.play()}}},{key:"onPlayPause",value:function(e){this.toggleTo(e)}},{key:"toggleTo",value:function(e){var n=this.config,r=this.player;if(!(!r||r.state<Z.RUNNING||!this.autoPlayStart)){if(n.mode==="show"){this.switchStatus(),this.show();return}if(n.mode==="auto"){this.switchStatus();return}if(n.isShowPause&&r.paused&&!r.ended||n.isShowEnd&&r.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(n.disableAnimate){this.switchStatus(),this.hide();return}if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||r.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),$i(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(e,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),i}(te),Cf=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"render",value:function(){var e=this.config.innerHtml,n=h.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)n.appendChild(e);else if(e&&typeof e=="string")n.innerHTML=e;else{for(var r="",o=1;o<=12;o++)r+='<div class="xgplayer-enter-bar'.concat(o,'"></div>');n.innerHTML='<div class="xgplayer-enter-spinner">'.concat(r,"</div>")}return n}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),i}(te);function Ke(a,s,i){try{return' <div class="xg-tips '.concat(i?"hide":" ",'" lang-key="').concat(a.i18nKeys[s],`">
    `).concat(a.i18n[s],`
    </div>`)}catch{return'<div class="xg-tips hide"></div>'}}var Vi=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[e],'">').concat(this.i18n[e],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:10}}}]),i}(te);function Ui(a){var s=parseFloat(a),i=a.indexOf("%")===-1&&!Number.isNaN(s);return i&&s}var oi=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],jr=oi.length;function Tf(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},s=0;s<jr;s++){var i=oi[s];a[i]=0}return a}function Sf(a){var s=window.getComputedStyle(a);return s}function ji(a){if(typeof a=="string"&&(a=document.querySelector(a)),!(!a||de(a)!=="object"||!a.nodeType)){var s=Sf(a);if(s.display==="none")return Tf();var i={};i.width=a.offsetWidth,i.height=a.offsetHeight;for(var t=i.isBorderBox=s.boxSizing==="border-box",e=0;e<jr;e++){var n=oi[e],r=s[n],o=parseFloat(r);i[n]=Number.isNaN(o)?0:o}var l=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,f=i.marginTop+i.marginBottom,d=i.borderLeftWidth+i.borderRightWidth,v=i.borderTopWidth+i.borderBottomWidth,g=t,p=Ui(s.width);p!==!1&&(i.width=p+(g?0:l+d));var m=Ui(s.height);return m!==!1&&(i.height=m+(g?0:u+v)),i.innerWidth=i.width-(l+d),i.innerHeight=i.height-(u+v),i.outerWidth=i.width+c,i.outerHeight=i.height+f,i}}function pn(a,s){for(var i=0;i<a.length;i++){var t=a[i];if(t.identifier===s)return t}}var mn={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},zi={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},Ef=function(a){z(i,a);var s=W(i);function i(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return N(this,i),e=s.call(this),e.isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=t instanceof Element?t:document.querySelector(t),e._handlerDom=n.handle instanceof Element?n.handle:document.querySelector(n.handle),!e._root||!e._handlerDom?qn(e):(e._bindStartEvent(),e)}return F(i,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),zi[this._startKey].map(function(n){e["on".concat(n)]=e["on".concat(n)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var n=this;if(e){var r=zi[this._startKey];r.map(function(o){window.addEventListener(o,n["on".concat(o)])}),this._boundPointerEvents=r}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(n){window.removeEventListener(n,e["on".concat(n)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var n=e.changedTouches[0];this.dragStart(e,n),this.touchIdentifier=n.pointerId!==void 0?n.pointerId:n.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var n=pn(e.changedTouches,this.touchIdentifier);n&&this.dragMove(e,n)}},{key:"ontouchend",value:function(e){var n=pn(e.changedTouches,this.touchIdentifier);n&&this.dragEnd(e,n),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var n=pn(e.changedTouches,this.touchIdentifier);n&&this.dragCancel(e,n)}},{key:"dragStart",value:function(e,n){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=n,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var r=ji(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-r.height,this.startPos.maxX=window.innerWidth-r.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,n){this.isDragging=!0,this.animate(),this.emit(mn.START,this.startPos)}},{key:"dragEnd",value:function(e,n){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(mn.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,n){var r={x:n.pageX-this.downPoint.pageX,y:n.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this.dragRealStart(e,n),r}},{key:"dragMove",value:function(e,n){if(e=e||window.event,!!this.isDown){var r=this.startPos,o=r.x,l=r.y,u=this._dragPointerMove(e,n),c=u.x,f=u.y;c=this.checkContain("x",c,o),f=this.checkContain("y",f,l),this.position.x=o+c,this.position.y=l+f,this.dragPoint.x=c,this.dragPoint.y=f,this.emit(mn.MOVE,this.position)}}},{key:"dragCancel",value:function(e,n){this.dragEnd(e,n)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,n,r){return n+r<0?0-r:e==="x"&&n+r>this.startPos.maxX?this.startPos.maxX-r:e==="y"&&n+r>this.startPos.maxY?this.startPos.maxY-r:n}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),n=this._getPositionCoord(e.left,"width"),r=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(n)?0:n,this.position.y=Number.isNaN(r)?0:r,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var n=e.transform;if(n.indexOf("matrix")===0){var r=n.split(","),o=n.indexOf("matrix3d")===0?12:4,l=parseInt(r[o],10),u=parseInt(r[o+1],10);this.position.x+=l,this.position.y+=u}}},{key:"_getPositionCoord",value:function(e,n){if(e.indexOf("%")!==-1){var r=ji(this._root.parentNode);return r?parseFloat(e)/100*r[n]:0}return parseInt(e,10)}}]),i}(_r),wf=function(a){z(i,a);var s=W(i);function i(t){var e;N(this,i),e=s.call(this,t),E(b(e),"onCancelClick",function(o){e.exitMini(),e.isClose=!0}),E(b(e),"onCenterClick",function(o){var l=b(e),u=l.player;u.paused?u.play():u.pause()}),E(b(e),"onScroll",function(o){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-e.pos.scrollY)<50)){var l=parseInt(h.getCss(e.player.root,"height"));l+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY>l+5?!e.isMini&&!e.isClose&&e.getMini():window.scrollY<=l&&(e.isMini&&e.exitMini(),e.isClose=!1)}}),e.isMini=!1,e.isClose=!1;var n=b(e),r=n.config;return e.pos={left:r.left<0?window.innerWidth-r.width-20:r.left,top:r.top<0?window.innerHeight-r.height-20:r.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return F(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(dt,function(){e.setAttr("data-state","pause")}),this.on(ye,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,n=this.player,r=this.config;if(!r.disable){if(this.config.isShowIcon){var o={config:{onClick:function(){e.getMini()}}};n.controls.registerPlugin(Vi,o,Vi.pluginName)}var l=h.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",l,this.onCancelClick),this.bind(".play-icon",l,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new Ef(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:si,class:"xg-icon-play"},pause:{icon:ai,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var n=this.player,r=this.playerConfig,o=this.config.target||this.player.root;this.lastStyle={},h.addClass(n.root,"xgplayer-mini"),["width","height","top","left"].map(function(l){e.lastStyle[l]=o.style[l],o.style[l]="".concat(e.pos[l],"px")}),r.fluid&&(o.style["padding-top"]=""),this.emit(Ft,!0),n.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var n=this.player,r=this.playerConfig,o=this.config.target||this.player.root;h.removeClass(n.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(l){o.style[l]=e.lastStyle[l]}),this.lastStyle=null,r.fluid&&(n.root.style.width="100%",n.root.style.height="0",n.root.style["padding-top"]="".concat(r.height*100/r.width,"%")),this.emit(Ft,!1),this.isMini=n.isMini=!1}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=h.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      `.concat(Ke(this,"MINI_DRAG",this.playerConfig.isHideTips),`
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),i}(te),Pt={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},yn=["videoClick","videoDbClick"],_n=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onMouseMove",function(o){var l=b(t),u=l.player,c=l.playerConfig;u.isActive||(u.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&u.media.focus())}),E(b(t),"onMouseEnter",function(o){var l=b(t),u=l.playerConfig,c=l.player;!u.closeFocusVideoFocus&&c.media.focus(),u.closeDelayBlur?c.focus({autoHide:!1}):c.focus(),t.emit(Pr)}),E(b(t),"onMouseLeave",function(o){var l=t.playerConfig,u=l.closePlayerBlur,c=l.leavePlayerTime,f=l.closeDelayBlur;!u&&!f&&(c?t.player.focus({autoHide:!0,delay:c}):t.player.blur({ignorePaused:!0})),t.emit(wr)}),E(b(t),"onVideoClick",function(o){var l=b(t),u=l.player,c=l.playerConfig;o.target&&c.closeVideoClick||(o.target===u.root||o.target===u.media||o.target===u.innerContainer||o.target===u.media.__canvas)&&(o.preventDefault(),c.closeVideoStopPropagation||o.stopPropagation(),t._clickCount++,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),t.clickTimer=setTimeout(function(){t._clickCount&&(t._clickCount--,Pe(b(t),yn[0],function(f,d){t.switchPlayPause(d.e)},{e:o,paused:u.paused}),clearTimeout(t.clickTimer),t.clickTimer=null)},300))}),E(b(t),"onVideoDblClick",function(o){var l=b(t),u=l.player,c=l.playerConfig;if(!(c.closeVideoDblclick||!o.target||o.target!==u.media&&o.target!==u.media.__canvas)){if(!c.closeVideoClick&&t._clickCount<2){t._clickCount=0;return}t._clickCount=0,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),o.preventDefault(),o.stopPropagation(),Pe(b(t),yn[1],function(f,d){t.emitUserAction(d.e,"switch_fullscreen",{props:"fullscreen",from:u.fullscreen,to:!u.fullscreen}),u.fullscreen?u.exitFullscreen():u.getFullscreen()},{e:o,fullscreen:u.fullscreen})}}),t}return F(i,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,yn.map(function(r){e.__hooks[r]=null});var n=this.playerConfig.isMobileSimulateMode;n==="mobile"||X.device==="mobile"&&!X.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,n=this.player,r=n.media,o=n.root,l=this.playerConfig.enableContextmenu;o&&o.addEventListener("click",this.onVideoClick,!1),o&&o.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Pt).map(function(u){o.addEventListener(u,e[Pt[u]],!1)}),!l&&r&&r.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var n=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:n.paused,to:!n.paused}),n.ended?n.duration!==1/0&&n.duration>0&&n.replay():n.paused?n.play():n.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,n=this.player,r=n.video,o=n.root;this.clickTimer&&clearTimeout(this.clickTimer),o.removeEventListener("click",this.onVideoClick,!1),o.removeEventListener("dblclick",this.onVideoDblClick,!1),r.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Pt).map(function(l){o.removeEventListener(l,e[Pt[l]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),i}(Ge),je={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},Pf={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},If={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function Wi(a){return a&&a.length>0?a[a.length-1]:null}function xf(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Lf=function(){function a(s){var i=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};N(this,a),E(this,"onTouchStart",function(e){var n=i._pos,r=i.root,o=Wi(e.touches);n.x=o?parseInt(o.pageX,10):e.pageX,n.y=o?parseInt(o.pageX,10):e.pageX,n.start=!0,i.__setPress(e),r.addEventListener(i.events.end,i.onTouchEnd),r.addEventListener(i.events.cancel,i.onTouchCancel),r.addEventListener(i.events.move,i.onTouchMove),i.trigger(je.TOUCH_START,e)}),E(this,"onTouchCancel",function(e){i.onTouchEnd(e)}),E(this,"onTouchEnd",function(e){var n=i._pos,r=i.root;i.__clearPress(),r.removeEventListener(i.events.cancel,i.onTouchCancel),r.removeEventListener(i.events.end,i.onTouchEnd),r.removeEventListener(i.events.move,i.onTouchMove),e.moving=n.moving,e.press=n.press,n.press&&i.trigger(je.PRESS_END,e),i.trigger(je.TOUCH_END,e),!n.press&&!n.moving&&i.__setDb(e),n.press=!1,n.start=!1,n.moving=!1}),E(this,"onTouchMove",function(e){var n=i._pos,r=i.config,o=Wi(e.touches),l=o?parseInt(o.pageX,10):e.pageX,u=o?parseInt(o.pageY,10):e.pageX,c=l-n.x,f=u-n.y;Math.abs(f)<r.miniStep&&Math.abs(c)<r.miniStep||(i.__clearPress(),n.press&&i.trigger(je.PRESS_END,e),n.press=!1,n.moving=!0,i.trigger(je.TOUCH_MOVE,e))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=xf(),Object.keys(t).map(function(e){i.config[e]=t[e]}),this.root=s,this.events=t.eventType==="mouse"?If:Pf,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return F(a,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(i){var t=this,e=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){t.trigger(je.PRESS,i),t._pos.press=!0,t.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(i){var t=this,e=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(je.DOUBlE_CLICK,i);return}this.dbIntrvalId=setTimeout(function(){t.__clearDb(),!t._pos.start&&!t._pos.press&&!t._pos.moving&&t.trigger(je.CLICK,i)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(i,t){this.__handlers[i]||(this.__handlers[i]=[]),this.__handlers[i].push(t)}},{key:"off",value:function(i,t){if(this.__handlers[i]){for(var e=this.__handlers[i],n=-1,r=0;r<e.length;r++)if(e[r]===t){n=r;break}n>=0&&this.__handlers[i].splice(n,1)}}},{key:"trigger",value:function(i,t){this.__handlers[i]&&this.__handlers[i].map(function(e){try{e(t)}catch(n){console.error("trigger>>:".concat(i),n)}})}},{key:"destroy",value:function(){var i=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach(function(e){i.root.removeEventListener(e,i[t[e]])})}}]),a}();function Af(){return new DOMParser().parseFromString(`<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path opacity="0.54"
    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"
    fill="white" />
  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>
</svg>`,"image/svg+xml").firstChild}var rt={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate"},kn=["videoClick","videoDbClick"],Df=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"onTouchStart",function(n){var r=b(e),o=r.player,l=r.config,u=r.pos,c=r.playerConfig,f=e.getTouche(n);if(f&&!l.disableGesture&&e.duration>0&&!o.ended){u.isStart=!0,e.timer&&clearTimeout(e.timer),h.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),e.find(".xg-dur").innerHTML=h.format(e.duration);var d=e.root.getBoundingClientRect();o.rotateDeg===90?(u.top=d.left,u.left=d.top,u.width=d.height,u.height=d.width):(u.top=d.top,u.left=d.left,u.width=d.width,u.height=d.height);var v=parseInt(f.pageX-u.left,10),g=parseInt(f.pageY-u.top,10);u.x=o.rotateDeg===90?g:v,u.y=o.rotateDeg===90?v:g,u.scopeL=l.scopeL*u.width,u.scopeR=(1-l.scopeR)*u.width,u.scopeM1=u.width*(1-l.scopeM)/2,u.scopeM2=u.width-u.scopeM1}}),E(b(e),"onTouchMove",function(n){var r=e.getTouche(n),o=b(e),l=o.pos,u=o.config,c=o.player;if(!(!r||u.disableGesture||!e.duration||!l.isStart)){var f=u.miniMoveStep,d=u.hideControlsActive,v=parseInt(r.pageX-l.left,10),g=parseInt(r.pageY-l.top,10),p=c.rotateDeg===90?g:v,m=c.rotateDeg===90?v:g;if(Math.abs(p-l.x)>f||Math.abs(m-l.y)>f){var w=p-l.x,_=m-l.y,C=l.scope;if(C===-1&&(C=e.checkScope(p,m,w,_,l),C===0&&(d?c.blur():c.focus({autoHide:!1}),!l.time&&(l.time=parseInt(c.currentTime*1e3,10)+e.timeOffset*1e3)),l.scope=C),C===-1||C>0&&!u.gestureY||C===0&&!u.gestureX)return;e.executeMove(w,_,C,l.width,l.height),l.x=p,l.y=m}}}),E(b(e),"onTouchEnd",function(n){var r=b(e),o=r.player,l=r.pos,u=r.playerConfig;if(setTimeout(function(){o.getPlugin("progress")&&o.getPlugin("progress").resetSeekState()},10),!!l.isStart){l.scope>-1&&n.cancelable&&n.preventDefault();var c=e.config,f=c.disableGesture,d=c.gestureX;!f&&d?e.endLastMove(l.scope):l.time=0,l.scope=-1,e.resetPos(),h.checkIsFunction(u.enableSwipeHandler)&&u.enableSwipeHandler(),e.changeAction(rt.AUTO)}}),E(b(e),"onRootTouchMove",function(n){e.config.disableGesture||!e.config.gestureX||e.checkIsRootTarget(n)&&(n.stopPropagation(),e.pos.isStart?e.onTouchMove(n):e.onTouchStart(n))}),E(b(e),"onRootTouchEnd",function(n){e.pos.scope>-1&&e.onTouchEnd(n)}),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return F(i,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:Af,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;kn.map(function(d){e.__hooks[d]=null});var n=this.playerConfig,r=this.config,o=this.player;n.closeVideoDblclick===!0&&(r.closedbClick=!0),this.resetPos(),h.isUndefined(n.disableGesture)||(r.disableGesture=!!n.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=h.createDom("xg-mask","",{},"xgmask"),o.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var l=this.domEventType==="mouse"?"mouse":"touch";this.touch=new Lf(this.root,{eventType:l,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(d){d.preventDefault()}),o.root.addEventListener("touchmove",this.onRootTouchMove,!0),o.root.addEventListener("touchend",this.onRootTouchEnd,!0),o.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var u=this.player.controls;u&&u.center&&(u.center.addEventListener("touchmove",this.onRootTouchMove,!0),u.center.addEventListener("touchend",this.onRootTouchEnd,!0),u.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on($e,function(){var d=e.player,v=e.config;d.duration>0&&d.duration*1e3<v.moveDuration&&(v.moveDuration=d.duration*1e3)}),this.on([Oe,Qe],function(){var d=e.pos,v=d.time,g=d.isStart;!g&&v>0&&(e.pos.time=0)});var c={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(c).map(function(d){e.touch.on(d,function(v){e[c[d]](v)})}),!r.disableActive){var f=o.plugins.progress;f&&(f.addCallBack("dragmove",function(d){e.activeSeekNote(d.currentTime,d.forward)}),["dragend","click"].forEach(function(d){f.addCallBack(d,function(){e.changeAction(rt.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var e=this.player,n=e.plugins.thumbnail;if(n&&n.usable){this.thumbnail=n.createThumbnail(null,"mobile-thumbnail");var r=this.find(".time-preview");r.insertBefore(this.thumbnail,r.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},n=e.commonStyle,r=n.playedColor,o=n.progressColor,l=n.timePreviewStyle,u=n.curTimeColor,c=n.durationColor;if(r&&(this.find(".xg-curbar").style.backgroundColor=r),o&&(this.find(".xg-bar").style.backgroundColor=o),l){var f=this.find(".time-preview");Object.keys(l).forEach(function(g){f.style[g]=l[g]})}var d=u||r,v=c;d&&(this.find(".xg-cur").style.color=d),v&&(this.find(".xg-dur").style.color=v),this.config.disableTimeProgress&&h.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(n){e.pos[n]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var n=this.player,r=this.root;r.setAttribute("data-xg-action",e);var o=n.plugins.start;o&&o.recover()}},{key:"getTouche",value:function(e){var n=this.player.rotateDeg,r=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return n===0?{pageX:r.pageX,pageY:r.pageY}:{pageX:r.pageX,pageY:r.pageY}}},{key:"checkScope",value:function(e,n,r,o,l){var u=l.width,c=-1;if(e<0||e>u)return c;var f=Math.abs(o===0?r:r/o);return Math.abs(r)>0&&f>=1.73&&e>l.scopeM1&&e<l.scopeM2?c=0:(Math.abs(r)===0||f<=.57)&&(c=e<l.scopeL?1:e>l.scopeR?2:3),c}},{key:"executeMove",value:function(e,n,r,o,l){switch(r){case 0:this.updateTime(e/o*this.config.scopeM);break;case 1:this.updateBrightness(n/l);break;case 2:X.os.isIos||this.updateVolume(n/l);break}}},{key:"endLastMove",value:function(e){var n=this,r=this.pos,o=this.player,l=this.config,u=(r.time-this.timeOffset)/1e3;switch(e){case 0:o.seek(Number(u).toFixed(1)),l.hideControlsEnd?o.blur():o.focus(),this.timer=setTimeout(function(){n.pos.time=0},500);break}this.changeAction(rt.AUTO)}},{key:"checkIsRootTarget",value:function(e){var n=this.player.plugins||{};return n.progress&&n.progress.root.contains(e.target)?!1:n.start&&n.start.root.contains(e.target)||n.controls&&n.controls.root.contains(e.target)}},{key:"sendUseAction",value:function(e){var n=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:n,to:!n})}},{key:"clickHandler",value:function(e){var n=this.player,r=this.config,o=this.playerConfig;if(n.state<Z.RUNNING){o.closeVideoClick||(this.sendUseAction(h.createEvent("click")),n.play());return}!r.closedbClick||o.closeVideoClick?n.isActive?n.blur():n.focus():o.closeVideoClick||((n.isActive||r.focusVideoClick)&&(this.sendUseAction(h.createEvent("click")),this.switchPlayPause()),n.focus())}},{key:"dbClickHandler",value:function(e){var n=this.config,r=this.player;!n.closedbClick&&r.state>=Z.RUNNING&&(this.sendUseAction(h.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var n=this,r=this.player;Pe(this,kn[0],function(o,l){n.clickHandler(l.e)},{e,paused:r.paused})}},{key:"onDbClick",value:function(e){var n=this,r=this.player;Pe(this,kn[1],function(o,l){n.dbClickHandler(l.e)},{e,paused:r.paused})}},{key:"onPress",value:function(e){var n=this.pos,r=this.config,o=this.player;r.disablePress||(n.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:o.playbackRate,to:r.pressRate}),o.playbackRate=r.pressRate,this.changeAction(rt.PLAYBACK))}},{key:"onPressEnd",value:function(e){var n=this.pos,r=this.config,o=this.player;r.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:o.playbackRate,to:n.rate}),o.playbackRate=n.rate,n.rate=1,this.changeAction(rt.AUTO))}},{key:"updateTime",value:function(e){var n=this.player,r=this.config,o=this.player.duration;e=Number(e.toFixed(4));var l=parseInt(e*r.moveDuration,10)+this.timeOffset;l+=this.pos.time,l=l<0?0:l>o*1e3?o*1e3-200:l,n.getPlugin("time")&&n.getPlugin("time").updateTime(l/1e3),n.getPlugin("progress")&&n.getPlugin("progress").updatePercent(l/1e3/this.duration,!0),this.activeSeekNote(l/1e3,e>0),r.isTouchingSeek&&n.seek(Number((l-this.timeOffset)/1e3).toFixed(1)),this.pos.time=l}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var n=this.player,r=this.pos;if(e=parseInt(e*100,10),r.volume+=e,!(Math.abs(r.volume)<10)){var o=parseInt(n.volume*10,10)-parseInt(r.volume/10,10);o=o>10?10:o<1?0:o,n.volume=o/10,r.volume=0}}},{key:"updateBrightness",value:function(e){var n=this.pos,r=this.config,o=this.xgMask;if(r.darkness){this.player.rotateDeg&&(e=-e);var l=n.light+.8*e;l=l>r.maxDarkness?r.maxDarkness:l<0?0:l,o&&(o.style.backgroundColor="rgba(0,0,0,".concat(l,")")),n.light=l}}},{key:"activeSeekNote",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this.player,o=this.config,l=!(this.duration!==1/0&&this.duration>0);if(!(!e||typeof e!="number"||l||o.disableActive)){e<0?e=0:e>r.duration&&(e=r.duration-.2),this.changeAction(rt.SEEKING);var u=r.plugins.start;u&&u.focusHide(),this.find(".xg-dur").innerHTML=h.format(this.duration),this.find(".xg-cur").innerHTML=h.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),n?h.removeClass(this.find(".xg-seek-show"),"xg-back"):h.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var n=this.player,r=n.plugins.thumbnail;r&&r.usable&&this.thumbnail&&r.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<Z.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var n=this.player.controls;n&&n.center&&(n.center.removeEventListener("touchmove",this.onRootTouchMove,!0),n.center.removeEventListener("touchend",this.onRootTouchEnd,!0),n.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(e,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span class="xg-separator">/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:60*6*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),i}(te);function Mf(a){a.preventDefault(),a.returnValue=!1}function Gi(a){var s=a.tagName;return!!(s==="INPUT"||s==="TEXTAREA"||a.isContentEditable)}var Ki=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onBodyKeyDown",function(o){if(t.player){var l=o||window.event,u=l.keyCode,c=b(t),f=c._keyState,d=c.player,v=t.config,g=v.disable,p=v.disableBodyTrigger,m=v.isIgnoreUserActive;if(g||p||!(d.isUserActive||m)||Gi(l.target)||!t.checkIsVisible()||l.metaKey||l.altKey||l.ctrlKey){f.isBodyKeyDown=!1;return}!o.repeat&&!f.isKeyDown&&((l.target===document.body||t.config.isGlobalTrigger&&!Gi(l.target))&&t.checkCode(u,!0)&&(f.isBodyKeyDown=!0),document.addEventListener("keyup",t.onBodyKeyUp)),f.isBodyKeyDown&&t.handleKeyDown(l)}}),E(b(t),"onBodyKeyUp",function(o){t.player&&(document.removeEventListener("keyup",t.onBodyKeyUp),t.handleKeyUp(o))}),E(b(t),"onKeydown",function(o){if(t.player){var l=o||window.event,u=b(t),c=u._keyState;if(!l.repeat){if(t.config.disable||t.config.disableRootTrigger||l.metaKey||l.altKey||l.ctrlKey)return;l&&(l.keyCode===37||t.checkCode(l.keyCode))&&(l.target===t.player.root||l.target===t.player.video||l.target===t.player.controls.el)&&(c.isKeyDown=!0),t.player.root.addEventListener("keyup",t.onKeyup)}c.isKeyDown&&t.handleKeyDown(l)}}),E(b(t),"onKeyup",function(o){t.player&&(t.player.root.removeEventListener("keyup",t.onKeyup),t.handleKeyUp(o))}),t}return F(i,[{key:"mergekeyCodeMap",value:function(){var e=this,n=this.config.keyCodeMap;n&&Object.keys(n).map(function(r){e.keyCodeMap[r]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(o){n[r][o]&&(e.keyCodeMap[r][o]=n[r][o])}):e.keyCodeMap[r]=n[r]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!e||typeof e!="number"||(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(r){n.config[r]=e[r]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),n=e.height,r=e.top,o=e.bottom,l=window.innerHeight;return!(r<0&&r<0-n*.9||o>0&&o-l>n*.9)}},{key:"checkCode",value:function(e,n){var r=this,o=!1;return Object.keys(this.keyCodeMap).map(function(l){r.keyCodeMap[l]&&e===r.keyCodeMap[l].keyCode&&!r.keyCodeMap[l].disable&&(o=!n||n&&!r.keyCodeMap[l].noBodyTarget)}),o}},{key:"downVolume",value:function(e){var n=this.player;if(!(n.volume<=0)){var r=parseFloat((n.volume-.1).toFixed(1)),o={volume:{from:n.volume,to:r}};this.emitUserAction(e,"change_volume",{props:o}),r>=0?n.volume=r:n.volume=0}}},{key:"upVolume",value:function(e){var n=this.player;if(!(n.volume>=1)){var r=parseFloat((n.volume+.1).toFixed(1)),o={volume:{from:n.volume,to:r}};this.emitUserAction(e,"change_volume",{props:o}),r<=1?n.volume=r:n.volume=1}}},{key:"seek",value:function(e){var n=this.player,r=n.currentTime,o=n.offsetCurrentTime,l=n.duration,u=n.offsetDuration,c=n.timeSegments,f=o>-1?o:r,d=u||l,v=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;f+v<=d?f=f+v:f=d;var g=h.getCurrentTimeByOffset(f,c),p={currentTime:{from:r,to:g}};this.emitUserAction(e,"seek",{props:p}),this.player.currentTime=g}},{key:"seekBack",value:function(e){var n=this.player,r=n.currentTime,o=n.offsetCurrentTime,l=n.timeSegments,u=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,c=o>-1?o:r,f=c-u;f<0&&(f=0),f=h.getCurrentTimeByOffset(f,l);var d={currentTime:{from:r,to:f}};this.emitUserAction(e,"seek",{props:d}),this.player.currentTime=f}},{key:"changePlaybackRate",value:function(e){var n=this._keyState,r=this.config,o=this.player;n.playbackRate===0&&(n.playbackRate=o.playbackRate,o.playbackRate=r.playbackRate)}},{key:"playPause",value:function(e){var n=this.player;n&&(this.emitUserAction(e,"switch_play_pause"),n.paused?n.play():n.pause())}},{key:"exitFullscreen",value:function(e){var n=this.player,r=n.fullscreen,o=n.cssfullscreen;r&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:r,to:!r}),n.exitFullscreen()),o&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:o,to:!o}),n.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var n=this._keyState;if(e.repeat){n.isPress=!0;var r=Date.now();if(r-n.tt<200)return;n.tt=r}this.handleKeyCode(e.keyCode,e,n.isPress)}},{key:"handleKeyUp",value:function(e){var n=this._keyState;n.playbackRate>0&&(this.player.playbackRate=n.playbackRate,n.playbackRate=0),n.isKeyDown=!1,n.isPress=!1,n.tt=0}},{key:"handleKeyCode",value:function(e,n,r){for(var o=Object.keys(this.keyCodeMap),l=0;l<o.length;l++){var u=this.keyCodeMap[o[l]],c=u.action,f=u.keyCode,d=u.disable,v=u.pressAction,g=u.disablePress;if(f===e){if(!d&&!(r&&g)){var p=r&&v||c;typeof p=="function"?c(n,this.player,r):typeof p=="string"&&typeof this[p]=="function"&&this[p](n,this.player,r),this.emit(Ar,oe({key:o[l],target:n.target,isPress:r},this.keyCodeMap[o[l]]))}Mf(n),n.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),i}(Ge);function Of(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">
  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>
</svg>
`,"image/svg+xml").firstChild}var Rf=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"registerIcons",value:function(){return{loadingIcon:Of}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:ie.ROOT}}}]),i}(te),Nf=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],Ff=function(){function a(s){N(this,a),this.fragments=s.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=s.actionCallback,this.fragConfig={fragFocusClass:s.fragFocusClass||"inner-focus-point",fragAutoFocus:!!s.fragAutoFocus,fragClass:s.fragClass||""},this.style=s.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return F(a,[{key:"updateDuration",value:function(i){var t=this;this.duration=i;var e=0,n=this.fragments;this.fragments=n.map(function(r){return r.start=parseInt(e,10),r.end=parseInt(e+r.percent*t.duration,10),r.duration=parseInt(r.percent*t.duration,10),e+=r.percent*t.duration,r})}},{key:"updateProgress",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,n=this.fragments;if(!(e.length<1)){var r=t.newIndex,o=t.curIndex,l=t.millisecond;r!==o&&e.map(function(f,d){d<r?f[i].style.width="100%":d>r&&(f[i].style.width=0)});var u=n[r],c=l===0?0:(l-u.start)/u.duration;e[r][i].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(i){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!i){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(t),this.focusIndex=-1}return}var e=this.findIndex(i.currentTime*1e3,this.focusIndex);if(e>=0&&e!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(e);var n={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&&this._callBack(n)}}}},{key:"update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(t*1e3,10)!==this.duration){if(!t&&t!==0)return;this.updateDuration(parseInt(t*1e3,10))}var e=this.playedIndex,n=this.cachedIndex;if(h.typeOf(i.played)!=="Undefined"){var r=this.findIndex(i.played*1e3,e);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:e,millisecond:parseInt(i.played*1e3,10)}),this.playedIndex=r}if(h.typeOf(i.cached)!=="Undefined"){var o=this.findIndex(i.cached*1e3,n);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:n,millisecond:parseInt(i.cached*1e3,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(i,t){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(t>-1&&t<e.length&&i>e[t].start&&i<e[t].end)return t;if(i>e[e.length-1].start)return e.length-1;for(var n=0;n<e.length;n++)if(i>e[n].start&&i<=e[n].end){t=n;break}return t}},{key:"findHightLight",value:function(){for(var i=this.root.children,t=0;t<i.length;t++)if(h.hasClass(i[t],this.fragConfig.fragFocusClass))return{dom:i[t],pos:i[t].getBoundingClientRect()}}},{key:"findFragment",value:function(i){var t=this.root.children;return i<0||i>=t.length?null:{dom:t[i],pos:t[i].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var i=this.root.children,t=0;t<i.length;t++)h.removeClass(i[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(i){var t=this.root.children;if(i<t.length)return h.addClass(t[i],this.fragConfig.fragFocusClass),{dom:t[i],pos:t[i].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(i){var t=this;if(Object.keys(this.fragConfig).forEach(function(n){i[n]!==void 0&&(t.fragConfig[n]=i[n])}),i.fragments){if(this.fragments=i.fragments.length===0?[{percent:1}]:i.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length>0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var i=this,t=this.style.progressColor;if(this.root||(this.root=h.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,n=e.fragClass,r=e.fragFocusClass;this.progressList=this.fragments.map(function(o){var l=h.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(o.percent):"flex: ".concat(o.percent)},"".concat(o.isFocus?r:""," xgplayer-progress-inner ").concat(n));return i.root.appendChild(l),Nf.forEach(function(u){l.appendChild(h.createDom(u.tag,"",{style:u.styleKey?"background: ".concat(i.style[u.styleKey],"; width:0;"):"width:0;"},u.className))}),{cached:l.children[0],played:l.children[1]}})}return this.root}}]),a}(),Yi={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},Bf=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"onMoveOnly",function(n,r){var o=b(e),l=o.pos,u=o.config,c=o.player,f=r;if(n){h.event(n);var d=h.getEventPos(n,c.zoom),v=c.rotateDeg===90?d.clientY:d.clientX;if(l.moving&&Math.abs(l.x-v)<u.miniMoveStep)return;l.moving=!0,l.x=v,f=e.computeTime(n,v)}e.triggerCallbacks("dragmove",f,n),e._updateInnerFocus(f)}),E(b(e),"onBodyClick",function(n){e.pos.isLocked&&(e.pos.isLocked=!1,n.preventDefault(),n.stopPropagation())}),E(b(e),"_mouseDownHandler",function(n,r){e._state.time=r.currentTime,e.updateWidth(r.currentTime,r.seekTime,r.percent,0),e._updateInnerFocus(r)}),E(b(e),"_mouseUpHandler",function(n,r){var o=b(e),l=o.pos;l.moving&&e.updateWidth(r.currentTime,r.seekTime,r.percent,2)}),E(b(e),"_mouseMoveHandler",function(n,r){var o=b(e),l=o._state,u=o.pos,c=o.config,f=o.player;l.time<r.currentTime?r.forward=!0:r.forward=!1,l.time=r.currentTime,u.isDown&&!u.moving&&(u.moving=!0,c.isPauseMoving&&f.pause(),e.triggerCallbacks("dragstart",r,n),e.emitUserAction("drag","dragstart",r)),e.updateWidth(r.currentTime,r.seekTime,r.percent,1),e.triggerCallbacks("dragmove",r,n),e._updateInnerFocus(r)}),E(b(e),"onMouseDown",function(n){var r=b(e),o=r._state,l=r.player,u=r.pos,c=r.config,f=r.playerConfig,d=h.getEventPos(n,l.zoom),v=l.rotateDeg===90?d.clientY:d.clientX;if(!(l.isMini||c.closeMoveSeek||!f.allowSeekAfterEnded&&l.ended)){if(!l.duration&&!l.isPlaying){l.play();return}n.stopPropagation(),e.focus(),h.checkIsFunction(f.disableSwipeHandler)&&f.disableSwipeHandler(),h.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),h.event(n),u.x=v,u.isDown=!0,u.moving=!1,o.prePlayTime=l.currentTime,l.focus({autoHide:!1}),e.isProgressMoving=!0,h.addClass(e.progressBtn,"active");var g=e.computeTime(n,v);g.prePlayTime=o.prePlayTime,e._mouseDownHandlerHook(n,g);var p=n.type;return p==="touchstart"?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp),e.root.addEventListener("touchcancel",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1)),!0}}),E(b(e),"onMouseUp",function(n){var r=b(e),o=r.player,l=r.config,u=r.pos,c=r.playerConfig,f=r._state;n.stopPropagation(),n.preventDefault(),h.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),h.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),h.event(n),h.removeClass(e.progressBtn,"active");var d=e.computeTime(n,u.x);d.prePlayTime=f.prePlayTime,u.moving?(e.triggerCallbacks("dragend",d,n),e.emitUserAction("drag","dragend",d)):(e.triggerCallbacks("click",d,n),e.emitUserAction("click","click",d)),e._mouseUpHandlerHook(n,d),u.moving=!1,u.isDown=!1,u.x=0,u.y=0,u.isLocked=!0,f.prePlayTime=0,f.time=0;var v=n.type;v==="touchend"||v==="touchcancel"?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.root.removeEventListener("touchcancel",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),u.isEnter?c.isMobileSimulateMode!=="mobile"&&e.bind("mousemove",e.onMoveOnly):e.onMouseLeave(n)),h.setTimeout(b(e),function(){e.resetSeekState()},1),o.focus()}),E(b(e),"onMouseMove",function(n){var r=b(e),o=r._state,l=r.pos,u=r.player,c=r.config;h.checkTouchSupport()&&n.preventDefault(),h.event(n);var f=h.getEventPos(n,u.zoom),d=u.rotateDeg===90?f.clientY:f.clientX,v=Math.abs(l.x-d);if(!(l.moving&&v<c.miniMoveStep||!l.moving&&v<c.miniStartStep)){l.x=d;var g=e.computeTime(n,d);g.prePlayTime=o.prePlayTime,e._mouseMoveHandlerHook(n,g)}}),E(b(e),"onMouseOut",function(n){e.triggerCallbacks("mouseout",null,n)}),E(b(e),"onMouseOver",function(n){e.triggerCallbacks("mouseover",null,n)}),E(b(e),"onMouseEnter",function(n){var r=b(e),o=r.player,l=r.pos;if(!(l.isDown||l.isEnter||o.isMini||!o.config.allowSeekAfterEnded&&o.ended)){l.isEnter=!0,e.bind("mousemove",e.onMoveOnly),e.bind("mouseleave",e.onMouseLeave),h.event(n);var u=h.getEventPos(n,o.zoom),c=o.rotateDeg===90?u.clientY:u.clientX,f=e.computeTime(n,c);e.triggerCallbacks("mouseenter",f,n),e.focus()}}),E(b(e),"onMouseLeave",function(n){e.triggerCallbacks("mouseleave",null,n),e.unlock(),e._updateInnerFocus(null)}),E(b(e),"onVideoResize",function(){var n=e.pos,r=n.x,o=n.isDown,l=n.isEnter;if(l&&!o){var u=e.computeTime(null,r);e.onMoveOnly(null,u)}}),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0,prePlayTime:-1},e._disableBlur=!1,typeof e.config.isDragingSeek=="boolean"&&(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),e.config.isDraggingSeek=e.config.isDragingSeek),e}return F(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,r=e.currentTime;return n>=0?n:r+this.timeOffset}},{key:"changeState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!n||n.length===0)&&(n=[{percent:1}]);var o=oe(oe({fragments:n},r),{},{actionCallback:function(u){e.emitUserAction("fragment_focus","fragment_focus",u)}});this.innerList?this.innerList.reset(o):(this.innerList=new Ff(o),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(l){e[l]=e.innerList[l].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var e=this.config,n=e.fragFocusClass,r=e.fragAutoFocus,o=e.fragClass;this._initInner(this.config.fragments,{fragFocusClass:n,fragAutoFocus:r,fragClass:o,style:this.playerConfig.commonStyle||{}}),X.device==="mobile"&&(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var e=this;this.on($e,function(){e.onMouseLeave()}),this.on(me,function(){e.onTimeupdate()}),this.on(Re,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(Tr,function(){e.onCacheUpdate()}),this.on(Qe,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(et,function(){e.onReset()}),this.on(We,function(){e.onVideoResize()})}},{key:"setConfig",value:function(e){var n=this,r=null;Object.keys(e).forEach(function(o){n.config[o]=e[o],o==="fragments"&&(r=e[o])}),r&&this._initInner(r,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},n=e.commonStyle,r=n.sliderBtnStyle,o=this.progressBtn;r&&(typeof r=="string"?o.style.boxShadow=r:de(r)==="object"&&Object.keys(r).map(function(l){o.style[l]=r[l]}))}},{key:"triggerCallbacks",value:function(e,n,r){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(o){if(o&&o.handler&&o.type===e)try{o.handler(n,r)}catch(l){console.error("[XGPLAYER][triggerCallbacks] ".concat(o," error"),l)}})}},{key:"addCallBack",value:function(e,n){n&&typeof n=="function"&&this.__dragCallBacks.push({type:e,handler:n})}},{key:"removeCallBack",value:function(e,n){var r=this.__dragCallBacks,o=-1;r.map(function(l,u){l&&l.type===e&&l.handler===n&&(o=u)}),o>-1&&r.splice(o,1)}},{key:"unlock",value:function(){var e=this.player,n=this.pos;if(n.isEnter=!1,n.isLocked=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),n.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&this.root.addEventListener("touchstart",this.onMouseDown),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),e.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),h.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),h.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,n,r,o){var l=this.config,u=this.player;if(!(l.isCloseClickSeek&&o===0)){var c=n=n>=u.duration?u.duration-l.endedDiff:Number(n).toFixed(1);this.updatePercent(r),this.updateTime(e),!(o===1&&(!l.isDraggingSeek||u.config.mediaType==="audio"))&&(this._state.now=c,this._state.direc=c>u.currentTime?0:1,u.seek(c))}}},{key:"computeTime",value:function(e,n){var r=this.player,o=this.root.getBoundingClientRect(),l=o.width,u=o.height,c=o.top,f=o.left,d,v,g=n;r.rotateDeg===90?(d=u,v=c):(d=l,v=f);var p=g-v;p=p>d?d:p<0?0:p;var m=p/d;m=m<0?0:m>1?1:m;var w=parseInt(m*this.offsetDuration*1e3,10)/1e3,_=h.getCurrentTimeByOffset(w,r.timeSegments);return{percent:m,currentTime:w,seekTime:_,offset:p,width:d,left:v,e}}},{key:"updateTime",value:function(e){var n=this.player,r=this.duration;e>r?e=r:e<0&&(e=0);var o=n.plugins.time;o&&o.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,n){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(e*100,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var r=this.player.plugins.miniprogress;r&&r.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var n=this.player,r=this._state,o=this.offsetDuration;if(!(n.isSeeking&&n.media.seeking||this.isProgressMoving||!n.hasStart)){if(r.now>-1){var l=parseInt(r.now*1e3,10)-parseInt(n.currentTime*1e3,10);if(r.direc===0&&l>300||r.direc===1&&l>-300){r.now=-1;return}else r.now=-1}var u=this.currentTime;u=h.adjustTimeByDuration(u,o,e),this.innerList.update({played:u},o),this.progressBtn.style.left="".concat(u/o*100,"%")}}},{key:"onCacheUpdate",value:function(e){var n=this.player,r=this.duration;if(n){var o=n.bufferedPoint.end;o=h.adjustTimeByDuration(o,r,e),this.innerList.update({cached:o},r)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var n=this.domEventType;(n==="touch"||n==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),(n==="mouse"||n==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var e=this.player.controls?this.player.controls.config.mode:"",n=e==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(n,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:Yi.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return Yi}}]),i}(te),tt=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"_onMouseenter",function(o){t.emit("icon_mouseenter",{pluginName:t.pluginName})}),E(b(t),"_onMouseLeave",function(o){t.emit("icon_mouseleave",{pluginName:t.pluginName})}),t}return F(i,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),i}(te),Hf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"btnClick",function(o){o.preventDefault(),o.stopPropagation();var l=b(t),u=l.player;return t.emitUserAction(o,"switch_play_pause",{prop:"paused",from:u.paused,to:!u.paused}),u.ended?u.replay():u.paused?(u.play(),t.animate(!1)):(u.pause(),t.animate(!0)),!1}),t}return F(i,[{key:"afterCreate",value:function(){K(G(i.prototype),"afterCreate",this).call(this);var e=this.config;e.disable||(this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0))}},{key:"listenEvents",value:function(){var e=this,n=this.player;this.on([ye,dt,St,et],function(){e.animate(n.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:si,class:"xg-icon-play"},pause:{icon:ai,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var n=this.i18nKeys,r=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),r&&this.changeLangTextKey(r,n.PLAY_TIPS)):(this.setAttr("data-state","play"),r&&this.changeLangTextKey(r,n.PAUSE_TIPS))}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    `.concat(Ke(this,"PLAY_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_LEFT,index:0,disable:!1}}}]),i}(tt);function $f(){return new DOMParser().parseFromString(`<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>
    </g>
</svg>`,"image/svg+xml").firstChild}var Vf=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(n){n.preventDefault(),n.stopPropagation(),e.config.onClick(n)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:$f,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){h.addClass(this.root,"show")}},{key:"hide",value:function(){h.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:ie.ROOT_TOP,index:0}}}]),i}(te);function Uf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`,"image/svg+xml").firstChild}function jf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`,"image/svg+xml").firstChild}var zf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"_onOrientationChange",function(o){t.player.fullscreen&&t.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?t.player.setRotateDeg(0):t.player.setRotateDeg(90))}),t}return F(i,[{key:"afterCreate",value:function(){var e=this;K(G(i.prototype),"afterCreate",this).call(this);var n=this.config,r=this.playerConfig;if(!n.disable){n.target&&(this.playerConfig.fullscreenTarget=this.config.target);var o=h.getFullScreenEl();r.fullscreenTarget===o&&this.player.getFullscreen().catch(function(l){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(u){var c=e.player.fullscreen;e.emitUserAction(u,"switch_fullscreen",{prop:"fullscreen",from:c,to:!c})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Me,function(l){var u=e.find(".xg-tips");u&&e.changeLangTextKey(u,l?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(l)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:Vf,options:{config:{onClick:function(u){e.handleFullscreen(u)}}}})),X.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:Uf,class:"xg-get-fullscreen"},exitFullscreen:{icon:jf,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",X.device==="mobile"?"touchend":"click",this.handleFullscreen),X.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e&&(e.preventDefault(),e.stopPropagation());var n=this.player,r=this.config,o=r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen();o?(n.fullscreen?n.exitCssFullscreen():n.getCssFullscreen(),this.animate(n.fullscreen)):r.rotateFullscreen?(n.fullscreen?n.exitRotateFullscreen():n.getRotateFullscreen(),this.animate(n.fullscreen)):r.switchCallback&&typeof r.switchCallback=="function"?r.switchCallback(n.fullscreen):n.fullscreen?(n.exitFullscreen(),r.useScreenOrientation&&this.unlockScreen()):(n.getFullscreen().catch(function(l){}),r.useScreenOrientation&&n.aspectRatio>1&&this.lockScreen(r.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    `.concat(Ke(this,e,this.playerConfig.isHideTips),`
    </xg-icon>`)}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch(function(n){})}catch{}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(e){})}catch{}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),i}(tt),Wf=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),e.isActiving=!1,e}return F(i,[{key:"duration",get:function(){var e=this.player,n=e.offsetDuration,r=e.duration;return this.playerConfig.customDuration||n||r}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,r=e.currentTime;return n>=0?n:r}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this.player.controls.config.mode;this.mode=e==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents())}},{key:"listenEvents",value:function(){var e=this;this.on([$e,Re,me],function(n){n.eventName==="durationchange"&&(e.isActiving=!1),e.onTimeUpdate()}),this.on(Qe,function(){e.onTimeUpdate(!0)}),this.on(et,function(){e.onReset()})}},{key:"show",value:function(e){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var n=this.player,r=this.config,o=this.duration;if(!(r.disable||this.isActiving||!n.hasStart)){var l=this.currentTime+this.timeOffset;l=h.adjustTimeByDuration(l,o,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(h.format(l)),o!==1/0&&o>0&&(this.centerDurDom.innerHTML=h.format(o))):(this.timeDom.innerHTML=this.minWidthTime(h.format(l)),o!==1/0&&o>0&&(this.durationDom.innerHTML=h.format(o)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(h.format(0)),this.centerDurDom.innerHTML=h.format(0)):(this.timeDom.innerHTML=this.minWidthTime(h.format(0)),this.durationDom.innerHTML=h.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!(!e.controls||!e.controls.center)){var n=e.controls.center;this.centerCurDom=h.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=h.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),n.children.length>0?n.insertBefore(this.centerCurDom,n.children[0]):n.appendChild(this.centerCurDom),n.appendChild(this.centerDurDom)}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(h.hide(this.durationDom),h.hide(this.timeDom),h.hide(this.find(".time-separator")),h.show(this.find(".time-live-tag"))):h.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(h.hide(this.durationDom),h.hide(this.timeDom),h.hide(this.find(".time-separator")),h.show(this.find(".time-live-tag"))):(h.hide(this.find(".time-live-tag")),h.show(this.find(".time-separator")),h.show(this.durationDom),h.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,!(!e&&e!==0||e>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(h.format(e));return}this.timeDom.innerHTML=this.minWidthTime(h.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(n){return'<span class="time-min-width">'.concat(n,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,n=this.player,r=function(){e.isActiving=!1};this.off(Re,r),n.isSeeking&&n.media.seeking?this.once(Re,r):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_LEFT,index:2,disable:!1}}}]),i}(te),Gf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"_onDurationChange",function(){t.updateSegments();var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=h.getIndexByTime(l,u),f=h.getOffsetCurrentTime(l,u,c);t.player.offsetCurrentTime=f,t.changeIndex(c,u)}}),E(b(t),"_onLoadedData",function(){var o=t.player.timeSegments;if(t._checkIfEnabled(o)){var l=h.getOffsetCurrentTime(0,o);t.player.offsetCurrentTime=l,t.changeIndex(0,o),t.curPos.start>0&&(t.player.currentTime=t.curPos.start)}}),E(b(t),"_onTimeupdate",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=u.length;t.lastCurrentTime=l;var f=h.getIndexByTime(l,u);f!==t.curIndex&&t.changeIndex(f,u);var d=h.getOffsetCurrentTime(l,u,f);if(t.player.offsetCurrentTime=d,!!t.curPos){var v=t.curPos,g=v.start,p=v.end;l<g?t.player.currentTime=g:l>p&&f>=c-1&&t.player.pause()}}}),E(b(t),"_onSeeking",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u))if(l<u[0].start)t.player.currentTime=u[0].start;else if(l>u[u.length-1].end)t.player.currentTime=u[u.length-1].end;else{var c=h.getIndexByTime(l,u);if(c>=0){var f=t.getSeekTime(l,t.lastCurrentTime,c,u);f>=0&&(t.player.currentTime=f)}}}),E(b(t),"_onPlay",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;t._checkIfEnabled(u)&&l>=u[u.length-1].end&&(t.player.currentTime=u[0].start)}),t}return F(i,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on($e,this._onDurationChange),this.on(Be,this._onLoadedData),this.on(me,this._onTimeupdate),this.on(Jt,this._onSeeking),this.on(ye,this._onPlay)}},{key:"setConfig",value:function(e){var n=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(o){n.config[o]=e[o]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,n=e.disable,r=e.segments,o=this.player;if(n||!r||r.length===0)o.timeSegments=[],o.offsetDuration=0,o.offsetCurrentTime=-1;else{var l=this.formatTimeSegments(r,o.duration);o.timeSegments=l,o.offsetDuration=l.length>0?l[l.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,n){var r=[];return e?(e.sort(function(o,l){return o.start-l.start}),e.forEach(function(o,l){var u={};if(u.start=o.start<0?0:o.start,u.end=n>0&&o.end>n?n:o.end,!(n>0&&u.start>n)){r.push(u);var c=u.end-u.start;if(l===0)u.offset=o.start,u.cTime=0,u.segDuration=c,u.duration=c;else{var f=r[l-1];u.offset=f.offset+(u.start-f.end),u.cTime=f.duration+f.cTime,u.segDuration=c,u.duration=f.duration+c}}}),r):[]}},{key:"getSeekTime",value:function(e,n,r,o){var l=-1,u=o[r],c=u.start,f=u.end;if(e>=c&&e<=f)return l;var d=e-n;if(d<0&&e<c){var v=n>c?n-c:0;return l=r-1>=0?o[r-1].end+d+v:0,l}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,n){this.curIndex=e,e>=0&&n.length>0?this.curPos=n[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),i}(Ge);function Kf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function Yf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function Xf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`,"image/svg+xml").firstChild}var qf=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onBarMousedown",function(o){var l=b(t),u=l.player,c=t.find(".xgplayer-bar");h.event(o);var f=c.getBoundingClientRect(),d=h.getEventPos(o,u.zoom),v=f.height-(d.clientY-f.top);if(d.h=v,d.barH=f.height,t.pos=d,!(v<-2))return t.updateVolumePos(v,o),document.addEventListener("mouseup",t.onBarMouseUp),t._d.isStart=!0,!1}),E(b(t),"onBarMouseMove",function(o){var l=b(t),u=l._d;if(u.isStart){var c=b(t),f=c.pos,d=c.player;o.preventDefault(),o.stopPropagation(),h.event(o);var v=h.getEventPos(o,d.zoom);u.isMoving=!0;var g=f.h-v.clientY+f.clientY;g>f.barH||t.updateVolumePos(g,o)}}),E(b(t),"onBarMouseUp",function(o){h.event(o),document.removeEventListener("mouseup",t.onBarMouseUp);var l=b(t),u=l._d;u.isStart=!1,u.isMoving=!1}),E(b(t),"onMouseenter",function(o){t._d.isActive=!0,t.focus(),t.emit("icon_mouseenter",{pluginName:t.pluginName})}),E(b(t),"onMouseleave",function(o){t._d.isActive=!1,t.unFocus(100,!1,o),t.emit("icon_mouseleave",{pluginName:t.pluginName})}),E(b(t),"onVolumeChange",function(o){if(t.player){var l=t.player,u=l.muted,c=l.volume;t._d.isMoving||(t.find(".xgplayer-drag").style.height=u||c===0?"4px":"".concat(c*100,"%"),t.config.showValueLabel&&t.updateVolumeValue()),t.animate(u,c)}}),t}return F(i,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Yf,class:"xg-volume-small"},volumeLarge:{icon:Kf,class:"xg-volume"},volumeMuted:{icon:Xf,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var n=this.playerConfig,r=n.commonStyle,o=n.volume;r.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=r.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(l){e.changeMuted(l)},{pre:function(u){u.preventDefault(),u.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),X.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(br,this.onVolumeChange),this.once(Be,this.onVolumeChange),h.typeOf(o)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,n){var r=this.player,o=this.find(".xgplayer-drag"),l=this.find(".xgplayer-bar");if(!(!l||!o)){var u=parseInt(e/l.getBoundingClientRect().height*1e3,10);o.style.height="".concat(e,"px");var c=Math.max(Math.min(u/1e3,1),0),f={volume:{from:r.volume,to:c}};r.muted&&(f.muted={from:!0,to:!1}),this.emitUserAction(n,"change_volume",{muted:r.muted,volume:r.volume,props:f}),r.volume=Math.max(Math.min(u/1e3,1),0),r.muted&&(r.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,n=e.volume,r=e.muted,o=this.find(".xgplayer-value-label"),l=Math.max(Math.min(n,1),0);o.innerText=r?0:Math.round(l*100)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&&(h.clearTimeout(this,this._timerId),this._timerId=null),h.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2?arguments[2]:void 0,l=this._d,u=this.player;l.isActive||(this._timerId&&(h.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=h.setTimeout(this,function(){l.isActive||(r?u.blur():u.focus(),h.removeClass(e.root,"slide-show"),l.isStart&&e.onBarMouseUp(o)),e._timerId=null},n))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var n=this.player,r=this._d;r.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:n.muted,volume:n.volume,props:{muted:{from:n.muted,to:!n.muted}}}),n.volume>0&&(n.muted=!n.muted),n.volume<.01&&(n.volume=this.config.miniVolume)}},{key:"animate",value:function(e,n){e||n===0?this.setAttr("data-state","mute"):n<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(h.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",X.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,n=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(n?'<div class="xgplayer-value-label">'.concat(e*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(e*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),i}(te);function Jf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">
  <g>
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath>
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,"image/svg+xml").firstChild}var Zf=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),e.rotateDeg=e.config.rotateDeg||0,e}return F(i,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){K(G(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(We,function(){e.rotateDeg&&e.config.innerRotate&&h.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var n=this.player.root;this.rootWidth=n.style.width||n.offsetWidth||n.clientWidth,this.rootHeight=n.style.height||n.offsetHeight||n.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,n){if(e||(e=0),n){this.player.videoRotateDeg=e;return}var r=this.player,o=this.rootWidth,l=this.rootHeight,u=r.root,c=r.innerContainer,f=r.media,d=u.offsetWidth,v=c&&n?c.offsetHeight:u.offsetHeight,g=o,p=l,m=0,w=0;(e===.75||e===.25)&&(g="".concat(v,"px"),p="".concat(d,"px"),m=-(v-d)/2,w=-(d-v)/2);var _="translate(".concat(m,"px,").concat(w,"px) rotate(").concat(e,"turn)"),C={transformOrigin:"center center",transform:_,webKitTransform:_,height:p,width:g},L=n?f:u,H=n?r.getPlugin("poster"):null;Object.keys(C).map(function(M){L.style[M]=C[M],H&&H.root&&(H.root.style[M]=C[M])})}},{key:"rotate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=this.player;this.rotateDeg||(this.rotateDeg=0);var l=e?1:-1;this.rotateDeg=(this.rotateDeg+1+l*.25*r)%1,this.updateRotateDeg(this.rotateDeg,n),o.emit(xr,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:Jf}}},{key:"render",value:function(){if(!this.config.disable)return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      `.concat(Ke(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),i}(tt);function Qf(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}function eh(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}var st={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},th=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"switchPIP",function(o){if(!t.isPIPAvailable())return!1;o.stopPropagation&&o.stopPropagation(),t.isPip?(t.exitPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!0,to:!1}),t.setAttr("data-state","normal")):t.player.media.readyState===4&&(t.requestPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!1,to:!0}),t.setAttr("data-state","pip"))}),t}return F(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(K(G(i.prototype),"afterCreate",this).call(this),this.pMode=st.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(Zt,function(){e.config.showIcon&&(h.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Qf,class:"xg-get-pip"},pipIconExit:{icon:eh,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,n=this.player;this.leavePIPCallback=function(){var r=n.paused;h.setTimeout(e,function(){!r&&n.mediaPlay()},0),!r&&n.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,n.emit(Rn,!1)},this.enterPIPCallback=function(r){n.emit(Rn,!0),r!=null&&r.pictureInPictureWindow&&(e.pipWindow=r.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(r){var o=n.media.webkitPresentationMode;e.pMode===st.FULLSCREEN&&o!==st.FULLSCREEN&&n.onFullscreenChange(null,!1),e.pMode=o,o===st.PIP?e.enterPIPCallback(r):o===st.INLINE&&e.leavePIPCallback(r)},n.media&&(n.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),n.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(n.media)&&n.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var n=be(document.styleSheets).map(function(o){try{return be(o.cssRules).map(function(u){return u.cssText}).join("")}catch{var l=document.createElement("link");l.rel="stylesheet",l.type=o.type,l.media=o.media,l.href=o.href,e.document.head.appendChild(l)}return""}).filter(Boolean).join(`
`),r=document.createElement("style");r.textContent=n,e.document.head.appendChild(r)}},{key:"requestPIP",value:function(){var e=this,n=this.player,r=this.playerConfig,o=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var l=r.poster;if(l&&(n.media.poster=h.typeOf(l)==="String"?l:l.poster),o.preferDocument&&this.isDocPIPAvailable()){var u={};if(o.width&&o.height)u.width=o.width,u.height=o.height;else{var c=n.root.getBoundingClientRect();u.width=c.width,u.height=c.height}documentPictureInPicture.requestWindow(u).then(function(f){var d=o.docPiPNode,v=o.docPiPStyle;e.enterPIPCallback();var g=d||n.root,p=g.parentElement,m=g.previousSibling,w=g.nextSibling;e.copyStyleIntoPiPWindow(f);var _=document.createElement("style");if(_.append("body{padding:0; margin:0;}"),v){var C="";typeof v=="string"?C=v:typeof v=="function"&&(C=v.call(o)),C&&_.append(C)}else g===n.root&&_.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);f.document.head.append(_),f.document.body.append(g),f.addEventListener("pagehide",function(L){p&&(w?p.insertBefore(g,w):m?p.insertBefore(g,m.nextSibling):p.appendChild(g)),e.leavePIPCallback()},{once:!0})})}else i.checkWebkitSetPresentationMode(n.media)?n.media.webkitSetPresentationMode("picture-in-picture"):n.media.requestPictureInPicture();return!0}catch(f){return console.error("requestPiP",f),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{if(this.isPIPAvailable()&&this.isPip){var n;this.isDocPIPAvailable()&&(n=documentPictureInPicture)!==null&&n!==void 0&&n.window?documentPictureInPicture.window.close():i.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(r){return console.error("exitPIP",r),!1}}},{key:"isPip",get:function(){var e,n=this.player;return!!(this.isDocPIPAvailable()&&(e=documentPictureInPicture)!==null&&e!==void 0&&e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===n.media||n.media.webkitPresentationMode===st.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,n=h.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!1;return n&&(h.typeOf(e.disablePictureInPicture)==="Boolean"&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&h.typeOf(e.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),i.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      `.concat(Ke(this,"PIP",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),i}(tt);function nh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`,"image/svg+xml").firstChild}var ih=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"playNext",function(n){var r=b(e),o=r.player;n.preventDefault(),n.stopPropagation(),e.idx+1<e.config.urlList.length?(e.idx++,e.nextHandler(e.config.urlList[e.idx],e.idx),o.emit(Bt,e.idx+1)):(e.nextHandler(),o.emit(Bt))}),e.idx=-1,e}return F(i,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:nh}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=X.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var n=this.player;e&&(n.pause(),n.currentTime=0,n.switchURL?n.switchURL(e):n.src=e,n.config.url=e,n.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      `.concat(Ke(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),i}(te),zr={exports:{}};(function(a,s){(function(i,t){a.exports=t()})(Tc,function(){return function i(t,e,n){var r=window,o="application/octet-stream",l=n||o,u=t,c=!e&&!n&&u,f=document.createElement("a"),d=function(U){return String(U)},v=r.Blob||r.MozBlob||r.WebKitBlob||d,g=e||"download",p,m;if(v=v.call?v.bind(r):Blob,String(this)==="true"&&(u=[u,l],l=u[0],u=u[1]),c&&c.length<2048&&(g=c.split("/").pop().split("?")[0],f.href=c,f.href.indexOf(c)!==-1)){var w=new XMLHttpRequest;return w.open("GET",c,!0),w.responseType="blob",w.onload=function(U){i(U.target.response,g,o)},setTimeout(function(){w.send()},0),w}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u))if(u.length>1024*1024*1.999&&v!==d)u=H(u),l=u.type||o;else return navigator.msSaveBlob?navigator.msSaveBlob(H(u),g):M(u);else if(/([\x80-\xff])/.test(u)){var _=0,C=new Uint8Array(u.length),L=C.length;for(_;_<L;++_)C[_]=u.charCodeAt(_);u=new v([C],{type:l})}p=u instanceof v?u:new v([u],{type:l});function H(U){var le=U.split(/[:;,]/),se=le[1],V=le[2]=="base64"?atob:decodeURIComponent,ue=V(le.pop()),ce=ue.length,ae=0,_e=new Uint8Array(ce);for(ae;ae<ce;++ae)_e[ae]=ue.charCodeAt(ae);return new v([_e],{type:se})}function M(U,le){if("download"in f)return f.href=U,f.setAttribute("download",g),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout(function(){f.click(),document.body.removeChild(f),le===!0&&setTimeout(function(){r.URL.revokeObjectURL(f.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(U)&&(U="data:"+U.replace(/^data:([\w\/\-\+]+)/,o)),window.open(U)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=U),!0;var se=document.createElement("iframe");document.body.appendChild(se),!le&&/^data:/.test(U)&&(U="data:"+U.replace(/^data:([\w\/\-\+]+)/,o)),se.src=U,setTimeout(function(){document.body.removeChild(se)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(p,g);if(r.URL)M(r.URL.createObjectURL(p),!0);else{if(typeof p=="string"||p.constructor===d)try{return M("data:"+l+";base64,"+r.btoa(p))}catch{return M("data:"+l+","+encodeURIComponent(p))}m=new FileReader,m.onload=function(U){M(this.result)},m.readAsDataURL(p)}return!0}})})(zr);var rh=zr.exports;const sh=qt(rh);function ah(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`,"image/svg+xml").firstChild}var oh=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"download",function(n){if(!e.isLock){e.emitUserAction(n,"download");var r=e.playerConfig.url,o="";h.typeOf(r)==="String"?o=r:h.typeOf(r)==="Array"&&r.length>0&&(o=r[0].src);var l=e.getAbsoluteURL(o);sh(l),e.isLock=!0,e.timer=window.setTimeout(function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null},300)}}),e.timer=null,e.isLock=!1,e}return F(i,[{key:"afterCreate",value:function(){K(G(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(n){n.preventDefault(),n.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:ah}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var n=document.createElement("div");n.innerHTML='<a href="'.concat(e,'">x</a>'),e=n.firstChild.href}return e}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   `.concat(Ke(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:3,disable:!0}}}]),i}(tt),lh=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){K(G(i.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(n){e.fitVideo&&(e.width=n.vWidth,e.height=n.vHeight)},this.once(We,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,n){var r=document.createElement("a");r.href=e,r.download=n;var o;try{typeof MouseEvent<"u"?o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null))}catch(l){console.error("MouseEvent unsupported",l)}o&&r.dispatchEvent(o)}},{key:"createCanvas",value:function(e,n){var r=document.createElement("canvas"),o=r.getContext("2d");this.canvasCtx=o,this.canvas=r,r.width=e||this.config.width,r.height=n||this.config.height,o.imageSmoothingEnabled=!0,o.imageSmoothingEnabled&&(o.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var n=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var r=this.config;this.shot(r.width,r.height).then(function(o){n.emit(Lr,o),r.saveImg&&n.saveScreenShot(o,r.name+r.format)})}},{key:"shot",value:function(e,n){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},l=this.config,u=this.player,c=o.quality||l.quality,f=o.type||l.type;return new Promise(function(d,v){var g=null,p;if(u.media.canvas)g=u.media.canvas;else{r.canvas?(r.canvas.width=e||l.width,r.canvas.height=n||l.height):r.createCanvas(e,n),g=r.canvas,p=r.canvasCtx;var m=u.media.videoWidth/u.media.videoHeight,w=g.width/g.height,_=0,C=0,L=u.media.videoWidth,H=u.media.videoHeight,M,U,le,se;m>w?(le=g.width,se=g.width/m,M=0,U=Math.round((g.height-se)/2)):m===w?(le=g.width,se=g.height,M=0,U=0):m<w&&(le=g.height*m,se=g.height,M=Math.round((g.width-le)/2),U=0),p.drawImage(u.media,_,C,L,H,M,U,le,se)}var V=g.toDataURL(f,c).replace(f,"image/octet-stream");V=V.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),d(V)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(We,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",n="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(e,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[n],'">').concat(this.i18n[n],"</span>"),`
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),i}(tt),uh=function(){function a(s){N(this,a),this.config=s.config,this.parent=s.root,this.root=h.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),s.root.appendChild(this.root);var i=this.config.maxHeight;i&&this.setStyle({maxHeight:i}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var t=this.config.domEventType==="touch"?"touchend":"click";this._delegates=te.delegate.call(this,this.root,"li",t,this.onItemClick)}return F(a,[{key:"renderItemList",value:function(i){var t=this,e=this.config,n=this.root;i?e.data=i:i=e.data,e.style&&Object.keys(e.style).map(function(r){n.style[r]=e[r]}),i.length>0&&(this.attrKeys=Object.keys(i[0])),this.root.innerHTML="",i.map(function(r,o){var l=r.selected?"option-item selected":"option-item";r["data-index"]=o,t.root.appendChild(h.createDom("li","<span>".concat(r.showText,"</span>"),r,l))})}},{key:"onItemClick",value:function(i){i.delegateTarget||(i.delegateTarget=i.target);var t=i.delegateTarget;if(t&&h.hasClass(t,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,n=this.root.querySelector(".selected");h.addClass(t,"selected"),n&&h.removeClass(n,"selected"),e(i,{from:n?this.getAttrObj(n,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(i,t){if(!i||!t)return{};var e={};t.map(function(r){e[r]=i.getAttribute(r)});var n=i.getAttribute("data-index");return n&&(e.index=Number(n)),e}},{key:"show",value:function(){h.removeClass(this.root,"hide"),h.addClass(this.root,"active")}},{key:"hide",value:function(){h.removeClass(this.root,"active"),h.addClass(this.root,"hide")}},{key:"setStyle",value:function(i){var t=this;Object.keys(i).forEach(function(e){t.root.style[e]=i[e]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(i){i.destroy&&i.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),a}(),Ee={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},at={CLICK:"click",HOVER:"hover"};function ch(a,s){return a===Ee.SIDE?s===ie.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var Ye=X.device==="mobile",jt=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"onEnter",function(n){n.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.switchActiveState(n)}),E(b(e),"switchActiveState",function(n){n.stopPropagation();var r=e.config.toggleMode;r===at.CLICK?e.toggle(!e.isActive):e.toggle(!0)}),E(b(e),"onLeave",function(n){n.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.config.listType!==Ee.SIDE&&e.isActive&&e.toggle(!1)}),E(b(e),"onListEnter",function(n){e.enterType=2}),E(b(e),"onListLeave",function(n){e.enterType=0,e.isActive&&e.toggle(!1)}),e.isIcons=!1,e.isActive=!1,e.curValue=null,e.curIndex=0,e}return F(i,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,n=this.config;this.initIcons(),Ye=Ye||this.domEventType==="touch",Ye&&X.device==="mobile"&&n.listType===Ee.DEFAULT&&(n.listType=Ee.SIDE),n.hidePortrait&&h.addClass(this.root,"portrait"),this.on([We,Me],function(){e._resizeList()}),this.once(Oe,function(){n.list&&n.list.length>0&&(e.renderItemList(n.list),e.show())}),Ye&&this.on(Qn,function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),Ye?(n.toggleMode=at.CLICK,this.activeEvent="touchend"):this.activeEvent=n.toggleMode===at.CLICK?"click":"mouseenter",n.toggleMode===at.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,n=this.icons,r=Object.keys(n),o=!1;r.length>0&&(r.forEach(function(l){e.appendChild(".xgplayer-icon",n[l]),!o&&(o=n[l])}),this.isIcons=o),!o&&(this.appendChild(".xgplayer-icon",h.createDom("span","",{},"icon-text")),h.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||h.addClass(this.root,"show")}},{key:"hide",value:function(){h.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,n,r){if(e===void 0)return"";var o=this.config.list;!r&&(r=this.player.lang),n=!n||h.isUndefined(e[n])?"text":n,typeof e=="number"&&(e=o[e]);try{return de(e[n])==="object"?e[n][r]||e[n].en:e[n]}catch(l){return console.warn(l),""}}},{key:"toggle",value:function(e){if(!(e===this.isActive||this.config.disable)){var n=this.player.controls,r=this.config.listType;e?(r===Ee.SIDE?n.blur():n.focus(),this.optionsList&&this.optionsList.show()):(r===Ee.SIDE?n.focus():n.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,n){e.stopPropagation();var r=this.config,o=r.listType,l=r.list;this.curIndex=n.to.index,this.curItem=l[this.curIndex],this.changeCurrentText();var u=this.config.isItemClickHide;(u||Ye||o===Ee.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,n=this.curIndex<e.length?this.curIndex:0,r=e[n];r&&(this.find(".icon-text").innerHTML=this.getTextByLang(r,"iconText"))}}},{key:"renderItemList",value:function(e,n){var r=this,o=this.config,l=this.optionsList,u=this.player;if(typeof n=="number"&&(this.curIndex=n,this.curItem=o.list[n]),l){l.renderItemList(e),this.changeCurrentText();return}var c={config:{data:e||[],className:ch(o.listType,o.position),onItemClick:function(p,m){r.onItemClick(p,m)},domEventType:Ye?"touch":"mouse"},root:o.listType===Ee.SIDE?u.innerContainer||u.root:this.root};if(this.config.isShowIcon){var f=this.player.root.getBoundingClientRect(),d=f.height,v=o.listType===Ee.MIDDLE?d-50:d;v&&o.heightLimit&&(c.config.maxHeight="".concat(v,"px")),this.optionsList=new uh(c),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect(),n=e.height,r=this.config.listType===Ee.MIDDLE?n-50:n;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(r,"px")})}}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===at.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:at.HOVER,heightLimit:!0}}}]),i}(te),fh=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),e.curTime=0,e.isPaused=!0,e}return F(i,[{key:"beforeCreate",value:function(e){var n=e.config.list;Array.isArray(n)&&n.length>0&&(e.config.list=n.map(function(r){return!r.text&&r.name&&(r.text=r.name),r.text||(r.text=r.definition),r}))}},{key:"afterCreate",value:function(){var e=this;K(G(i.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(n){e.changeDefinitionList(n)}),this.on(ii,function(n){e.renderItemList(e.config.list,n.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||h.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,n=e.list,r=e.defaultDefinition;if(n.length>0){var o=null;n.map(function(l){l.definition===r&&(o=l)}),o||(o=n[0]),this.changeDefinition(o)}}},{key:"renderItemList",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],r=arguments.length>1?arguments[1]:void 0,o=r&&r.definition?r.definition:this.config.defaultDefinition;r&&n.forEach(function(c){c.selected=!1});var l=0,u=n.map(function(c,f){var d=oe(oe({},c),{},{showText:e.getTextByLang(c)||c.definition,selected:!1});return(c.selected||c.definition&&c.definition==o)&&(d.selected=!0,l=f),d});K(G(i.prototype),"renderItemList",this).call(this,u,l)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map(function(n){return!n.text&&n.name&&(n.text=n.name),n.text||(n.text=n.definition),n}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,n){this.player.changeDefinition(e,n)}},{key:"onItemClick",value:function(e,n){var r=this.player.definitionList;K(G(i.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:n.from,to:n.to});for(var o=0;o<r.length;o++)n.to&&r[o].definition===n.to.definition&&(n.to.url=r[o].url),n.from&&r[o].definition===n.from.definition&&(n.from.url=r[o].url);this.player.changeDefinition(n.to,n.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return oe(oe({},jt.defaultConfig),{},{position:ie.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),i}(jt),hh=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),e.curRate=1,e}return F(i,[{key:"beforeCreate",value:function(e){var n=e.player.config.playbackRate,r=n?Array.isArray(n)?n:e.config.list:[];Array.isArray(r)&&(e.config.list=r.map(function(o){return typeof o=="number"?o={rate:o,text:"".concat(o,"x")}:!o.text&&o.rate&&(o.text="".concat(o.rate,"x")),o}))}},{key:"afterCreate",value:function(){var e=this;K(G(i.prototype),"afterCreate",this).call(this),this.on(Cr,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(e){!this.config.list||this.config.list.length===0||K(G(i.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,n){K(G(i.prototype),"onItemClick",this).call(this,e,n);var r=e.delegateTarget,o=Number(r.getAttribute("rate"));if(!o||o===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:o}};this.emitUserAction(e,"change_rate",{props:l}),this.curValue=o,this.player.playbackRate=o}},{key:"renderItemList",value:function(){var e=this,n=this.player.playbackRate||1;this.curValue=n;var r=-1,o=this.config.list.map(function(l,u){var c={rate:l.rate};return c.rate===n&&(c.selected=!0,r=u),c.showText=e.getTextByLang(l),c});K(G(i.prototype),"renderItemList",this).call(this,o,r)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,n=this.curIndex<e.length?this.curIndex:0,r=e[n],o="";!r||this.curIndex<0?o="".concat(this.player.playbackRate,"x"):o=this.getTextByLang(r,"iconText"),this.find(".icon-text").innerHTML=o}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return oe(oe({},jt.defaultConfig),{},{position:ie.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),i}(jt);function dh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function gh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}var Xi=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;K(G(i.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(Nt,function(n){e.animate(n)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,n=this.find(".xgplayer-icon");n.appendChild(e.cssFullscreen),n.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var n=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:n}),n?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var n=this.i18nKeys,r=this.find(".xg-tips");r&&this.changeLangTextKey(r,e?n.EXITCSSFULLSCREEN_TIPS:n.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:dh,class:"xg-get-cssfull"},exitCssFullscreen:{icon:gh,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){K(G(i.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(Ke(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:ie.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),i}(tt),vh=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(St,function(n){e.onError(n)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=this.player,r=e.errorType,o=n.errorNote?this.i18n[n.errorNote]:"";if(!o)switch(r){case"decoder":o=this.i18n.MEDIA_ERR_DECODE;break;case"network":o=this.i18n.MEDIA_ERR_NETWORK;break;default:o=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=o,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),i}(te),ph=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(n){(e.config.onClick||e.customOnClick)&&(n.preventDefault(),n.stopPropagation(),e.customOnClick?e.customOnClick(n):e.config.onClick(n))}),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var n=this;Object.keys(e).map(function(r){n.root.style[r]=e[r]})}},{key:"showPrompt",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(e){this.customOnClick=o;var l=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),h.addClass(this.root,"show"),r.mode==="arrow"&&h.addClass(this.root,"arrow"),typeof e=="string"?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),r.style&&this.setStyle(r.style);var u=typeof r.autoHide=="boolean"?r.autoHide:this.config.autoHide;if(u){var c=r.interval||l;this.intervalId=setTimeout(function(){n.hide()},c)}}}},{key:"hide",value:function(){h.removeClass(this.root,"show"),h.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(x.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),i}(te),qi={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Wr(a){Object.keys(qi).map(function(s){a[s]===void 0&&(a[s]=qi[s])})}var Ji={_updateDotDom:function(s,i){if(i){var t=this.calcuPosition(s.time,s.duration),e=s.style||{};e.left="".concat(t.left,"%"),e.width="".concat(t.width,"%"),i.setAttribute("data-text",s.text),i.setAttribute("data-time",s.time),t.isMini?h.addClass(i,"mini"):h.removeClass(i,"mini"),Object.keys(e).map(function(n){i.style[n]=e[n]})}},initDots:function(){var s=this;this._ispots.map(function(i){s.createDot(i,!1)}),this.ispotsInit=!0},createDot:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.player.plugins.progress;if(t&&(i&&(Wr(s),this._ispots.push(s)),!(!this.ispotsInit&&i))){var e=this.calcuPosition(s.time,s.duration),n=s.style||{};n.left="".concat(e.left,"%"),n.width="".concat(e.width,"%");var r="xgspot_".concat(s.id," xgplayer-spot");e.isMini&&(r+=" mini");var o=s.template?'<div class="xgplayer-spot-pop">'.concat(s.template,"</div>"):"",l=h.createDom("xg-spot",o,{"data-text":s.text,"data-time":s.time,"data-id":s.id},r);Object.keys(n).map(function(u){l.style[u]=n[u]}),t.outer&&t.outer.appendChild(l),this.positionDot(l,s.id)}},findDot:function(s){if(this.player.plugins.progress){var i=this._ispots.filter(function(t,e){return t.id===s});return i.length>0?i[0]:null}},updateDot:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this.player.plugins.progress;if(t){var e=this.findDot(s.id);if(e&&Object.keys(s).map(function(r){e[r]=s[r]}),!!this.ispotsInit){var n=t.find('xg-spot[data-id="'.concat(s.id,'"]'));n&&(this._updateDotDom(s,n),i&&this.showDot(s.id))}}},deleteDot:function(s){var i=this._ispots,t=this.player.plugins.progress;if(t){for(var e=[],n=0;n<i.length;n++)i[n].id===s&&e.push(n);for(var r=e.length,o=r-1;o>=0;o--)if(i.splice(e[o],1),this.ispotsInit){var l=t.find('xg-spot[data-id="'.concat(s,'"]'));l&&l.parentElement.removeChild(l)}}},deleteAllDots:function(){var s=this.player.plugins.progress;if(s){if(!this.ispotsInit){this._ispots=[];return}for(var i=s.root.getElementsByTagName("xg-spot"),t=i.length-1;t>=0;t--)s.outer.removeChild(i[t]);this._ispots=[]}},updateAllDots:function(){var s=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.player.plugins.progress;if(t){if(!this.ispotsInit){this._ispots=i;return}this._ispots=[];var e=t.root.getElementsByTagName("xg-spot"),n=e.length;if(n>i.length)for(var r=n-1;r>i.length-1;r--)t.outer.removeChild(e[r]);i.forEach(function(o,l){l<n?(e[l].setAttribute("data-id","".concat(o.id)),s._ispots.push(o),s.updateDot(o)):s.createDot(o)})}},positionDots:function(){var s=this,i=this._ispots,t=this.playerSize,e=this.player.sizeInfo,n=this.player.plugins.progress;!n||e.width===t.width||(t.width=e.width,t.left=e.left,i.forEach(function(r){var o=n.find('xg-spot[data-id="'.concat(r.id,'"]'));o&&s.positionDot(o,r.id)}))},positionDot:function(s,i){var t=h.findDom(s,".xgplayer-spot-pop");if(t){var e=this.playerSize,n=s.getBoundingClientRect(),r=t.getBoundingClientRect(),o=n.left-e.left,l=e.width-o-n.width/2;if(o<r.width/2||e.width<r.width){var u=r.width/2-o;t.style.left="".concat(u,"px")}else if(l<r.width/2){var c=l-r.width/2+n.width/2;t.style.left="".concat(c,"px")}else t.style.left="50%"}},updateDuration:function(){var s=this,i=this.player.plugins.progress;if(i){var t=this._ispots;t.forEach(function(e){var n=i.find('xg-spot[data-id="'.concat(e.id,'"]'));s._updateDotDom(e,n)})}},getAllDotsDom:function(){var s=this.player.plugins.progress;if(!s)return[];var i=s.root.getElementsByTagName("xg-spot");return i},getDotDom:function(s){var i=this.player.plugins.progress;if(i)return i.find('xg-spot[data-id="'.concat(s,'"]'))}};function mh(a){var s=a.config,i=a.player;Object.keys(Ji).map(function(e){a[e]=Ji[e].bind(a)});var t=i.config.progressDot||s.ispots||[];a._ispots=t.map(function(e){return Wr(e),e}),a.ispotsInit=!1,a.playerSize={left:i.sizeInfo.left,width:i.sizeInfo.width},a.on($e,function(){a.ispotsInit?a.updateDuration():a.initDots()}),a.on(We,function(){a.positionDots()})}var ot={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},yh=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),E(b(e),"onMousemove",function(n){if(!e.config.disable){if(h.hasClass(n.target,"xg-spot-content")&&e.config.isHideThumbnailHover){e.player.plugins.progress.onMouseLeave(n);return}(e._state.f||h.hasClass(n.target,"xg-spot-content"))&&(h.event(n),n.stopPropagation())}}),E(b(e),"onMousedown",function(n){e.config.disable||(e._state.f||h.hasClass(n.target,"xg-spot-content"))&&(h.event(n),n.stopPropagation())}),E(b(e),"onMouseup",function(n){if(e.isDrag){var r=e.player.plugins.progress;r&&r.pos&&(r.onMouseUp(n),!r.pos.isEnter&&r.onMouseLeave(n))}}),E(b(e),"onDotMouseLeave",function(n){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(n.target),e._curDot=null;var r=e.player.plugins.progress;r&&r.enableBlur(),e.show()}}),E(b(e),"onProgressMouseOver",function(n,r){if(!e.config.disable&&h.hasClass(r.target,"xgplayer-spot")&&!e._curDot){e._curDot=r.target,e.focusDot(r.target),e._curDot.children.length>0&&e.hide();var o=e.player.plugins.progress;o&&o.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}}),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e.timeStr="",e._state={now:0,f:!1},e}return F(i,[{key:"beforeCreate",value:function(e){var n=e.player.plugins.progress;n&&(e.root=n.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(n,r){r.seekTime&&e.player.seek(r.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(n){e.setTimeContent(h.format(n))}),mh(this),this.on($e,function(){e.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var n=this;e&&Object.keys(e).map(function(r){n.config[r]=e[r]})}},{key:"onPluginsReady",value:function(){var e=this.player;e.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,n=this.player.plugins.progress;if(n&&(Object.keys(ot).map(function(o){e[ot[o]]=e[ot[o]].bind(e),n.addCallBack(o,e[ot[o]])}),X.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var r=this.hook("previewClick",function(){});this.handlerPreviewClick=function(o){o.stopPropagation(),r(parseInt(e._state.now*1e3,10)/1e3,o)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,n){this.config.disable||!this.player.duration||this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&h.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&h.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,n){this.config.disable||h.hasClass(n.target,"xgplayer-spot")&&(n.stopPropagation(),n.preventDefault(),["time","id","text"].map(function(r){e[r]=n.target.getAttribute("data-".concat(r))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(n,e))}},{key:"updateLinePos",value:function(e,n){var r=this.root,o=this.previewLine,l=this.player,u=this.config,c=l.controls.mode,f=c==="flex",d=r.getBoundingClientRect().width;if(!(!d&&this._hasThumnail)){d=this._hasThumnail&&d<u.width?u.width:d;var v=e-d/2,g;v<0&&!f?(v=0,g=e-d/2):v>n-d&&!f?(g=v-(n-d),v=n-d):g=0,g!==void 0&&(o.style.transform="translateX(".concat(g.toFixed(2),"px)")),r.style.transform="translateX(".concat(v.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var n=this.timeText,r=this.timePoint;n.innerHTML=e,!this.thumbnail&&(r.innerHTML=e)}},{key:"updatePosition",value:function(e,n,r,o){var l=this.root,u=this.config,c=this._state;if(l){c.now=r,this.transformTimeHook(r);var f=this.timeStr;o&&o.target&&h.hasClass(o.target,"xgplayer-spot")?(this.showTips(o.target.getAttribute("data-text"),!1,f),this.focusDot(o.target),c.f=!0,u.isFocusDots&&c.f&&(c.now=parseInt(o.target.getAttribute("data-time"),10))):u.defaultText?(c.f=!1,this.showTips(u.defaultText,!0,f)):(c.f=!1,this.hideTips("")),this.updateTimeText(f),this.updateThumbnails(c.now),this.updateLinePos(e,n)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var n=this.player,r=this.videoPreview,o=this.config,l=n.plugins.thumbnail;if(l&&l.usable){this.thumbnail&&l.update(this.thumbnail,e,o.width,o.height);var u=r&&r.getBoundingClientRect();this.videothumbnail&&l.update(this.videothumbnail,e,u.width,u.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(X.device!=="mobile"){var n=this.player,r=this.config,o=n.getPlugin("thumbnail");if(o&&o.setConfig(e),!o||!o.usable||!r.isShowThumbnail){h.addClass(this.root,"short-line no-thumbnail");return}else h.removeClass(this.root,"short-line no-thumbnail");r.mode==="short"&&h.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=o.createThumbnail(l,"progress-thumbnail"),r.isShowCoverPreview&&(this.videoPreview=h.createDom("xg-video-preview","",{},"xgvideo-preview"),n.root.appendChild(this.videoPreview),this.videothumbnail=o.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,n){var r=this.player.plugins.progress,o=this.player,l=r.root.getBoundingClientRect().width,u=o.duration/l*6;return e+n>o.duration&&(n=o.duration-e),e/o.duration*100,n/o.duration,{left:e/o.duration*100,width:n/o.duration*100,isMini:n<u}}},{key:"showDot",value:function(e){var n=this.findDot(e);if(n){var r=this.root.getBoundingClientRect(),o=r.width,l=n.time/this.player.duration*o;this.updatePosition(l,o,n.time)}}},{key:"focusDot",value:function(e,n){e&&(n||(n=e.getAttribute("data-id")),h.addClass(e,"active"),this._activeDotId=n)}},{key:"blurDot",value:function(e){if(!e){var n=this._activeDotId;e=this.getDotDom(n)}e&&(h.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";h.addClass(this.root,"no-timepoint"),e&&(h.addClass(this.find(".xg-spot-content"),"show-text"),n&&this.config.mode==="production"?(h.addClass(this.root,"product"),this.tipText.textContent=e):(h.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(r," ").concat(e)))}},{key:"hideTips",value:function(){h.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",h.removeClass(this.find(".xg-spot-content"),"show-text"),h.removeClass(this.root,"product")}},{key:"hide",value:function(){h.addClass(this.root,"hide")}},{key:"show",value:function(e){h.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,n=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(n.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,n=this.player.plugins.progress;n&&Object.keys(ot).map(function(r){n.removeCallBack(r,e[ot[r]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return X.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),i}(te),_h=function(a){z(i,a);var s=W(i);function i(t){var e;return N(this,i),e=s.call(this,t),e.ratio=1,e.interval=null,e._preloadMark={},e}return F(i,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([$e],function(){var n=e.config,r=n.pic_num,o=n.interval;e.usable&&(e.interval=o>0?o:Math.round(e.player.duration*1e3/r)/1e3)})}},{key:"setConfig",value:function(e){var n=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(o){n.config[o]=e[o]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,n=e.urls,r=e.pic_num;return n&&n.length>0&&r>0}},{key:"initThumbnail",value:function(){var e=this.config,n=e.width,r=e.height,o=e.pic_num,l=e.interval;this.ratio=n/r*100,this.interval=l||Math.round(this.player.duration/o),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var n=this;if(!this._preloadMark[e]){var r=this.config.urls,o=r.length,l=[];e>0&&l.push(e-1),l.push(e),e>0&&e<o-1&&l.push(e+1),l.map(function(u){!n._preloadMark[u]&&u>=0&&u<o&&(n._preloadMark[u]=1,h.preloadImg(r[u],function(){n._preloadMark[u]=2}))})}}},{key:"getPosition",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.config,l=o.pic_num,u=o.row,c=o.col,f=o.width,d=o.height;this.interval=Math.round(this.player.duration/l);var v=Math.ceil(e/this.interval);v=v>l?l:v;var g=v<u*c?0:Math.ceil(v/(u*c))-1,p=v-g*(c*u),m=p>0?Math.ceil(p/c)-1:0,w=p>0?p-m*c-1:0,_=0,C=0;if(n&&r){var L=n/r;L<f/d?(C=r,_=C*(f/d)):(_=n,C=_/(f/d))}else r?n||(C=r||d,_=C*(f/d)):(_=n||f,C=_/(f/d));var H=this.getUrlByIndex(g);return{urlIndex:g,rowIndex:m,colIndex:w,url:H,height:C,width:_,style:{backgroundImage:"url(".concat(H,")"),backgroundSize:"".concat(_*c,"px auto"),backgroundPosition:"-".concat(w*_,"px -").concat(m*C,"px"),width:"".concat(_,"px"),height:"".concat(C,"px")}}}},{key:"update",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=this.config,c=u.pic_num,f=u.urls;if(!(c<=0||!f||f.length===0)){var d=this.getPosition(n,r,o);this.preload(d.urlIndex),Object.keys(d.style).map(function(v){e.style[v]=d.style[v]}),Object.keys(l).map(function(v){e.style[v]=l[v]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,n){var r=h.createDom("xg-thumbnail","",{},"thumbnail ".concat(n));return e&&e.appendChild(r),r}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),i}(te);function bn(a){return a?"background:".concat(a,";"):""}var kh=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onTimeupdate",function(){var o=t.player.ended,l=b(t),u=l.offsetDuration,c=t.currentTime;c=h.adjustTimeByDuration(c,u,o),t.update({played:c},u)}),t}return F(i,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,n=e.offsetCurrentTime,r=e.currentTime;return n>=0?n:r}},{key:"afterCreate",value:function(){var e=this;this.root&&(this.on(me,this.onTimeupdate),this.on(et,function(){e.reset()}))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},n=arguments.length>1?arguments[1]:void 0;!n||!this.root||(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/n*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/n*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,n=e.commonStyle,r=e.miniprogress;if(r){var o=this.config,l=o.mode,u=o.height,c={cached:bn(n.cachedColor),played:bn(n.playedColor),progress:bn(n.progressColor),height:u>0&&u!==2?"height: ".concat(u,"px;"):""},f=l==="show"?"xg-mini-progress-show":"";return'<xg-mini-progress class="xg-mini-progress '.concat(f,'" style="').concat(c.progress," ").concat(c.height,`">
    <xg-mini-progress-cache class="xg-mini-progress-cache" style="`).concat(c.cached,`"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played" style="`).concat(c.played,`"></xg-mini-progress-played>
    </xg-mini-progress>`)}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),i}(te),lt={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",POSTER:"poster"};function bh(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function Ch(){try{var a=document.createElement("canvas").getContext;return!!a}catch{return!1}}var It=null,Th=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onLoadedData",function(o){t.player&&(t._frameCount=t.config.startFrameCount,t.stop(),t.renderOnTimeupdate(o),t.off(me,t.renderOnTimeupdate),t.on(me,t.renderOnTimeupdate))}),E(b(t),"onVisibilitychange",function(o){document.visibilityState==="visible"?t._checkIfCanStart()&&t.start():document.visibilityState==="hidden"&&t.stop()}),E(b(t),"renderOnTimeupdate",function(o){if(t._frameCount>0)t.renderOnce(),t._frameCount--;else{t._isLoaded=!0,t.off(me,t.renderOnTimeupdate);var l=t.config.startInterval;!t.player.paused&&t._checkIfCanStart()&&t.start(0,l)}}),E(b(t),"start",function(o,l){var u=t.player.video,c=bh(),f=t.checkVideoIsSupport(u);!f||!t.canvasCtx||(l||(l=t.interval),t.stop(),u.videoWidth&&u.videoHeight&&(t.videoPI=u.videoHeight>0?parseInt(u.videoWidth/u.videoHeight*100,10):0,(t.config.mode===lt.REAL_TIME||c-t.preTime>=l)&&(u&&u.videoWidth&&t.update(f,t.videoPI),t.preTime=c)),t.frameId=t._loopType==="timer"?h.setTimeout(b(t),t.start,l):h.requestAnimationFrame(t.start))}),E(b(t),"stop",function(){t.frameId&&(t._loopType==="timer"?h.clearTimeout(b(t),t.frameId):h.cancelAnimationFrame(t.frameId),t.frameId=null)}),t}return F(i,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),i.isSupport||(this.config.disable=!0);var n=this.config,r=n.disable,o=n.mode,l=n.frameRate;r||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/l,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==lt.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(Zt,function(){e.player&&(e.init(),e.renderByPoster(),e.player.paused||e.start())}),o!==lt.POSTER&&(o!==lt.FIRST_FRAME&&(this.on(et,function(){e.stop()}),this.on(ye,function(){var u=e.config.startInterval;e._checkIfCanStart()&&e.start(0,u)}),this.on(dt,function(){e.stop()})),this.on(Be,this.onLoadedData),this.on(Zn,function(){e._isLoaded=!1,e.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var n=this;Object.keys(e).forEach(function(r){r==="root"&&e[r]!==n.config[r]?n.reRender(e[r]):r==="frameRate"?n.interval=parseInt(1e3/e[r],10):r==="disable"&&e[r]&&n.stop(),n.config[r]=e[r]})}},{key:"init",value:function(e){var n=this.player,r=this.config;this.canvasFilter=i.supportCanvasFilter();try{var o=e||r.root;o||(o=r.isInnerRender&&n.innerContainer||n.root),o.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(r.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=o.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=r.filter,this.canvas.style.webkitFilter=r.filter),this.mask=this.find("xgmask"),r.addMask&&(this.mask.style.background=r.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(l){J.logError("plugin:DynamicBg",l)}}},{key:"reRender",value:function(e){var n=this.config.disable;if(!(!n&&!this.root)){this.stop();var r=this.root?this.root.parentElement:null;if(r!==e&&r.removeChild(this.root),!e){this.root=null;return}this.init(e),this.renderOnce();var o=this.config.startInterval;this._checkIfCanStart()&&this.start(0,o)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var n=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(n&&!(X.browser==="safari"&&h.isMSE(n)))return n;var r=n?n.tagName.toLowerCase():"";return r==="canvas"||r==="img"?n:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var n=h.typeOf(e)==="String"?e:h.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(n)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==lt.FIRST_FRAME&&e!==lt.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(!(!e.videoWidth||!e.videoHeight)){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var n=this.checkVideoIsSupport(e);n&&this.update(n,this.videoPI)}}},{key:"updateImg",value:function(e){var n=this;if(e){var r=this.canvas.getBoundingClientRect(),o=r.width,l=r.height,u=new window.Image;u.onload=function(){if(!(!n.canvas||n.frameId||n.isStart)){n.canvas.height=l,n.canvas.width=o;var c=parseInt(o/l*100,10);n.update(u,c),u=null}},u.src=e}}},{key:"update",value:function(e,n){if(!(!this.canvas||!this.canvasCtx||!n))try{var r=this._pos,o=this.config,l=this.canvas.getBoundingClientRect(),u=l.width,c=l.height;if(u!==r.width||c!==r.height||r.pi!==n){var f=parseInt(u/c*100,10);r.pi=n,r.width!==u&&(r.width=this.canvas.width=u),r.height!==c&&(r.height=this.canvas.height=c);var d=c,v=u;f<n?v=parseInt(c*n/100,10):f>n&&(d=parseInt(u*100/n,10)),r.rwidth=v*o.multiple,r.rheight=d*o.multiple,r.x=(u-r.rwidth)/2,r.y=(c-r.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=o.filter),this.canvasCtx.drawImage(e,r.x,r.y,r.rwidth,r.rheight)}catch(g){J.logError("plugin:DynamicBg",g)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof It=="boolean"||(It=Ch()),It}},{key:"supportCanvasFilter",value:function(){return!(X.browser==="safari"||X.browser==="firefox")}}]),i}(te),Sh={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:"视频下载错误"},mse:{code:2,msg:"流追加错误"},parse:{code:3,msg:"解析错误"},format:{code:4,msg:"格式错误"},decoder:{code:5,msg:"解码错误"},runtime:{code:6,msg:"语法错误"},timeout:{code:7,msg:"播放超时"},other:{code:8,msg:"其他错误"}},HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"网络错误",MEDIA_ERR_DECODE:"解码错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题",PLAY_TIPS:"播放",PAUSE_TIPS:"暂停",PLAYNEXT_TIPS:"下一集",DOWNLOAD_TIPS:"下载",ROTATE_TIPS:"旋转",RELOAD_TIPS:"重新载入",FULLSCREEN_TIPS:"进入全屏",EXITFULLSCREEN_TIPS:"退出全屏",CSSFULLSCREEN_TIPS:"进入样式全屏",EXITCSSFULLSCREEN_TIPS:"退出样式全屏",TEXTTRACK:"字幕",PIP:"画中画",SCREENSHOT:"截图",LIVE:"正在直播",OFF:"关闭",OPEN:"开启",MINI_DRAG:"点击按住可拖动视频",MINISCREEN:"小屏幕",REFRESH_TIPS:"请试试",REFRESH:"刷新",FORWARD:"快进中",LIVE_TIP:"直播"}},mt="info",Cn=Nr,Eh=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"_recordUserActions",function(o){var l=t._getTime(),u=Object.assign({},o,{msg:o.msg||o.action});t._stats[mt].push(oe(oe({type:"userAction"},l),{},{payload:u}))}),E(b(t),"_onReset",function(){t.reset()}),E(b(t),"_recordInfo",function(o){t.info(o)}),E(b(t),"_downloadStats",function(){var o=t.getStats(),l=new Blob([JSON.stringify(o)],{type:"application/json"}),u=window.URL.createObjectURL(l),c=document.createElement("a");c.style.display="none",c.href=u,c.download="player.txt",c.disabled=!1,c.click()}),t}return F(i,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(Ht,this._recordUserActions),this.on(Cn.STATS_INFO,this._recordInfo),this.on(Cn.STATS_DOWNLOAD,this._downloadStats),this.on(Cn.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var n=this._getTime();this._stats[mt].push(oe(oe({},n),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var n=Date.now(),r=n-e.startMs,o=oe({cat:"function",dur:r,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(o)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},E(e,mt,[]),E(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,n=e.media,r=[],o=0;o<n.buffered.length;o++)r.push({start:n.buffered.start(o),end:n.buffered.end(o)});var l={currentTime:n.currentTime,readyState:n.readyState,buffered:r,paused:n.paused,ended:n.ended};return this._stats.media=l,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[mt],n=e.map(function(r){var o=r.payload.data,l="";try{o instanceof Error?l=o.msg:o!==void 0&&(l=JSON.stringify(o))}catch(u){console.log("err",u)}return"[".concat(r.timeFormat,"] : ").concat(r.payload.msg," ").concat(l," ")});return n}},{key:"_getProfile",value:function(){var e={traceEvents:[]},n=this._stats[mt];return n.forEach(function(r){r.payload.profile&&e.traceEvents.push(r.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),i}(Ge),Gr=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onGapJump",function(){var o=b(t),l=o.player,u=o.config;if(l.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(l.media.seeking){if(!t.seekingEventReceived)return}else t.seekingEventReceived=!1;if(!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){var c=l.media.buffered,f=u.smallGapLimit||.5,d=u.gapDetectionThreshold||.3,v=l.media.currentTime,g=t._getIndex(c,v,d);if(!(g===null||g===0)){console.log("GapJump  bufferRange ",c.start(g),c.end(g));var p=c.start(g)+.1,m=l.media.duration;if(!(p>m)){var w=p-v,_=w<=f;w<i.BROWSER_GAP_TOLERANCE||_&&(u.useGapJump!==!1&&(l.media.currentTime=t.isSafari?p+.1:p),t.player&&t.player.emit("detectGap"),console.log("gapJump gapIndex",g," isGapSamll:",_," currentTime:",l.media.currentTime," jumpSize:",v-l.media.currentTime),p!==.08&&l&&l.emit("log",{type:"oneevent",end_type:"gap",vid:l.config.vid,ext:{video_postion:Math.floor(p*1e3)}}))}}}}}),t}return F(i,[{key:"afterCreate",value:function(){var e=this,n=this.config.useGapJump;n!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(Et,this.onGapJump),this.on(ye,function(){e.hasPlayed=!0}),this.on(Jt,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,n,r){if(!e||!e.length||e.length===1&&e.end(0)-e.start(0)<1e-6)return null;for(var o=this._getBuffered(e),l=null,u=0;u<o.length;u++){var c=o[u];if(c.start>n&&(u===0||o[u-1].end-n<=r)){l=u;break}}return l}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var n=[],r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),i}(te);Gr.BROWSER_GAP_TOLERANCE=.001;var wh=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"onWaiting",function(){var o=b(t),l=o.config;t.jumpCnt>l.jumpCntMax||t.timer||l.useWaitingTimeoutJump===!1||(t.timer=setTimeout(t.onJump,l.waitingTime*1e3))}),E(b(t),"onJump",function(){var o=b(t),l=o.player,u=o.config;if(clearTimeout(t.timer),t.timer=null,!(t.jumpCnt>u.jumpCntMax||u.useWaitingTimeoutJump===!1)&&!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){t.jumpSize=u.jumpSize*(t.jumpCnt+1),t.jumpCnt===u.jumpSize&&t.jumpSize<6&&(t.jumpSize=6);var c=l.currentTime+t.jumpSize,f=l.media.duration;c>f||(t.jumpCnt++,l.currentTime=c)}}),t}return F(i,[{key:"afterCreate",value:function(){var e=this,n=this.config,r=n.useWaitingTimeoutJump,o=n.jumpSize;r!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=o,this.on(Et,this.onWaiting),this.on([Jn,Oe],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(ye,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),i}(te),ut="cdn",xt=["cdn"],Ph=function(a){z(i,a);var s=W(i);function i(){var t;N(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=s.call.apply(s,[this].concat(n)),E(b(t),"getSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut;if(!t.speedListCache||!t.speedListCache[o]||t.speedListCache[o].length<=0)return 0;var l=0;return t.speedListCache[o].map(function(u){l+=u}),Math.floor(l/t.speedListCache[o].length)}),E(b(t),"startTimer",function(){h.isMSE(t.player.video)||(t.initSpeedList(),t.cnt=0,t.timer=setTimeout(t.testSpeed,t.config.testTimeStep))}),E(b(t),"initSpeedList",function(){t.speedListCache={},xt.forEach(function(o){t.speedListCache[o]=[]})}),E(b(t),"_onRealSpeedChange",function(o){o.speed&&t.appendList(o.speed,o.type||ut)}),E(b(t),"testSpeed",function(){if(clearTimeout(t.timer),t.timer=null,!(!t.player||!t.config.openSpeed)){var o=t.config,l=o.url,u=o.loadSize,c=o.testCnt,f=o.testTimeStep,d=l+(l.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(t.cnt>=c)){t.cnt++;try{var v=new Date().getTime(),g=null,p=new XMLHttpRequest;t.xhr=p,p.open("GET",d);var m={},w=Math.floor(Math.random()*10);m.Range="bytes="+w+"-"+(u+w),m&&Object.keys(m).forEach(function(_){p.setRequestHeader(_,m[_])}),p.onreadystatechange=function(){if(p.readyState===4){t.xhr=null,g=new Date().getTime();var _=p.getResponseHeader("Content-Length")/1024*8,C=Math.round(_*1e3/(g-v));t.appendList(C),t.timer=setTimeout(t.testSpeed,f)}},p.send()}catch(_){console.error(_)}}}}),E(b(t),"appendList",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut;if(!(!t.speedListCache||!t.speedListCache[l])){var u=t.config.saveSpeedMax;t.speedListCache[l].length>=u&&t.speedListCache[l].shift(),t.speedListCache[l].push(o);var c=b(t),f=c.player;f&&(l===ut?f.realTimeSpeed=o:f[t.getSpeedName("realTime",l)]=o),t.updateSpeed(l)}}),E(b(t),"updateSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut,l=t.getSpeed(o),u=b(t),c=u.player;if(c)if(o===ut)(!c.avgSpeed||l!==c.avgSpeed)&&(c.avgSpeed=l,c.emit(Mn,{speed:l,realTimeSpeed:c.realTimeSpeed}));else{var f=t.getSpeedName("avg",o);(!c[f]||l!==c[f])&&(c[f]=l,c.emit(Mn,{speed:l,realTimeSpeed:c.realTimeSpeed}))}}),t}return F(i,[{key:"afterCreate",value:function(){var e=this.config,n=e.openSpeed,r=e.addSpeedTypeList;(r==null?void 0:r.length)>0&&xt.push.apply(xt,be(r)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,n&&this.on([Be,Rt],this.startTimer)}},{key:"getSpeedName",value:function(e,n){return e+"Speed"+n.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([Be,Rt],this.startTimer),xt.forEach(function(n){e.speedListCache&&e.speedListCache[n]&&(e.speedListCache[n]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),i}(te),Ih=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i,[{key:"afterCreate",value:function(){var e=this,n=this.player,r=this.config,o=n.media||n.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!r.disabled){var l=o.getVideoPlaybackQuality;l&&(this.on(ye,function(){e._startTick()}),this.on(dt,function(){e._stopTick()}),this.on(Qe,function(){e._stopTick()}),this.on(et,function(){e._stopTick()}))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,n){for(var r=!1,o=[],l=0;l<n.length;l++){var u=n.start(l),c=n.end(l);if(o.push({start:u,end:c}),u<=e&&e<=c-1){r=!0;break}}return{enoughBuffer:r,buffers:o}}},{key:"_checkStuck",value:function(e,n,r,o){var l=this.player.media||this.player.video,u=document.hidden,c=l.paused,f=l.readyState,d=l.currentTime,v=l.buffered;if(!(u||c||f<4)){var g=this._checkBuffer(d,v),p=g.enoughBuffer,m=g.buffers;p&&(e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:d,buffers:m,curDecodedFrames:e,totalVideoFrames:n,droppedVideoFrames:r,checkInterval:o}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(Fr,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var n=e.getVideoPlaybackQuality(),r=n.totalVideoFrames,o=n.droppedVideoFrames,l=performance.now();if(r&&this._lastCheckPoint){var u=r-this._lastDecodedFrames,c=l-this._lastCheckPoint;this._checkStuck(u,r,o,c)}this._lastDecodedFrames=r,this._lastCheckPoint=l}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),i}(te);ft.use(Sh);var xh=F(function a(s,i){var t,e,n;N(this,a);var r=i&&i.isMobileSimulateMode==="mobile",o=i.isLive,l=o?[]:[Gf,Bf,kh,yh,Wf],u=[].concat(l,[Hf,zf,Zf,ih,fh,hh,oh,lh,qf,th]),c=[yf,_f,bf,Rf,Cf,vh,ph,_h,wf];this.plugins=[Eh,pf].concat(be(u),c,[Gr,wh]);var f=r?"mobile":X.device;switch(f){case"pc":(t=this.plugins).push.apply(t,[Ki,_n,Xi,Ph,Ih]);break;case"mobile":(e=this.plugins).push.apply(e,[Df]);break;default:(n=this.plugins).push.apply(n,[Ki,_n,Xi])}(X.os.isIpad||f==="pc")&&this.plugins.push(Th),X.os.isIpad&&this.plugins.push(_n),this.ignores=[],this.i18n=[]}),Te=function(a){z(i,a);var s=W(i);function i(){return N(this,i),s.apply(this,arguments)}return F(i)}(tn);E(Te,"defaultPreset",xh);E(Te,"Util",h);E(Te,"Sniffer",X);E(Te,"Errors",Ot);E(Te,"Events",jc);E(Te,"Plugin",te);E(Te,"BasePlugin",Ge);E(Te,"I18N",ft);E(Te,"STATE_CLASS",x);E(Te,"InstManager",Ur);const Lh={id:"mse"},Ah=D({__name:"xgplayer",props:{url:{default:""},poster:{default:""}},setup(a){const s=a;return Ce(()=>{new Te({id:"mse",volume:0,lang:"zh",autoplay:!1,fluid:!0,controls:!0,leavePlayerTime:0,download:!0,keyShortcut:!0,url:s.url,poster:s.poster,start:{isShowPause:!0}})}),(i,t)=>(y(),T("div",Lh))}}),Dh=$(Ah,[["__scopeId","data-v-ada84321"]]),Mh="/RollCall-Website/djl.gif",Oh={},Rh={class:"panel"};function Nh(a,s){return y(),T("div",Rh,s[0]||(s[0]=[Is('<div class="container" data-v-d8976b29><section class="grid" data-v-d8976b29><span class="text" data-v-d8976b29> 本站总访问量 <span id="busuanzi_value_site_pv" class="font-bold" data-v-d8976b29>--</span> 次 </span><img src="'+Mh+'" alt="heart" width="100" height="100" data-v-d8976b29><span class="text" data-v-d8976b29> 本站访客数 <span id="busuanzi_value_site_uv" class="font-bold" data-v-d8976b29>--</span> 人次 </span></section></div>',1)]))}const Fh=$(Oh,[["render",Nh],["__scopeId","data-v-d8976b29"]]),Bh={class:"LastUpdated"},Hh=D({__name:"update",setup(a){const{page:s}=Hn(),i=j(()=>new Date(s.value.lastUpdated));return(t,e)=>(y(),T("div",Bh,[P("p",null,"更新时间: "+ee(i.value.toLocaleString()),1)]))}});var Kr={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},li={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},$h=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],zt={CSS:{},springs:{}};function Ie(a,s,i){return Math.min(Math.max(a,s),i)}function _t(a,s){return a.indexOf(s)>-1}function Tn(a,s){return a.apply(null,s)}var R={arr:function(a){return Array.isArray(a)},obj:function(a){return _t(Object.prototype.toString.call(a),"Object")},pth:function(a){return R.obj(a)&&a.hasOwnProperty("totalLength")},svg:function(a){return a instanceof SVGElement},inp:function(a){return a instanceof HTMLInputElement},dom:function(a){return a.nodeType||R.svg(a)},str:function(a){return typeof a=="string"},fnc:function(a){return typeof a=="function"},und:function(a){return typeof a>"u"},nil:function(a){return R.und(a)||a===null},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return R.hex(a)||R.rgb(a)||R.hsl(a)},key:function(a){return!Kr.hasOwnProperty(a)&&!li.hasOwnProperty(a)&&a!=="targets"&&a!=="keyframes"}};function Yr(a){var s=/\(([^)]+)\)/.exec(a);return s?s[1].split(",").map(function(i){return parseFloat(i)}):[]}function Xr(a,s){var i=Yr(a),t=Ie(R.und(i[0])?1:i[0],.1,100),e=Ie(R.und(i[1])?100:i[1],.1,100),n=Ie(R.und(i[2])?10:i[2],.1,100),r=Ie(R.und(i[3])?0:i[3],.1,100),o=Math.sqrt(e/t),l=n/(2*Math.sqrt(e*t)),u=l<1?o*Math.sqrt(1-l*l):0,c=1,f=l<1?(l*o+-r)/u:-r+o;function d(g){var p=s?s*g/1e3:g;return l<1?p=Math.exp(-p*l*o)*(c*Math.cos(u*p)+f*Math.sin(u*p)):p=(c+f*p)*Math.exp(-p*o),g===0||g===1?g:1-p}function v(){var g=zt.springs[a];if(g)return g;for(var p=1/6,m=0,w=0;;)if(m+=p,d(m)===1){if(w++,w>=16)break}else w=0;var _=m*p*1e3;return zt.springs[a]=_,_}return s?d:v}function Vh(a){return a===void 0&&(a=10),function(s){return Math.ceil(Ie(s,1e-6,1)*a)*(1/a)}}var Uh=function(){var a=11,s=1/(a-1);function i(c,f){return 1-3*f+3*c}function t(c,f){return 3*f-6*c}function e(c){return 3*c}function n(c,f,d){return((i(f,d)*c+t(f,d))*c+e(f))*c}function r(c,f,d){return 3*i(f,d)*c*c+2*t(f,d)*c+e(f)}function o(c,f,d,v,g){var p,m,w=0;do m=f+(d-f)/2,p=n(m,v,g)-c,p>0?d=m:f=m;while(Math.abs(p)>1e-7&&++w<10);return m}function l(c,f,d,v){for(var g=0;g<4;++g){var p=r(f,d,v);if(p===0)return f;var m=n(f,d,v)-c;f-=m/p}return f}function u(c,f,d,v){if(!(0<=c&&c<=1&&0<=d&&d<=1))return;var g=new Float32Array(a);if(c!==f||d!==v)for(var p=0;p<a;++p)g[p]=n(p*s,c,d);function m(w){for(var _=0,C=1,L=a-1;C!==L&&g[C]<=w;++C)_+=s;--C;var H=(w-g[C])/(g[C+1]-g[C]),M=_+H*s,U=r(M,c,d);return U>=.001?l(w,M,c,d):U===0?M:o(w,_,_+s,c,d)}return function(w){return c===f&&d===v||w===0||w===1?w:n(m(w),f,v)}}return u}(),qr=function(){var a={linear:function(){return function(t){return t}}},s={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Expo:function(){return function(t){return t?Math.pow(2,10*t-10):0}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((e*3-2)/22-t,2)}},Elastic:function(t,e){t===void 0&&(t=1),e===void 0&&(e=.5);var n=Ie(t,1,10),r=Ie(e,.1,2);return function(o){return o===0||o===1?o:-n*Math.pow(2,10*(o-1))*Math.sin((o-1-r/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/r)}}},i=["Quad","Cubic","Quart","Quint"];return i.forEach(function(t,e){s[t]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(s).forEach(function(t){var e=s[t];a["easeIn"+t]=e,a["easeOut"+t]=function(n,r){return function(o){return 1-e(n,r)(1-o)}},a["easeInOut"+t]=function(n,r){return function(o){return o<.5?e(n,r)(o*2)/2:1-e(n,r)(o*-2+2)/2}},a["easeOutIn"+t]=function(n,r){return function(o){return o<.5?(1-e(n,r)(1-o*2))/2:(e(n,r)(o*2-1)+1)/2}}}),a}();function ui(a,s){if(R.fnc(a))return a;var i=a.split("(")[0],t=qr[i],e=Yr(a);switch(i){case"spring":return Xr(a,s);case"cubicBezier":return Tn(Uh,e);case"steps":return Tn(Vh,e);default:return Tn(t,e)}}function Jr(a){try{var s=document.querySelectorAll(a);return s}catch{return}}function nn(a,s){for(var i=a.length,t=arguments.length>=2?arguments[1]:void 0,e=[],n=0;n<i;n++)if(n in a){var r=a[n];s.call(t,r,n,a)&&e.push(r)}return e}function rn(a){return a.reduce(function(s,i){return s.concat(R.arr(i)?rn(i):i)},[])}function Zi(a){return R.arr(a)?a:(R.str(a)&&(a=Jr(a)||a),a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a])}function ci(a,s){return a.some(function(i){return i===s})}function fi(a){var s={};for(var i in a)s[i]=a[i];return s}function Nn(a,s){var i=fi(a);for(var t in a)i[t]=s.hasOwnProperty(t)?s[t]:a[t];return i}function sn(a,s){var i=fi(a);for(var t in s)i[t]=R.und(a[t])?s[t]:a[t];return i}function jh(a){var s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(a);return s?"rgba("+s[1]+",1)":a}function zh(a){var s=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=a.replace(s,function(o,l,u,c){return l+l+u+u+c+c}),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),e=parseInt(t[1],16),n=parseInt(t[2],16),r=parseInt(t[3],16);return"rgba("+e+","+n+","+r+",1)"}function Wh(a){var s=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(a),i=parseInt(s[1],10)/360,t=parseInt(s[2],10)/100,e=parseInt(s[3],10)/100,n=s[4]||1;function r(d,v,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(v-d)*6*g:g<1/2?v:g<2/3?d+(v-d)*(2/3-g)*6:d}var o,l,u;if(t==0)o=l=u=e;else{var c=e<.5?e*(1+t):e+t-e*t,f=2*e-c;o=r(f,c,i+1/3),l=r(f,c,i),u=r(f,c,i-1/3)}return"rgba("+o*255+","+l*255+","+u*255+","+n+")"}function Gh(a){if(R.rgb(a))return jh(a);if(R.hex(a))return zh(a);if(R.hsl(a))return Wh(a)}function Ne(a){var s=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a);if(s)return s[1]}function Kh(a){if(_t(a,"translate")||a==="perspective")return"px";if(_t(a,"rotate")||_t(a,"skew"))return"deg"}function Fn(a,s){return R.fnc(a)?a(s.target,s.id,s.total):a}function xe(a,s){return a.getAttribute(s)}function hi(a,s,i){var t=Ne(s);if(ci([i,"deg","rad","turn"],t))return s;var e=zt.CSS[s+i];if(!R.und(e))return e;var n=100,r=document.createElement(a.tagName),o=a.parentNode&&a.parentNode!==document?a.parentNode:document.body;o.appendChild(r),r.style.position="absolute",r.style.width=n+i;var l=n/r.offsetWidth;o.removeChild(r);var u=l*parseFloat(s);return zt.CSS[s+i]=u,u}function Zr(a,s,i){if(s in a.style){var t=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=a.style[s]||getComputedStyle(a).getPropertyValue(t)||"0";return i?hi(a,e,i):e}}function di(a,s){if(R.dom(a)&&!R.inp(a)&&(!R.nil(xe(a,s))||R.svg(a)&&a[s]))return"attribute";if(R.dom(a)&&ci($h,s))return"transform";if(R.dom(a)&&s!=="transform"&&Zr(a,s))return"css";if(a[s]!=null)return"object"}function Qr(a){if(R.dom(a)){for(var s=a.style.transform||"",i=/(\w+)\(([^)]*)\)/g,t=new Map,e;e=i.exec(s);)t.set(e[1],e[2]);return t}}function Yh(a,s,i,t){var e=_t(s,"scale")?1:0+Kh(s),n=Qr(a).get(s)||e;return i&&(i.transforms.list.set(s,n),i.transforms.last=s),t?hi(a,n,t):n}function gi(a,s,i,t){switch(di(a,s)){case"transform":return Yh(a,s,t,i);case"css":return Zr(a,s,i);case"attribute":return xe(a,s);default:return a[s]||0}}function vi(a,s){var i=/^(\*=|\+=|-=)/.exec(a);if(!i)return a;var t=Ne(a)||0,e=parseFloat(s),n=parseFloat(a.replace(i[0],""));switch(i[0][0]){case"+":return e+n+t;case"-":return e-n+t;case"*":return e*n+t}}function es(a,s){if(R.col(a))return Gh(a);if(/\s/g.test(a))return a;var i=Ne(a),t=i?a.substr(0,a.length-i.length):a;return s?t+s:t}function pi(a,s){return Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2))}function Xh(a){return Math.PI*2*xe(a,"r")}function qh(a){return xe(a,"width")*2+xe(a,"height")*2}function Jh(a){return pi({x:xe(a,"x1"),y:xe(a,"y1")},{x:xe(a,"x2"),y:xe(a,"y2")})}function ts(a){for(var s=a.points,i=0,t,e=0;e<s.numberOfItems;e++){var n=s.getItem(e);e>0&&(i+=pi(t,n)),t=n}return i}function Zh(a){var s=a.points;return ts(a)+pi(s.getItem(s.numberOfItems-1),s.getItem(0))}function ns(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case"circle":return Xh(a);case"rect":return qh(a);case"line":return Jh(a);case"polyline":return ts(a);case"polygon":return Zh(a)}}function Qh(a){var s=ns(a);return a.setAttribute("stroke-dasharray",s),s}function ed(a){for(var s=a.parentNode;R.svg(s)&&R.svg(s.parentNode);)s=s.parentNode;return s}function is(a,s){var i=s||{},t=i.el||ed(a),e=t.getBoundingClientRect(),n=xe(t,"viewBox"),r=e.width,o=e.height,l=i.viewBox||(n?n.split(" "):[0,0,r,o]);return{el:t,viewBox:l,x:l[0]/1,y:l[1]/1,w:r,h:o,vW:l[2],vH:l[3]}}function td(a,s){var i=R.str(a)?Jr(a)[0]:a,t=s||100;return function(e){return{property:e,el:i,svg:is(i),totalLength:ns(i)*(t/100)}}}function nd(a,s,i){function t(c){c===void 0&&(c=0);var f=s+c>=1?s+c:0;return a.el.getPointAtLength(f)}var e=is(a.el,a.svg),n=t(),r=t(-1),o=t(1),l=i?1:e.w/e.vW,u=i?1:e.h/e.vH;switch(a.property){case"x":return(n.x-e.x)*l;case"y":return(n.y-e.y)*u;case"angle":return Math.atan2(o.y-r.y,o.x-r.x)*180/Math.PI}}function Qi(a,s){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=es(R.pth(a)?a.totalLength:a,s)+"";return{original:t,numbers:t.match(i)?t.match(i).map(Number):[0],strings:R.str(a)||s?t.split(i):[]}}function mi(a){var s=a?rn(R.arr(a)?a.map(Zi):Zi(a)):[];return nn(s,function(i,t,e){return e.indexOf(i)===t})}function rs(a){var s=mi(a);return s.map(function(i,t){return{target:i,id:t,total:s.length,transforms:{list:Qr(i)}}})}function id(a,s){var i=fi(s);if(/^spring/.test(i.easing)&&(i.duration=Xr(i.easing)),R.arr(a)){var t=a.length,e=t===2&&!R.obj(a[0]);e?a={value:a}:R.fnc(s.duration)||(i.duration=s.duration/t)}var n=R.arr(a)?a:[a];return n.map(function(r,o){var l=R.obj(r)&&!R.pth(r)?r:{value:r};return R.und(l.delay)&&(l.delay=o?0:s.delay),R.und(l.endDelay)&&(l.endDelay=o===n.length-1?s.endDelay:0),l}).map(function(r){return sn(r,i)})}function rd(a){for(var s=nn(rn(a.map(function(n){return Object.keys(n)})),function(n){return R.key(n)}).reduce(function(n,r){return n.indexOf(r)<0&&n.push(r),n},[]),i={},t=function(n){var r=s[n];i[r]=a.map(function(o){var l={};for(var u in o)R.key(u)?u==r&&(l.value=o[u]):l[u]=o[u];return l})},e=0;e<s.length;e++)t(e);return i}function sd(a,s){var i=[],t=s.keyframes;t&&(s=sn(rd(t),s));for(var e in s)R.key(e)&&i.push({name:e,tweens:id(s[e],a)});return i}function ad(a,s){var i={};for(var t in a){var e=Fn(a[t],s);R.arr(e)&&(e=e.map(function(n){return Fn(n,s)}),e.length===1&&(e=e[0])),i[t]=e}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function od(a,s){var i;return a.tweens.map(function(t){var e=ad(t,s),n=e.value,r=R.arr(n)?n[1]:n,o=Ne(r),l=gi(s.target,a.name,o,s),u=i?i.to.original:l,c=R.arr(n)?n[0]:u,f=Ne(c)||Ne(l),d=o||f;return R.und(r)&&(r=u),e.from=Qi(c,d),e.to=Qi(vi(r,c),d),e.start=i?i.end:0,e.end=e.start+e.delay+e.duration+e.endDelay,e.easing=ui(e.easing,e.duration),e.isPath=R.pth(n),e.isPathTargetInsideSVG=e.isPath&&R.svg(s.target),e.isColor=R.col(e.from.original),e.isColor&&(e.round=1),i=e,e})}var ss={css:function(a,s,i){return a.style[s]=i},attribute:function(a,s,i){return a.setAttribute(s,i)},object:function(a,s,i){return a[s]=i},transform:function(a,s,i,t,e){if(t.list.set(s,i),s===t.last||e){var n="";t.list.forEach(function(r,o){n+=o+"("+r+") "}),a.style.transform=n}}};function as(a,s){var i=rs(a);i.forEach(function(t){for(var e in s){var n=Fn(s[e],t),r=t.target,o=Ne(n),l=gi(r,e,o,t),u=o||Ne(l),c=vi(es(n,u),l),f=di(r,e);ss[f](r,e,c,t.transforms,!0)}})}function ld(a,s){var i=di(a.target,s.name);if(i){var t=od(s,a),e=t[t.length-1];return{type:i,property:s.name,animatable:a,tweens:t,duration:e.end,delay:t[0].delay,endDelay:e.endDelay}}}function ud(a,s){return nn(rn(a.map(function(i){return s.map(function(t){return ld(i,t)})})),function(i){return!R.und(i)})}function os(a,s){var i=a.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},e={};return e.duration=i?Math.max.apply(Math,a.map(function(n){return t(n)+n.duration})):s.duration,e.delay=i?Math.min.apply(Math,a.map(function(n){return t(n)+n.delay})):s.delay,e.endDelay=i?e.duration-Math.max.apply(Math,a.map(function(n){return t(n)+n.duration-n.endDelay})):s.endDelay,e}var er=0;function cd(a){var s=Nn(Kr,a),i=Nn(li,a),t=sd(i,a),e=rs(a.targets),n=ud(e,t),r=os(n,i),o=er;return er++,sn(s,{id:o,children:[],animatables:e,animations:n,duration:r.duration,delay:r.delay,endDelay:r.endDelay})}var ke=[],ls=function(){var a;function s(){!a&&(!tr()||!q.suspendWhenDocumentHidden)&&ke.length>0&&(a=requestAnimationFrame(i))}function i(e){for(var n=ke.length,r=0;r<n;){var o=ke[r];o.paused?(ke.splice(r,1),n--):(o.tick(e),r++)}a=r>0?requestAnimationFrame(i):void 0}function t(){q.suspendWhenDocumentHidden&&(tr()?a=cancelAnimationFrame(a):(ke.forEach(function(e){return e._onDocumentVisibility()}),ls()))}return typeof document<"u"&&document.addEventListener("visibilitychange",t),s}();function tr(){return!!document&&document.hidden}function q(a){a===void 0&&(a={});var s=0,i=0,t=0,e,n=0,r=null;function o(_){var C=window.Promise&&new Promise(function(L){return r=L});return _.finished=C,C}var l=cd(a);o(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,e.forEach(function(C){return C.reversed=l.reversed})}function c(_){return l.reversed?l.duration-_:_}function f(){s=0,i=c(l.currentTime)*(1/q.speed)}function d(_,C){C&&C.seek(_-C.timelineOffset)}function v(_){if(l.reversePlayback)for(var L=n;L--;)d(_,e[L]);else for(var C=0;C<n;C++)d(_,e[C])}function g(_){for(var C=0,L=l.animations,H=L.length;C<H;){var M=L[C],U=M.animatable,le=M.tweens,se=le.length-1,V=le[se];se&&(V=nn(le,function(gs){return _<gs.end})[0]||V);for(var ue=Ie(_-V.start-V.delay,0,V.duration)/V.duration,ce=isNaN(ue)?1:V.easing(ue),ae=V.to.strings,_e=V.round,an=[],ds=V.to.numbers.length,nt=void 0,gt=0;gt<ds;gt++){var vt=void 0,yi=V.to.numbers[gt],_i=V.from.numbers[gt]||0;V.isPath?vt=nd(V.value,ce*yi,V.isPathTargetInsideSVG):vt=_i+ce*(yi-_i),_e&&(V.isColor&&gt>2||(vt=Math.round(vt*_e)/_e)),an.push(vt)}var ki=ae.length;if(!ki)nt=an[0];else{nt=ae[0];for(var pt=0;pt<ki;pt++){ae[pt];var bi=ae[pt+1],on=an[pt];isNaN(on)||(bi?nt+=on+bi:nt+=on+" ")}}ss[M.type](U.target,M.property,nt,U.transforms),M.currentValue=nt,C++}}function p(_){l[_]&&!l.passThrough&&l[_](l)}function m(){l.remaining&&l.remaining!==!0&&l.remaining--}function w(_){var C=l.duration,L=l.delay,H=C-l.endDelay,M=c(_);l.progress=Ie(M/C*100,0,100),l.reversePlayback=M<l.currentTime,e&&v(M),!l.began&&l.currentTime>0&&(l.began=!0,p("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,p("loopBegin")),M<=L&&l.currentTime!==0&&g(0),(M>=H&&l.currentTime!==C||!C)&&g(C),M>L&&M<H?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,p("changeBegin")),p("change"),g(M)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,p("changeComplete")),l.currentTime=Ie(M,0,C),l.began&&p("update"),_>=C&&(i=0,m(),l.remaining?(s=t,p("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,p("loopComplete"),p("complete"),!l.passThrough&&"Promise"in window&&(r(),o(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,e=l.children,n=e.length;for(var C=n;C--;)l.children[C].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(_,C){return as(_,C),l},l.tick=function(_){t=_,s||(s=t),w((t+(i-s))*q.speed)},l.seek=function(_){w(c(_))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,ke.push(l),f(),ls())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var C=mi(_);us(C,l)},l.reset(),l.autoplay&&l.play(),l}function nr(a,s){for(var i=s.length;i--;)ci(a,s[i].animatable.target)&&s.splice(i,1)}function us(a,s){var i=s.animations,t=s.children;nr(a,i);for(var e=t.length;e--;){var n=t[e],r=n.animations;nr(a,r),!r.length&&!n.children.length&&t.splice(e,1)}!i.length&&!t.length&&s.pause()}function fd(a){for(var s=mi(a),i=ke.length;i--;){var t=ke[i];us(s,t)}}function hd(a,s){s===void 0&&(s={});var i=s.direction||"normal",t=s.easing?ui(s.easing):null,e=s.grid,n=s.axis,r=s.from||0,o=r==="first",l=r==="center",u=r==="last",c=R.arr(a),f=parseFloat(c?a[0]:a),d=c?parseFloat(a[1]):0,v=Ne(c?a[1]:a)||0,g=s.start||0+(c?f:0),p=[],m=0;return function(w,_,C){if(o&&(r=0),l&&(r=(C-1)/2),u&&(r=C-1),!p.length){for(var L=0;L<C;L++){if(!e)p.push(Math.abs(r-L));else{var H=l?(e[0]-1)/2:r%e[0],M=l?(e[1]-1)/2:Math.floor(r/e[0]),U=L%e[0],le=Math.floor(L/e[0]),se=H-U,V=M-le,ue=Math.sqrt(se*se+V*V);n==="x"&&(ue=-se),n==="y"&&(ue=-V),p.push(ue)}m=Math.max.apply(Math,p)}t&&(p=p.map(function(ae){return t(ae/m)*m})),i==="reverse"&&(p=p.map(function(ae){return n?ae<0?ae*-1:-ae:Math.abs(m-ae)}))}var ce=c?(d-f)/m:f;return g+ce*(Math.round(p[_]*100)/100)+v}}function dd(a){a===void 0&&(a={});var s=q(a);return s.duration=0,s.add=function(i,t){var e=ke.indexOf(s),n=s.children;e>-1&&ke.splice(e,1);function r(d){d.passThrough=!0}for(var o=0;o<n.length;o++)r(n[o]);var l=sn(i,Nn(li,a));l.targets=l.targets||a.targets;var u=s.duration;l.autoplay=!1,l.direction=s.direction,l.timelineOffset=R.und(t)?u:vi(t,u),r(s),s.seek(l.timelineOffset);var c=q(l);r(c),n.push(c);var f=os(n,a);return s.delay=f.delay,s.endDelay=f.endDelay,s.duration=f.duration,s.seek(0),s.reset(),s.autoplay&&s.play(),s},s}q.version="3.2.1";q.speed=1;q.suspendWhenDocumentHidden=!0;q.running=ke;q.remove=fd;q.get=gi;q.set=as;q.convertPx=hi;q.path=td;q.setDashoffset=Qh;q.stagger=hd;q.timeline=dd;q.easing=ui;q.penner=qr;q.random=function(a,s){return Math.floor(Math.random()*(s-a+1))+a};const gd={__name:"MouseClick",setup(a){const s=Q(null);return Ce(()=>{const i=s.value,t=i.getContext("2d");let e=20,n=0,r=0;const o="ontouchstart"in globalThis||navigator.msMaxTouchPoints?"touchstart":"mousedown",l=["#FF1461","#18FF92","#5A87FF","#FBF38C"];function u(){i.width=globalThis.innerWidth*2,i.height=globalThis.innerHeight*2,i.style.width=globalThis.innerWidth+"px",i.style.height=globalThis.innerHeight+"px",i.getContext("2d").scale(2,2)}function c(_){n=_.clientX||_.touches[0].clientX,r=_.clientY||_.touches[0].clientY}function f(_){const C=q.random(0,360)*Math.PI/180,L=q.random(20,90),H=[-1,1][q.random(0,1)]*L;return{x:_.x+H*Math.cos(C),y:_.y+H*Math.sin(C)}}function d(_,C){const L={};return L.x=_,L.y=C,L.color=l[q.random(0,l.length-1)],L.radius=q.random(8,16),L.endPos=f(L),L.draw=function(){t.beginPath(),t.arc(L.x,L.y,L.radius,0,2*Math.PI,!0),t.fillStyle=L.color,t.fill()},L}function v(_,C){const L={};return L.x=_,L.y=C,L.color="#FFF",L.radius=.1,L.alpha=.5,L.lineWidth=6,L.draw=function(){t.globalAlpha=L.alpha,t.beginPath(),t.arc(L.x,L.y,L.radius,0,2*Math.PI,!0),t.lineWidth=L.lineWidth,t.strokeStyle=L.color,t.stroke(),t.globalAlpha=1},L}function g(_){for(let C=0;C<_.animatables.length;C++)_.animatables[C].target.draw()}function p(_,C){const L=v(_,C),H=[];for(let M=0;M<e;M++)H.push(d(_,C));q.timeline().add({targets:H,x:function(M){return M.endPos.x},y:function(M){return M.endPos.y},radius:.1,duration:q.random(1200,1800),easing:"easeOutExpo",update:g}).add({targets:L,radius:q.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:q.random(600,800)},duration:q.random(1200,1800),easing:"easeOutExpo",update:g,offset:0})}function m(_,C){const L=q.random(50,90),H=l[q.random(0,l.length-1)],M={x:_,y:C,radius:0,color:H,alpha:1,draw:function(){t.globalAlpha=this.alpha,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.fillStyle=this.color,t.fill(),t.globalAlpha=1}};q({targets:M,radius:L,alpha:0,duration:1e3,easing:"easeOutExpo",update:function(){M.draw()}})}const w=q({duration:1/0,update:function(){t.clearRect(0,0,i.width,i.height)}});document.addEventListener(o,function(_){w.play(),c(_),p(n,r),m(n,r)},!1),u(),globalThis.addEventListener("resize",u,!1)}),bt(()=>{globalThis.removeEventListener("resize",setCanvasSize),document.removeEventListener(tap,handleTap)}),(i,t)=>(y(),T("canvas",{ref_key:"canvas",ref:s,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},vd={__name:"MouseFollower",setup(a){const s=Q(null);let i=null,t=[],e={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},n={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},r={x:(globalThis==null?void 0:globalThis.innerWidth)/2,y:(globalThis==null?void 0:globalThis.innerHeight)/2},o=null;class l{constructor(){this.reset()}reset(){this.angle=Math.random()*Math.PI*2,this.radius=Math.random()*40+25,this.speed=(Math.random()*2+2)*.01,this.size=Math.random()*3+1,this.hue=Math.random()*360,this.clockwise=Math.random()>.5,this.offsetX=(Math.random()-.5)*10,this.offsetY=(Math.random()-.5)*10,this.life=Math.random()*.5+.5,this.maxLife=this.life,this.trail=[],this.trailLength=Math.floor(Math.random()*3)+2}update(){this.angle+=this.speed*(this.clockwise?1:-1);const p=e.x+Math.cos(this.angle)*this.radius+this.offsetX,m=e.y+Math.sin(this.angle)*this.radius+this.offsetY;this.x||(this.x=p,this.y=m);const w=p-this.x,_=m-this.y;this.x+=w*.15,this.y+=_*.15,this.trail.unshift({x:this.x,y:this.y}),this.trail.length>this.trailLength&&this.trail.pop(),this.life-=.002,this.life<=0&&this.reset()}draw(){if(!i)return;const p=this.life/this.maxLife;if(this.trail.length>1){i.beginPath(),i.moveTo(this.trail[0].x,this.trail[0].y);for(let m=1;m<this.trail.length;m++){const w=this.trail[m];i.lineTo(w.x,w.y)}i.strokeStyle=`hsla(${this.hue}, 70%, 60%, ${p*.5})`,i.lineWidth=this.size,i.lineCap="round",i.stroke()}i.fillStyle=`hsla(${this.hue}, 70%, 60%, ${p})`,i.beginPath(),i.arc(this.x,this.y,this.size*.5,0,Math.PI*2),i.fill()}}function u(){const g=n.x-e.x,p=n.y-e.y,m=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),w=Math.min(.15,.15/(1+m*.005));e.x+=g*w,e.y+=p*w,r.x=e.x,r.y=e.y}function c(g){const p=s.value.getBoundingClientRect();n.x=g.clientX-p.left,n.y=g.clientY-p.top}function f(){!i||!s.value||(i.clearRect(0,0,s.value.width,s.value.height),u(),t.length<25&&Math.random()<.1&&t.push(new l),t.forEach(g=>{g.update(),g.draw()}),o=requestAnimationFrame(f))}function d(){s.value&&(s.value.width=globalThis.innerWidth,s.value.height=globalThis.innerHeight)}function v(){t=[];const g=Math.floor(Math.random()*4)+12;for(let p=0;p<g;p++)t.push(new l)}return Ce(()=>{typeof globalThis<"u"&&(i=s.value.getContext("2d"),d(),v(),globalThis.addEventListener("resize",d),globalThis.addEventListener("mousemove",c),f())}),bt(()=>{typeof globalThis<"u"&&(globalThis.removeEventListener("resize",d),globalThis.removeEventListener("mousemove",c),o&&cancelAnimationFrame(o))}),(g,p)=>(y(),T("canvas",{ref_key:"canvas",ref:s,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},pd=$(vd,[["__scopeId","data-v-9b353615"]]),md=D({__name:"MyLayout",setup(a){const{isDark:s}=Hn(),i=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;return jn("toggle-appearance",async({clientX:t,clientY:e})=>{if(!i()){s.value=!s.value;return}const n=[`circle(0px at ${t}px ${e}px)`,`circle(${Math.hypot(Math.max(t,innerWidth-t),Math.max(e,innerHeight-e))}px at ${t}px ${e}px)`];await document.startViewTransition(async()=>{s.value=!s.value,await Un()}).ready,document.documentElement.animate({clipPath:s.value?n.reverse():n},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${s.value?"old":"new"}(root)`})}),(t,e)=>(y(),B(k(vr).Layout,null,{"layout-top":I(()=>[O(pd),O(gd)]),default:I(()=>[e[0]||(e[0]=De(" ... ")),e[1]||(e[1]=De(" ... "))]),_:1}))}});var cs,ht,Se,fs,Sn,ir,ct,Lt=!1,At=[];typeof document<"u"&&(fs=function(a){return Lt||document.readyState==="interactive"||document.readyState==="complete"?a.call(document):At.push(function(){return a.call(this)}),this},ir=function(){for(var a=0,s=At.length;a<s;a++)At[a].apply(document);At=[]},ct=function(){Lt||(Lt=!0,ir.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",ct,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",ct),window==window.top&&(clearInterval(Sn),Sn=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",ct,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&ct()}),window==window.top&&(Sn=setInterval(function(){try{Lt||document.documentElement.doScroll("left")}catch{return}ct()},5))));cs={fetch:function(a,s){var i="BusuanziCallback_"+Math.floor(1099511627776*Math.random());a=a.replace("=BusuanziCallback","="+i),Se=document.createElement("SCRIPT"),Se.type="text/javascript",Se.defer=!0,Se.src=a,document.getElementsByTagName("HEAD")[0].appendChild(Se),window[i]=this.evalCall(s)},evalCall:function(a){return function(s){fs(function(){try{a(s),Se&&Se.parentElement&&Se.parentElement.removeChild&&Se.parentElement.removeChild(Se)}catch(i){console.log(i),ht.hides()}})}}};const hs=()=>{ht&&ht.hides(),cs.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(a){ht.texts(a),ht.shows()})};ht={bszs:["site_pv","page_pv","site_uv"],texts:function(a){this.bszs.map(function(s){var i=document.getElementById("busuanzi_value_"+s);i&&(i.innerHTML=a[s])})},hides:function(){this.bszs.map(function(a){var s=document.getElementById("busuanzi_container_"+a);s&&(s.style.display="none")})},shows:function(){this.bszs.map(function(a){var s=document.getElementById("busuanzi_container_"+a);s&&(s.style.display="inline")})}};typeof document<"u"&&hs();var yd={fetch:hs},_d=yd;const kd=qt(_d),Cd={extends:vr,Layout:md,enhanceApp({app:a,router:s}){Ct&&(s.onAfterRouteChanged=()=>{kd.fetch()}),a.component("Mycomponent",uc),a.component("Linkcard",vc),a.component("xgplayer",Dh),a.component("DataPanel",Fh),a.component("update",Hh)}};export{Cd as R,Wl as c,Y as u};
